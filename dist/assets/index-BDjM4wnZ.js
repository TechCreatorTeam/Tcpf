function Sp(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const l=Object.getOwnPropertyDescriptor(a,n);l&&Object.defineProperty(e,n,l.get?l:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}})();var qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Cp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),s}var Q0={exports:{}},ho={},Y0={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var On=Symbol.for("react.element"),Pp=Symbol.for("react.portal"),Ep=Symbol.for("react.fragment"),Tp=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),Dp=Symbol.for("react.provider"),$p=Symbol.for("react.context"),Ip=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Ap=Symbol.for("react.memo"),Lp=Symbol.for("react.lazy"),ru=Symbol.iterator;function Mp(e){return e===null||typeof e!="object"?null:(e=ru&&e[ru]||e["@@iterator"],typeof e=="function"?e:null)}var X0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z0=Object.assign,em={};function xa(e,t,s){this.props=e,this.context=t,this.refs=em,this.updater=s||X0}xa.prototype.isReactComponent={};xa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tm(){}tm.prototype=xa.prototype;function Hc(e,t,s){this.props=e,this.context=t,this.refs=em,this.updater=s||X0}var Kc=Hc.prototype=new tm;Kc.constructor=Hc;Z0(Kc,xa.prototype);Kc.isPureReactComponent=!0;var su=Array.isArray,rm=Object.prototype.hasOwnProperty,Gc={current:null},sm={key:!0,ref:!0,__self:!0,__source:!0};function am(e,t,s){var a,n={},l=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)rm.call(t,a)&&!sm.hasOwnProperty(a)&&(n[a]=t[a]);var i=arguments.length-2;if(i===1)n.children=s;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in i=e.defaultProps,i)n[a]===void 0&&(n[a]=i[a]);return{$$typeof:On,type:e,key:l,ref:o,props:n,_owner:Gc.current}}function Up(e,t){return{$$typeof:On,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jc(e){return typeof e=="object"&&e!==null&&e.$$typeof===On}function Fp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var au=/\/+/g;function Yo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fp(""+e.key):t.toString(36)}function yl(e,t,s,a,n){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case On:case Pp:o=!0}}if(o)return o=e,n=n(o),e=a===""?"."+Yo(o,0):a,su(n)?(s="",e!=null&&(s=e.replace(au,"$&/")+"/"),yl(n,t,s,"",function(d){return d})):n!=null&&(Jc(n)&&(n=Up(n,s+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(au,"$&/")+"/")+e)),t.push(n)),1;if(o=0,a=a===""?".":a+":",su(e))for(var i=0;i<e.length;i++){l=e[i];var c=a+Yo(l,i);o+=yl(l,t,s,c,n)}else if(c=Mp(e),typeof c=="function")for(e=c.call(e),i=0;!(l=e.next()).done;)l=l.value,c=a+Yo(l,i++),o+=yl(l,t,s,c,n);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Jn(e,t,s){if(e==null)return e;var a=[],n=0;return yl(e,a,"","",function(l){return t.call(s,l,n++)}),a}function zp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},vl={transition:null},Bp={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:vl,ReactCurrentOwner:Gc};function nm(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Jn,forEach:function(e,t,s){Jn(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Jn(e,function(){t++}),t},toArray:function(e){return Jn(e,function(t){return t})||[]},only:function(e){if(!Jc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=xa;fe.Fragment=Ep;fe.Profiler=Rp;fe.PureComponent=Hc;fe.StrictMode=Tp;fe.Suspense=Op;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bp;fe.act=nm;fe.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Z0({},e.props),n=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Gc.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)rm.call(t,c)&&!sm.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=s;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];a.children=i}return{$$typeof:On,type:e.type,key:n,ref:l,props:a,_owner:o}};fe.createContext=function(e){return e={$$typeof:$p,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dp,_context:e},e.Consumer=e};fe.createElement=am;fe.createFactory=function(e){var t=am.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:Ip,render:e}};fe.isValidElement=Jc;fe.lazy=function(e){return{$$typeof:Lp,_payload:{_status:-1,_result:e},_init:zp}};fe.memo=function(e,t){return{$$typeof:Ap,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=vl.transition;vl.transition={};try{e()}finally{vl.transition=t}};fe.unstable_act=nm;fe.useCallback=function(e,t){return vt.current.useCallback(e,t)};fe.useContext=function(e){return vt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return vt.current.useEffect(e,t)};fe.useId=function(){return vt.current.useId()};fe.useImperativeHandle=function(e,t,s){return vt.current.useImperativeHandle(e,t,s)};fe.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return vt.current.useMemo(e,t)};fe.useReducer=function(e,t,s){return vt.current.useReducer(e,t,s)};fe.useRef=function(e){return vt.current.useRef(e)};fe.useState=function(e){return vt.current.useState(e)};fe.useSyncExternalStore=function(e,t,s){return vt.current.useSyncExternalStore(e,t,s)};fe.useTransition=function(){return vt.current.useTransition()};fe.version="18.3.1";Y0.exports=fe;var g=Y0.exports;const be=J0(g),qp=Sp({__proto__:null,default:be},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=g,Wp=Symbol.for("react.element"),Hp=Symbol.for("react.fragment"),Kp=Object.prototype.hasOwnProperty,Gp=Vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jp={key:!0,ref:!0,__self:!0,__source:!0};function lm(e,t,s){var a,n={},l=null,o=null;s!==void 0&&(l=""+s),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)Kp.call(t,a)&&!Jp.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:Wp,type:e,key:l,ref:o,props:n,_owner:Gp.current}}ho.Fragment=Hp;ho.jsx=lm;ho.jsxs=lm;Q0.exports=ho;var r=Q0.exports,om={exports:{}},At={},im={exports:{}},cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,O){var N=_.length;_.push(O);e:for(;0<N;){var C=N-1>>>1,U=_[C];if(0<n(U,O))_[C]=O,_[N]=U,N=C;else break e}}function s(_){return _.length===0?null:_[0]}function a(_){if(_.length===0)return null;var O=_[0],N=_.pop();if(N!==O){_[0]=N;e:for(var C=0,U=_.length,W=U>>>1;C<W;){var ee=2*(C+1)-1,ne=_[ee],pe=ee+1,te=_[pe];if(0>n(ne,N))pe<U&&0>n(te,ne)?(_[C]=te,_[pe]=N,C=pe):(_[C]=ne,_[ee]=N,C=ee);else if(pe<U&&0>n(te,N))_[C]=te,_[pe]=N,C=pe;else break e}}return O}function n(_,O){var N=_.sortIndex-O.sortIndex;return N!==0?N:_.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],d=[],u=1,m=null,f=3,x=!1,v=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(_){for(var O=s(d);O!==null;){if(O.callback===null)a(d);else if(O.startTime<=_)a(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=s(d)}}function w(_){if(y=!1,b(_),!v)if(s(c)!==null)v=!0,$(P);else{var O=s(d);O!==null&&D(w,O.startTime-_)}}function P(_,O){v=!1,y&&(y=!1,h(I),I=-1),x=!0;var N=f;try{for(b(O),m=s(c);m!==null&&(!(m.expirationTime>O)||_&&!V());){var C=m.callback;if(typeof C=="function"){m.callback=null,f=m.priorityLevel;var U=C(m.expirationTime<=O);O=e.unstable_now(),typeof U=="function"?m.callback=U:m===s(c)&&a(c),b(O)}else a(c);m=s(c)}if(m!==null)var W=!0;else{var ee=s(d);ee!==null&&D(w,ee.startTime-O),W=!1}return W}finally{m=null,f=N,x=!1}}var A=!1,L=null,I=-1,B=5,M=-1;function V(){return!(e.unstable_now()-M<B)}function q(){if(L!==null){var _=e.unstable_now();M=_;var O=!0;try{O=L(!0,_)}finally{O?me():(A=!1,L=null)}}else A=!1}var me;if(typeof p=="function")me=function(){p(q)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Y=we.port2;we.port1.onmessage=q,me=function(){Y.postMessage(null)}}else me=function(){k(q,0)};function $(_){L=_,A||(A=!0,me())}function D(_,O){I=k(function(){_(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,$(P))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var N=f;f=O;try{return _()}finally{f=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,O){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var N=f;f=_;try{return O()}finally{f=N}},e.unstable_scheduleCallback=function(_,O,N){var C=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?C+N:C):N=C,_){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,_={id:u++,callback:O,priorityLevel:_,startTime:N,expirationTime:U,sortIndex:-1},N>C?(_.sortIndex=N,t(d,_),s(c)===null&&_===s(d)&&(y?(h(I),I=-1):y=!0,D(w,N-C))):(_.sortIndex=U,t(c,_),v||x||(v=!0,$(P))),_},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(_){var O=f;return function(){var N=f;f=O;try{return _.apply(this,arguments)}finally{f=N}}}})(cm);im.exports=cm;var Qp=im.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp=g,Ot=Qp;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dm=new Set,un={};function _s(e,t){la(e,t),la(e+"Capture",t)}function la(e,t){for(un[e]=t,e=0;e<t.length;e++)dm.add(t[e])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Di=Object.prototype.hasOwnProperty,Xp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nu={},lu={};function Zp(e){return Di.call(lu,e)?!0:Di.call(nu,e)?!1:Xp.test(e)?lu[e]=!0:(nu[e]=!0,!1)}function ex(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tx(e,t,s,a){if(t===null||typeof t>"u"||ex(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(e,t,s,a,n,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mt[e]=new wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mt[t]=new wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mt[e]=new wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mt[e]=new wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mt[e]=new wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mt[e]=new wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mt[e]=new wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mt[e]=new wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mt[e]=new wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qc=/[\-:]([a-z])/g;function Yc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qc,Yc);mt[t]=new wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qc,Yc);mt[t]=new wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qc,Yc);mt[t]=new wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mt[e]=new wt(e,1,!1,e.toLowerCase(),null,!1,!1)});mt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mt[e]=new wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xc(e,t,s,a){var n=mt.hasOwnProperty(t)?mt[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tx(t,s,n,a)&&(s=null),a||n===null?Zp(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(t=n.attributeName,a=n.attributeNamespace,s===null?e.removeAttribute(t):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var kr=Yp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qn=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),Zc=Symbol.for("react.strict_mode"),$i=Symbol.for("react.profiler"),um=Symbol.for("react.provider"),mm=Symbol.for("react.context"),ed=Symbol.for("react.forward_ref"),Ii=Symbol.for("react.suspense"),Oi=Symbol.for("react.suspense_list"),td=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),hm=Symbol.for("react.offscreen"),ou=Symbol.iterator;function Ta(e){return e===null||typeof e!="object"?null:(e=ou&&e[ou]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,Xo;function Ba(e){if(Xo===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Xo=t&&t[1]||""}return`
`+Xo+e}var Zo=!1;function ei(e,t){if(!e||Zo)return"";Zo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),l=a.stack.split(`
`),o=n.length-1,i=l.length-1;1<=o&&0<=i&&n[o]!==l[i];)i--;for(;1<=o&&0<=i;o--,i--)if(n[o]!==l[i]){if(o!==1||i!==1)do if(o--,i--,0>i||n[o]!==l[i]){var c=`
`+n[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{Zo=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ba(e):""}function rx(e){switch(e.tag){case 5:return Ba(e.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 2:case 15:return e=ei(e.type,!1),e;case 11:return e=ei(e.type.render,!1),e;case 1:return e=ei(e.type,!0),e;default:return""}}function Ai(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ms:return"Fragment";case Ls:return"Portal";case $i:return"Profiler";case Zc:return"StrictMode";case Ii:return"Suspense";case Oi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mm:return(e.displayName||"Context")+".Consumer";case um:return(e._context.displayName||"Context")+".Provider";case ed:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case td:return t=e.displayName||null,t!==null?t:Ai(e.type)||"Memo";case Tr:t=e._payload,e=e._init;try{return Ai(e(t))}catch{}}return null}function sx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ai(t);case 8:return t===Zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ax(e){var t=fm(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yn(e){e._valueTracker||(e._valueTracker=ax(e))}function pm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=fm(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function Dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Li(e,t){var s=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function iu(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=Jr(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xm(e,t){t=t.checked,t!=null&&Xc(e,"checked",t,!1)}function Mi(e,t){xm(e,t);var s=Jr(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ui(e,t.type,s):t.hasOwnProperty("defaultValue")&&Ui(e,t.type,Jr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cu(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ui(e,t,s){(t!=="number"||Dl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var qa=Array.isArray;function Js(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Jr(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Fi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function du(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(F(92));if(qa(s)){if(1<s.length)throw Error(F(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Jr(s)}}function gm(e,t){var s=Jr(t.value),a=Jr(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function uu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xn,ym=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nx=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(e){nx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ka[t]=Ka[e]})});function vm(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Ka.hasOwnProperty(e)&&Ka[e]?(""+t).trim():t+"px"}function wm(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,n=vm(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}var lx=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bi(e,t){if(t){if(lx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function qi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vi=null;function rd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wi=null,Qs=null,Ys=null;function mu(e){if(e=Mn(e)){if(typeof Wi!="function")throw Error(F(280));var t=e.stateNode;t&&(t=bo(t),Wi(e.stateNode,e.type,t))}}function km(e){Qs?Ys?Ys.push(e):Ys=[e]:Qs=e}function jm(){if(Qs){var e=Qs,t=Ys;if(Ys=Qs=null,mu(e),t)for(e=0;e<t.length;e++)mu(t[e])}}function Nm(e,t){return e(t)}function _m(){}var ti=!1;function Sm(e,t,s){if(ti)return e(t,s);ti=!0;try{return Nm(e,t,s)}finally{ti=!1,(Qs!==null||Ys!==null)&&(_m(),jm())}}function hn(e,t){var s=e.stateNode;if(s===null)return null;var a=bo(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(F(231,t,typeof s));return s}var Hi=!1;if(br)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Hi=!1}function ox(e,t,s,a,n,l,o,i,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Ga=!1,$l=null,Il=!1,Ki=null,ix={onError:function(e){Ga=!0,$l=e}};function cx(e,t,s,a,n,l,o,i,c){Ga=!1,$l=null,ox.apply(ix,arguments)}function dx(e,t,s,a,n,l,o,i,c){if(cx.apply(this,arguments),Ga){if(Ga){var d=$l;Ga=!1,$l=null}else throw Error(F(198));Il||(Il=!0,Ki=d)}}function Ss(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Cm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hu(e){if(Ss(e)!==e)throw Error(F(188))}function ux(e){var t=e.alternate;if(!t){if(t=Ss(e),t===null)throw Error(F(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(n===null)break;var l=n.alternate;if(l===null){if(a=n.return,a!==null){s=a;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===s)return hu(n),e;if(l===a)return hu(n),t;l=l.sibling}throw Error(F(188))}if(s.return!==a.return)s=n,a=l;else{for(var o=!1,i=n.child;i;){if(i===s){o=!0,s=n,a=l;break}if(i===a){o=!0,a=n,s=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===s){o=!0,s=l,a=n;break}if(i===a){o=!0,a=l,s=n;break}i=i.sibling}if(!o)throw Error(F(189))}}if(s.alternate!==a)throw Error(F(190))}if(s.tag!==3)throw Error(F(188));return s.stateNode.current===s?e:t}function Pm(e){return e=ux(e),e!==null?Em(e):null}function Em(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Em(e);if(t!==null)return t;e=e.sibling}return null}var Tm=Ot.unstable_scheduleCallback,fu=Ot.unstable_cancelCallback,mx=Ot.unstable_shouldYield,hx=Ot.unstable_requestPaint,Ke=Ot.unstable_now,fx=Ot.unstable_getCurrentPriorityLevel,sd=Ot.unstable_ImmediatePriority,Rm=Ot.unstable_UserBlockingPriority,Ol=Ot.unstable_NormalPriority,px=Ot.unstable_LowPriority,Dm=Ot.unstable_IdlePriority,fo=null,cr=null;function xx(e){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(fo,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:yx,gx=Math.log,bx=Math.LN2;function yx(e){return e>>>=0,e===0?32:31-(gx(e)/bx|0)|0}var Zn=64,el=4194304;function Va(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Al(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,n=e.suspendedLanes,l=e.pingedLanes,o=s&268435455;if(o!==0){var i=o&~n;i!==0?a=Va(i):(l&=o,l!==0&&(a=Va(l)))}else o=s&~n,o!==0?a=Va(o):l!==0&&(a=Va(l));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,l=t&-t,n>=l||n===16&&(l&4194240)!==0))return t;if(a&4&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-Yt(t),n=1<<s,a|=e[s],t&=~n;return a}function vx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wx(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Yt(l),i=1<<o,c=n[o];c===-1?(!(i&s)||i&a)&&(n[o]=vx(i,t)):c<=t&&(e.expiredLanes|=i),l&=~i}}function Gi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $m(){var e=Zn;return Zn<<=1,!(Zn&4194240)&&(Zn=64),e}function ri(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function An(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yt(t),e[t]=s}function kx(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-Yt(s),l=1<<n;t[n]=0,a[n]=-1,e[n]=-1,s&=~l}}function ad(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-Yt(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}var _e=0;function Im(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Om,nd,Am,Lm,Mm,Ji=!1,tl=[],Fr=null,zr=null,Br=null,fn=new Map,pn=new Map,Ir=[],jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(e,t){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":fn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pn.delete(t.pointerId)}}function Da(e,t,s,a,n,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:l,targetContainers:[n]},t!==null&&(t=Mn(t),t!==null&&nd(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Nx(e,t,s,a,n){switch(t){case"focusin":return Fr=Da(Fr,e,t,s,a,n),!0;case"dragenter":return zr=Da(zr,e,t,s,a,n),!0;case"mouseover":return Br=Da(Br,e,t,s,a,n),!0;case"pointerover":var l=n.pointerId;return fn.set(l,Da(fn.get(l)||null,e,t,s,a,n)),!0;case"gotpointercapture":return l=n.pointerId,pn.set(l,Da(pn.get(l)||null,e,t,s,a,n)),!0}return!1}function Um(e){var t=us(e.target);if(t!==null){var s=Ss(t);if(s!==null){if(t=s.tag,t===13){if(t=Cm(s),t!==null){e.blockedOn=t,Mm(e.priority,function(){Am(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Qi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Vi=a,s.target.dispatchEvent(a),Vi=null}else return t=Mn(s),t!==null&&nd(t),e.blockedOn=s,!1;t.shift()}return!0}function xu(e,t,s){wl(e)&&s.delete(t)}function _x(){Ji=!1,Fr!==null&&wl(Fr)&&(Fr=null),zr!==null&&wl(zr)&&(zr=null),Br!==null&&wl(Br)&&(Br=null),fn.forEach(xu),pn.forEach(xu)}function $a(e,t){e.blockedOn===t&&(e.blockedOn=null,Ji||(Ji=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,_x)))}function xn(e){function t(n){return $a(n,e)}if(0<tl.length){$a(tl[0],e);for(var s=1;s<tl.length;s++){var a=tl[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Fr!==null&&$a(Fr,e),zr!==null&&$a(zr,e),Br!==null&&$a(Br,e),fn.forEach(t),pn.forEach(t),s=0;s<Ir.length;s++)a=Ir[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Ir.length&&(s=Ir[0],s.blockedOn===null);)Um(s),s.blockedOn===null&&Ir.shift()}var Xs=kr.ReactCurrentBatchConfig,Ll=!0;function Sx(e,t,s,a){var n=_e,l=Xs.transition;Xs.transition=null;try{_e=1,ld(e,t,s,a)}finally{_e=n,Xs.transition=l}}function Cx(e,t,s,a){var n=_e,l=Xs.transition;Xs.transition=null;try{_e=4,ld(e,t,s,a)}finally{_e=n,Xs.transition=l}}function ld(e,t,s,a){if(Ll){var n=Qi(e,t,s,a);if(n===null)mi(e,t,a,Ml,s),pu(e,a);else if(Nx(n,e,t,s,a))a.stopPropagation();else if(pu(e,a),t&4&&-1<jx.indexOf(e)){for(;n!==null;){var l=Mn(n);if(l!==null&&Om(l),l=Qi(e,t,s,a),l===null&&mi(e,t,a,Ml,s),l===n)break;n=l}n!==null&&a.stopPropagation()}else mi(e,t,a,null,s)}}var Ml=null;function Qi(e,t,s,a){if(Ml=null,e=rd(a),e=us(e),e!==null)if(t=Ss(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Cm(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ml=e,null}function Fm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fx()){case sd:return 1;case Rm:return 4;case Ol:case px:return 16;case Dm:return 536870912;default:return 16}default:return 16}}var Lr=null,od=null,kl=null;function zm(){if(kl)return kl;var e,t=od,s=t.length,a,n="value"in Lr?Lr.value:Lr.textContent,l=n.length;for(e=0;e<s&&t[e]===n[e];e++);var o=s-e;for(a=1;a<=o&&t[s-a]===n[l-a];a++);return kl=n.slice(e,1<a?1-a:void 0)}function jl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rl(){return!0}function gu(){return!1}function Lt(e){function t(s,a,n,l,o){this._reactName=s,this._targetInst=n,this.type=a,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(s=e[i],this[i]=s?s(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?rl:gu,this.isPropagationStopped=gu,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),t}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},id=Lt(ga),Ln=Fe({},ga,{view:0,detail:0}),Px=Lt(Ln),si,ai,Ia,po=Fe({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ia&&(Ia&&e.type==="mousemove"?(si=e.screenX-Ia.screenX,ai=e.screenY-Ia.screenY):ai=si=0,Ia=e),si)},movementY:function(e){return"movementY"in e?e.movementY:ai}}),bu=Lt(po),Ex=Fe({},po,{dataTransfer:0}),Tx=Lt(Ex),Rx=Fe({},Ln,{relatedTarget:0}),ni=Lt(Rx),Dx=Fe({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),$x=Lt(Dx),Ix=Fe({},ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ox=Lt(Ix),Ax=Fe({},ga,{data:0}),yu=Lt(Ax),Lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ux={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ux[e])?!!t[e]:!1}function cd(){return Fx}var zx=Fe({},Ln,{key:function(e){if(e.key){var t=Lx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cd,charCode:function(e){return e.type==="keypress"?jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bx=Lt(zx),qx=Fe({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=Lt(qx),Vx=Fe({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cd}),Wx=Lt(Vx),Hx=Fe({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kx=Lt(Hx),Gx=Fe({},po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jx=Lt(Gx),Qx=[9,13,27,32],dd=br&&"CompositionEvent"in window,Ja=null;br&&"documentMode"in document&&(Ja=document.documentMode);var Yx=br&&"TextEvent"in window&&!Ja,Bm=br&&(!dd||Ja&&8<Ja&&11>=Ja),wu=" ",ku=!1;function qm(e,t){switch(e){case"keyup":return Qx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Us=!1;function Xx(e,t){switch(e){case"compositionend":return Vm(t);case"keypress":return t.which!==32?null:(ku=!0,wu);case"textInput":return e=t.data,e===wu&&ku?null:e;default:return null}}function Zx(e,t){if(Us)return e==="compositionend"||!dd&&qm(e,t)?(e=zm(),kl=od=Lr=null,Us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bm&&t.locale!=="ko"?null:t.data;default:return null}}var eg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eg[e.type]:t==="textarea"}function Wm(e,t,s,a){km(a),t=Ul(t,"onChange"),0<t.length&&(s=new id("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Qa=null,gn=null;function tg(e){rh(e,0)}function xo(e){var t=Bs(e);if(pm(t))return e}function rg(e,t){if(e==="change")return t}var Hm=!1;if(br){var li;if(br){var oi="oninput"in document;if(!oi){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),oi=typeof Nu.oninput=="function"}li=oi}else li=!1;Hm=li&&(!document.documentMode||9<document.documentMode)}function _u(){Qa&&(Qa.detachEvent("onpropertychange",Km),gn=Qa=null)}function Km(e){if(e.propertyName==="value"&&xo(gn)){var t=[];Wm(t,gn,e,rd(e)),Sm(tg,t)}}function sg(e,t,s){e==="focusin"?(_u(),Qa=t,gn=s,Qa.attachEvent("onpropertychange",Km)):e==="focusout"&&_u()}function ag(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xo(gn)}function ng(e,t){if(e==="click")return xo(t)}function lg(e,t){if(e==="input"||e==="change")return xo(t)}function og(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:og;function bn(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!Di.call(t,n)||!Zt(e[n],t[n]))return!1}return!0}function Su(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cu(e,t){var s=Su(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Su(s)}}function Gm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jm(){for(var e=window,t=Dl();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Dl(e.document)}return t}function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ig(e){var t=Jm(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Gm(s.ownerDocument.documentElement,s)){if(a!==null&&ud(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,l=Math.min(a.start,n);a=a.end===void 0?l:Math.min(a.end,n),!e.extend&&l>a&&(n=a,a=l,l=n),n=Cu(s,l);var o=Cu(s,a);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),l>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cg=br&&"documentMode"in document&&11>=document.documentMode,Fs=null,Yi=null,Ya=null,Xi=!1;function Pu(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Xi||Fs==null||Fs!==Dl(a)||(a=Fs,"selectionStart"in a&&ud(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ya&&bn(Ya,a)||(Ya=a,a=Ul(Yi,"onSelect"),0<a.length&&(t=new id("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=Fs)))}function sl(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var zs={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},ii={},Qm={};br&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function go(e){if(ii[e])return ii[e];if(!zs[e])return e;var t=zs[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Qm)return ii[e]=t[s];return e}var Ym=go("animationend"),Xm=go("animationiteration"),Zm=go("animationstart"),eh=go("transitionend"),th=new Map,Eu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(e,t){th.set(e,t),_s(t,[e])}for(var ci=0;ci<Eu.length;ci++){var di=Eu[ci],dg=di.toLowerCase(),ug=di[0].toUpperCase()+di.slice(1);Xr(dg,"on"+ug)}Xr(Ym,"onAnimationEnd");Xr(Xm,"onAnimationIteration");Xr(Zm,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr(eh,"onTransitionEnd");la("onMouseEnter",["mouseout","mouseover"]);la("onMouseLeave",["mouseout","mouseover"]);la("onPointerEnter",["pointerout","pointerover"]);la("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function Tu(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,dx(a,t,void 0,e),e.currentTarget=null}function rh(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var o=a.length-1;0<=o;o--){var i=a[o],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==l&&n.isPropagationStopped())break e;Tu(n,i,d),l=c}else for(o=0;o<a.length;o++){if(i=a[o],c=i.instance,d=i.currentTarget,i=i.listener,c!==l&&n.isPropagationStopped())break e;Tu(n,i,d),l=c}}}if(Il)throw e=Ki,Il=!1,Ki=null,e}function Re(e,t){var s=t[sc];s===void 0&&(s=t[sc]=new Set);var a=e+"__bubble";s.has(a)||(sh(t,e,2,!1),s.add(a))}function ui(e,t,s){var a=0;t&&(a|=4),sh(s,e,a,t)}var al="_reactListening"+Math.random().toString(36).slice(2);function yn(e){if(!e[al]){e[al]=!0,dm.forEach(function(s){s!=="selectionchange"&&(mg.has(s)||ui(s,!1,e),ui(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[al]||(t[al]=!0,ui("selectionchange",!1,t))}}function sh(e,t,s,a){switch(Fm(t)){case 1:var n=Sx;break;case 4:n=Cx;break;default:n=ld}s=n.bind(null,t,s,e),n=void 0,!Hi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function mi(e,t,s,a,n){var l=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var i=a.stateNode.containerInfo;if(i===n||i.nodeType===8&&i.parentNode===n)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;i!==null;){if(o=us(i),o===null)return;if(c=o.tag,c===5||c===6){a=l=o;continue e}i=i.parentNode}}a=a.return}Sm(function(){var d=l,u=rd(s),m=[];e:{var f=th.get(e);if(f!==void 0){var x=id,v=e;switch(e){case"keypress":if(jl(s)===0)break e;case"keydown":case"keyup":x=Bx;break;case"focusin":v="focus",x=ni;break;case"focusout":v="blur",x=ni;break;case"beforeblur":case"afterblur":x=ni;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Tx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Wx;break;case Ym:case Xm:case Zm:x=$x;break;case eh:x=Kx;break;case"scroll":x=Px;break;case"wheel":x=Jx;break;case"copy":case"cut":case"paste":x=Ox;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=vu}var y=(t&4)!==0,k=!y&&e==="scroll",h=y?f!==null?f+"Capture":null:f;y=[];for(var p=d,b;p!==null;){b=p;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,h!==null&&(w=hn(p,h),w!=null&&y.push(vn(p,w,b)))),k)break;p=p.return}0<y.length&&(f=new x(f,v,null,s,u),m.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&s!==Vi&&(v=s.relatedTarget||s.fromElement)&&(us(v)||v[yr]))break e;if((x||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,x?(v=s.relatedTarget||s.toElement,x=d,v=v?us(v):null,v!==null&&(k=Ss(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=d),x!==v)){if(y=bu,w="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=vu,w="onPointerLeave",h="onPointerEnter",p="pointer"),k=x==null?f:Bs(x),b=v==null?f:Bs(v),f=new y(w,p+"leave",x,s,u),f.target=k,f.relatedTarget=b,w=null,us(u)===d&&(y=new y(h,p+"enter",v,s,u),y.target=b,y.relatedTarget=k,w=y),k=w,x&&v)t:{for(y=x,h=v,p=0,b=y;b;b=Rs(b))p++;for(b=0,w=h;w;w=Rs(w))b++;for(;0<p-b;)y=Rs(y),p--;for(;0<b-p;)h=Rs(h),b--;for(;p--;){if(y===h||h!==null&&y===h.alternate)break t;y=Rs(y),h=Rs(h)}y=null}else y=null;x!==null&&Ru(m,f,x,y,!1),v!==null&&k!==null&&Ru(m,k,v,y,!0)}}e:{if(f=d?Bs(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var P=rg;else if(ju(f))if(Hm)P=lg;else{P=ag;var A=sg}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=ng);if(P&&(P=P(e,d))){Wm(m,P,s,u);break e}A&&A(e,f,d),e==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Ui(f,"number",f.value)}switch(A=d?Bs(d):window,e){case"focusin":(ju(A)||A.contentEditable==="true")&&(Fs=A,Yi=d,Ya=null);break;case"focusout":Ya=Yi=Fs=null;break;case"mousedown":Xi=!0;break;case"contextmenu":case"mouseup":case"dragend":Xi=!1,Pu(m,s,u);break;case"selectionchange":if(cg)break;case"keydown":case"keyup":Pu(m,s,u)}var L;if(dd)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Us?qm(e,s)&&(I="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(I="onCompositionStart");I&&(Bm&&s.locale!=="ko"&&(Us||I!=="onCompositionStart"?I==="onCompositionEnd"&&Us&&(L=zm()):(Lr=u,od="value"in Lr?Lr.value:Lr.textContent,Us=!0)),A=Ul(d,I),0<A.length&&(I=new yu(I,e,null,s,u),m.push({event:I,listeners:A}),L?I.data=L:(L=Vm(s),L!==null&&(I.data=L)))),(L=Yx?Xx(e,s):Zx(e,s))&&(d=Ul(d,"onBeforeInput"),0<d.length&&(u=new yu("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:d}),u.data=L))}rh(m,t)})}function vn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ul(e,t){for(var s=t+"Capture",a=[];e!==null;){var n=e,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=hn(e,s),l!=null&&a.unshift(vn(e,l,n)),l=hn(e,t),l!=null&&a.push(vn(e,l,n))),e=e.return}return a}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ru(e,t,s,a,n){for(var l=t._reactName,o=[];s!==null&&s!==a;){var i=s,c=i.alternate,d=i.stateNode;if(c!==null&&c===a)break;i.tag===5&&d!==null&&(i=d,n?(c=hn(s,l),c!=null&&o.unshift(vn(s,c,i))):n||(c=hn(s,l),c!=null&&o.push(vn(s,c,i)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var hg=/\r\n?/g,fg=/\u0000|\uFFFD/g;function Du(e){return(typeof e=="string"?e:""+e).replace(hg,`
`).replace(fg,"")}function nl(e,t,s){if(t=Du(t),Du(e)!==t&&s)throw Error(F(425))}function Fl(){}var Zi=null,ec=null;function tc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rc=typeof setTimeout=="function"?setTimeout:void 0,pg=typeof clearTimeout=="function"?clearTimeout:void 0,$u=typeof Promise=="function"?Promise:void 0,xg=typeof queueMicrotask=="function"?queueMicrotask:typeof $u<"u"?function(e){return $u.resolve(null).then(e).catch(gg)}:rc;function gg(e){setTimeout(function(){throw e})}function hi(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){e.removeChild(n),xn(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=n}while(s);xn(t)}function qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var ba=Math.random().toString(36).slice(2),or="__reactFiber$"+ba,wn="__reactProps$"+ba,yr="__reactContainer$"+ba,sc="__reactEvents$"+ba,bg="__reactListeners$"+ba,yg="__reactHandles$"+ba;function us(e){var t=e[or];if(t)return t;for(var s=e.parentNode;s;){if(t=s[yr]||s[or]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Iu(e);e!==null;){if(s=e[or])return s;e=Iu(e)}return t}e=s,s=e.parentNode}return null}function Mn(e){return e=e[or]||e[yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function bo(e){return e[wn]||null}var ac=[],qs=-1;function Zr(e){return{current:e}}function De(e){0>qs||(e.current=ac[qs],ac[qs]=null,qs--)}function Ee(e,t){qs++,ac[qs]=e.current,e.current=t}var Qr={},gt=Zr(Qr),St=Zr(!1),bs=Qr;function oa(e,t){var s=e.type.contextTypes;if(!s)return Qr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in s)n[l]=t[l];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ct(e){return e=e.childContextTypes,e!=null}function zl(){De(St),De(gt)}function Ou(e,t,s){if(gt.current!==Qr)throw Error(F(168));Ee(gt,t),Ee(St,s)}function ah(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(F(108,sx(e)||"Unknown",n));return Fe({},s,a)}function Bl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qr,bs=gt.current,Ee(gt,e),Ee(St,St.current),!0}function Au(e,t,s){var a=e.stateNode;if(!a)throw Error(F(169));s?(e=ah(e,t,bs),a.__reactInternalMemoizedMergedChildContext=e,De(St),De(gt),Ee(gt,e)):De(St),Ee(St,s)}var fr=null,yo=!1,fi=!1;function nh(e){fr===null?fr=[e]:fr.push(e)}function vg(e){yo=!0,nh(e)}function es(){if(!fi&&fr!==null){fi=!0;var e=0,t=_e;try{var s=fr;for(_e=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}fr=null,yo=!1}catch(n){throw fr!==null&&(fr=fr.slice(e+1)),Tm(sd,es),n}finally{_e=t,fi=!1}}return null}var Vs=[],Ws=0,ql=null,Vl=0,Ut=[],Ft=0,ys=null,pr=1,xr="";function os(e,t){Vs[Ws++]=Vl,Vs[Ws++]=ql,ql=e,Vl=t}function lh(e,t,s){Ut[Ft++]=pr,Ut[Ft++]=xr,Ut[Ft++]=ys,ys=e;var a=pr;e=xr;var n=32-Yt(a)-1;a&=~(1<<n),s+=1;var l=32-Yt(t)+n;if(30<l){var o=n-n%5;l=(a&(1<<o)-1).toString(32),a>>=o,n-=o,pr=1<<32-Yt(t)+n|s<<n|a,xr=l+e}else pr=1<<l|s<<n|a,xr=e}function md(e){e.return!==null&&(os(e,1),lh(e,1,0))}function hd(e){for(;e===ql;)ql=Vs[--Ws],Vs[Ws]=null,Vl=Vs[--Ws],Vs[Ws]=null;for(;e===ys;)ys=Ut[--Ft],Ut[Ft]=null,xr=Ut[--Ft],Ut[Ft]=null,pr=Ut[--Ft],Ut[Ft]=null}var It=null,$t=null,Oe=!1,Qt=null;function oh(e,t){var s=zt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Lu(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,$t=qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,$t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ys!==null?{id:pr,overflow:xr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=zt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,It=e,$t=null,!0):!1;default:return!1}}function nc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lc(e){if(Oe){var t=$t;if(t){var s=t;if(!Lu(e,t)){if(nc(e))throw Error(F(418));t=qr(s.nextSibling);var a=It;t&&Lu(e,t)?oh(a,s):(e.flags=e.flags&-4097|2,Oe=!1,It=e)}}else{if(nc(e))throw Error(F(418));e.flags=e.flags&-4097|2,Oe=!1,It=e}}}function Mu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function ll(e){if(e!==It)return!1;if(!Oe)return Mu(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tc(e.type,e.memoizedProps)),t&&(t=$t)){if(nc(e))throw ih(),Error(F(418));for(;t;)oh(e,t),t=qr(t.nextSibling)}if(Mu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){$t=qr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}$t=null}}else $t=It?qr(e.stateNode.nextSibling):null;return!0}function ih(){for(var e=$t;e;)e=qr(e.nextSibling)}function ia(){$t=It=null,Oe=!1}function fd(e){Qt===null?Qt=[e]:Qt.push(e)}var wg=kr.ReactCurrentBatchConfig;function Oa(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(F(309));var a=s.stateNode}if(!a)throw Error(F(147,e));var n=a,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var i=n.refs;o===null?delete i[l]:i[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(F(284));if(!s._owner)throw Error(F(290,e))}return e}function ol(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uu(e){var t=e._init;return t(e._payload)}function ch(e){function t(h,p){if(e){var b=h.deletions;b===null?(h.deletions=[p],h.flags|=16):b.push(p)}}function s(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function a(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function n(h,p){return h=Kr(h,p),h.index=0,h.sibling=null,h}function l(h,p,b){return h.index=b,e?(b=h.alternate,b!==null?(b=b.index,b<p?(h.flags|=2,p):b):(h.flags|=2,p)):(h.flags|=1048576,p)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,p,b,w){return p===null||p.tag!==6?(p=wi(b,h.mode,w),p.return=h,p):(p=n(p,b),p.return=h,p)}function c(h,p,b,w){var P=b.type;return P===Ms?u(h,p,b.props.children,w,b.key):p!==null&&(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Tr&&Uu(P)===p.type)?(w=n(p,b.props),w.ref=Oa(h,p,b),w.return=h,w):(w=Tl(b.type,b.key,b.props,null,h.mode,w),w.ref=Oa(h,p,b),w.return=h,w)}function d(h,p,b,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==b.containerInfo||p.stateNode.implementation!==b.implementation?(p=ki(b,h.mode,w),p.return=h,p):(p=n(p,b.children||[]),p.return=h,p)}function u(h,p,b,w,P){return p===null||p.tag!==7?(p=ps(b,h.mode,w,P),p.return=h,p):(p=n(p,b),p.return=h,p)}function m(h,p,b){if(typeof p=="string"&&p!==""||typeof p=="number")return p=wi(""+p,h.mode,b),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Qn:return b=Tl(p.type,p.key,p.props,null,h.mode,b),b.ref=Oa(h,null,p),b.return=h,b;case Ls:return p=ki(p,h.mode,b),p.return=h,p;case Tr:var w=p._init;return m(h,w(p._payload),b)}if(qa(p)||Ta(p))return p=ps(p,h.mode,b,null),p.return=h,p;ol(h,p)}return null}function f(h,p,b,w){var P=p!==null?p.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:i(h,p,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qn:return b.key===P?c(h,p,b,w):null;case Ls:return b.key===P?d(h,p,b,w):null;case Tr:return P=b._init,f(h,p,P(b._payload),w)}if(qa(b)||Ta(b))return P!==null?null:u(h,p,b,w,null);ol(h,b)}return null}function x(h,p,b,w,P){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(b)||null,i(p,h,""+w,P);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qn:return h=h.get(w.key===null?b:w.key)||null,c(p,h,w,P);case Ls:return h=h.get(w.key===null?b:w.key)||null,d(p,h,w,P);case Tr:var A=w._init;return x(h,p,b,A(w._payload),P)}if(qa(w)||Ta(w))return h=h.get(b)||null,u(p,h,w,P,null);ol(p,w)}return null}function v(h,p,b,w){for(var P=null,A=null,L=p,I=p=0,B=null;L!==null&&I<b.length;I++){L.index>I?(B=L,L=null):B=L.sibling;var M=f(h,L,b[I],w);if(M===null){L===null&&(L=B);break}e&&L&&M.alternate===null&&t(h,L),p=l(M,p,I),A===null?P=M:A.sibling=M,A=M,L=B}if(I===b.length)return s(h,L),Oe&&os(h,I),P;if(L===null){for(;I<b.length;I++)L=m(h,b[I],w),L!==null&&(p=l(L,p,I),A===null?P=L:A.sibling=L,A=L);return Oe&&os(h,I),P}for(L=a(h,L);I<b.length;I++)B=x(L,h,I,b[I],w),B!==null&&(e&&B.alternate!==null&&L.delete(B.key===null?I:B.key),p=l(B,p,I),A===null?P=B:A.sibling=B,A=B);return e&&L.forEach(function(V){return t(h,V)}),Oe&&os(h,I),P}function y(h,p,b,w){var P=Ta(b);if(typeof P!="function")throw Error(F(150));if(b=P.call(b),b==null)throw Error(F(151));for(var A=P=null,L=p,I=p=0,B=null,M=b.next();L!==null&&!M.done;I++,M=b.next()){L.index>I?(B=L,L=null):B=L.sibling;var V=f(h,L,M.value,w);if(V===null){L===null&&(L=B);break}e&&L&&V.alternate===null&&t(h,L),p=l(V,p,I),A===null?P=V:A.sibling=V,A=V,L=B}if(M.done)return s(h,L),Oe&&os(h,I),P;if(L===null){for(;!M.done;I++,M=b.next())M=m(h,M.value,w),M!==null&&(p=l(M,p,I),A===null?P=M:A.sibling=M,A=M);return Oe&&os(h,I),P}for(L=a(h,L);!M.done;I++,M=b.next())M=x(L,h,I,M.value,w),M!==null&&(e&&M.alternate!==null&&L.delete(M.key===null?I:M.key),p=l(M,p,I),A===null?P=M:A.sibling=M,A=M);return e&&L.forEach(function(q){return t(h,q)}),Oe&&os(h,I),P}function k(h,p,b,w){if(typeof b=="object"&&b!==null&&b.type===Ms&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Qn:e:{for(var P=b.key,A=p;A!==null;){if(A.key===P){if(P=b.type,P===Ms){if(A.tag===7){s(h,A.sibling),p=n(A,b.props.children),p.return=h,h=p;break e}}else if(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Tr&&Uu(P)===A.type){s(h,A.sibling),p=n(A,b.props),p.ref=Oa(h,A,b),p.return=h,h=p;break e}s(h,A);break}else t(h,A);A=A.sibling}b.type===Ms?(p=ps(b.props.children,h.mode,w,b.key),p.return=h,h=p):(w=Tl(b.type,b.key,b.props,null,h.mode,w),w.ref=Oa(h,p,b),w.return=h,h=w)}return o(h);case Ls:e:{for(A=b.key;p!==null;){if(p.key===A)if(p.tag===4&&p.stateNode.containerInfo===b.containerInfo&&p.stateNode.implementation===b.implementation){s(h,p.sibling),p=n(p,b.children||[]),p.return=h,h=p;break e}else{s(h,p);break}else t(h,p);p=p.sibling}p=ki(b,h.mode,w),p.return=h,h=p}return o(h);case Tr:return A=b._init,k(h,p,A(b._payload),w)}if(qa(b))return v(h,p,b,w);if(Ta(b))return y(h,p,b,w);ol(h,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,p!==null&&p.tag===6?(s(h,p.sibling),p=n(p,b),p.return=h,h=p):(s(h,p),p=wi(b,h.mode,w),p.return=h,h=p),o(h)):s(h,p)}return k}var ca=ch(!0),dh=ch(!1),Wl=Zr(null),Hl=null,Hs=null,pd=null;function xd(){pd=Hs=Hl=null}function gd(e){var t=Wl.current;De(Wl),e._currentValue=t}function oc(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function Zs(e,t){Hl=e,pd=Hs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(pd!==e)if(e={context:e,memoizedValue:t,next:null},Hs===null){if(Hl===null)throw Error(F(308));Hs=e,Hl.dependencies={lanes:0,firstContext:e}}else Hs=Hs.next=e;return t}var ms=null;function bd(e){ms===null?ms=[e]:ms.push(e)}function uh(e,t,s,a){var n=t.interleaved;return n===null?(s.next=s,bd(t)):(s.next=n.next,n.next=s),t.interleaved=s,vr(e,a)}function vr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Rr=!1;function yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ye&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,vr(e,s)}return n=a.interleaved,n===null?(t.next=t,bd(a)):(t.next=n.next,n.next=t),a.interleaved=t,vr(e,s)}function Nl(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,ad(e,s)}}function Fu(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var n=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};l===null?n=l=o:l=l.next=o,s=s.next}while(s!==null);l===null?n=l=t:l=l.next=t}else n=l=t;s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Kl(e,t,s,a){var n=e.updateQueue;Rr=!1;var l=n.firstBaseUpdate,o=n.lastBaseUpdate,i=n.shared.pending;if(i!==null){n.shared.pending=null;var c=i,d=c.next;c.next=null,o===null?l=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,i=u.lastBaseUpdate,i!==o&&(i===null?u.firstBaseUpdate=d:i.next=d,u.lastBaseUpdate=c))}if(l!==null){var m=n.baseState;o=0,u=d=c=null,i=l;do{var f=i.lane,x=i.eventTime;if((a&f)===f){u!==null&&(u=u.next={eventTime:x,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var v=e,y=i;switch(f=t,x=s,y.tag){case 1:if(v=y.payload,typeof v=="function"){m=v.call(x,m,f);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(x,m,f):v,f==null)break e;m=Fe({},m,f);break e;case 2:Rr=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,f=n.effects,f===null?n.effects=[i]:f.push(i))}else x={eventTime:x,lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},u===null?(d=u=x,c=m):u=u.next=x,o|=f;if(i=i.next,i===null){if(i=n.shared.pending,i===null)break;f=i,i=f.next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}while(!0);if(u===null&&(c=m),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else l===null&&(n.shared.lanes=0);ws|=o,e.lanes=o,e.memoizedState=m}}function zu(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(n!==null){if(a.callback=null,a=s,typeof n!="function")throw Error(F(191,n));n.call(a)}}}var Un={},dr=Zr(Un),kn=Zr(Un),jn=Zr(Un);function hs(e){if(e===Un)throw Error(F(174));return e}function vd(e,t){switch(Ee(jn,t),Ee(kn,e),Ee(dr,Un),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zi(t,e)}De(dr),Ee(dr,t)}function da(){De(dr),De(kn),De(jn)}function hh(e){hs(jn.current);var t=hs(dr.current),s=zi(t,e.type);t!==s&&(Ee(kn,e),Ee(dr,s))}function wd(e){kn.current===e&&(De(dr),De(kn))}var Le=Zr(0);function Gl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pi=[];function kd(){for(var e=0;e<pi.length;e++)pi[e]._workInProgressVersionPrimary=null;pi.length=0}var _l=kr.ReactCurrentDispatcher,xi=kr.ReactCurrentBatchConfig,vs=0,Ue=null,et=null,nt=null,Jl=!1,Xa=!1,Nn=0,kg=0;function ft(){throw Error(F(321))}function jd(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Zt(e[s],t[s]))return!1;return!0}function Nd(e,t,s,a,n,l){if(vs=l,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_l.current=e===null||e.memoizedState===null?Sg:Cg,e=s(a,n),Xa){l=0;do{if(Xa=!1,Nn=0,25<=l)throw Error(F(301));l+=1,nt=et=null,t.updateQueue=null,_l.current=Pg,e=s(a,n)}while(Xa)}if(_l.current=Ql,t=et!==null&&et.next!==null,vs=0,nt=et=Ue=null,Jl=!1,t)throw Error(F(300));return e}function _d(){var e=Nn!==0;return Nn=0,e}function lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ue.memoizedState=nt=e:nt=nt.next=e,nt}function Wt(){if(et===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=nt===null?Ue.memoizedState:nt.next;if(t!==null)nt=t,et=e;else{if(e===null)throw Error(F(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},nt===null?Ue.memoizedState=nt=e:nt=nt.next=e}return nt}function _n(e,t){return typeof t=="function"?t(e):t}function gi(e){var t=Wt(),s=t.queue;if(s===null)throw Error(F(311));s.lastRenderedReducer=e;var a=et,n=a.baseQueue,l=s.pending;if(l!==null){if(n!==null){var o=n.next;n.next=l.next,l.next=o}a.baseQueue=n=l,s.pending=null}if(n!==null){l=n.next,a=a.baseState;var i=o=null,c=null,d=l;do{var u=d.lane;if((vs&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=m,o=a):c=c.next=m,Ue.lanes|=u,ws|=u}d=d.next}while(d!==null&&d!==l);c===null?o=a:c.next=i,Zt(a,t.memoizedState)||(_t=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,s.lastRenderedState=a}if(e=s.interleaved,e!==null){n=e;do l=n.lane,Ue.lanes|=l,ws|=l,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function bi(e){var t=Wt(),s=t.queue;if(s===null)throw Error(F(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,l=t.memoizedState;if(n!==null){s.pending=null;var o=n=n.next;do l=e(l,o.action),o=o.next;while(o!==n);Zt(l,t.memoizedState)||(_t=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),s.lastRenderedState=l}return[l,a]}function fh(){}function ph(e,t){var s=Ue,a=Wt(),n=t(),l=!Zt(a.memoizedState,n);if(l&&(a.memoizedState=n,_t=!0),a=a.queue,Sd(bh.bind(null,s,a,e),[e]),a.getSnapshot!==t||l||nt!==null&&nt.memoizedState.tag&1){if(s.flags|=2048,Sn(9,gh.bind(null,s,a,n,t),void 0,null),ot===null)throw Error(F(349));vs&30||xh(s,t,n)}return n}function xh(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function gh(e,t,s,a){t.value=s,t.getSnapshot=a,yh(t)&&vh(e)}function bh(e,t,s){return s(function(){yh(t)&&vh(e)})}function yh(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Zt(e,s)}catch{return!0}}function vh(e){var t=vr(e,1);t!==null&&Xt(t,e,1,-1)}function Bu(e){var t=lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},t.queue=e,e=e.dispatch=_g.bind(null,Ue,e),[t.memoizedState,e]}function Sn(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function wh(){return Wt().memoizedState}function Sl(e,t,s,a){var n=lr();Ue.flags|=e,n.memoizedState=Sn(1|t,s,void 0,a===void 0?null:a)}function vo(e,t,s,a){var n=Wt();a=a===void 0?null:a;var l=void 0;if(et!==null){var o=et.memoizedState;if(l=o.destroy,a!==null&&jd(a,o.deps)){n.memoizedState=Sn(t,s,l,a);return}}Ue.flags|=e,n.memoizedState=Sn(1|t,s,l,a)}function qu(e,t){return Sl(8390656,8,e,t)}function Sd(e,t){return vo(2048,8,e,t)}function kh(e,t){return vo(4,2,e,t)}function jh(e,t){return vo(4,4,e,t)}function Nh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _h(e,t,s){return s=s!=null?s.concat([e]):null,vo(4,4,Nh.bind(null,t,e),s)}function Cd(){}function Sh(e,t){var s=Wt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&jd(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Ch(e,t){var s=Wt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&jd(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function Ph(e,t,s){return vs&21?(Zt(s,t)||(s=$m(),Ue.lanes|=s,ws|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=s)}function jg(e,t){var s=_e;_e=s!==0&&4>s?s:4,e(!0);var a=xi.transition;xi.transition={};try{e(!1),t()}finally{_e=s,xi.transition=a}}function Eh(){return Wt().memoizedState}function Ng(e,t,s){var a=Hr(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Th(e))Rh(t,s);else if(s=uh(e,t,s,a),s!==null){var n=yt();Xt(s,e,a,n),Dh(s,t,a)}}function _g(e,t,s){var a=Hr(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Th(e))Rh(t,n);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,i=l(o,s);if(n.hasEagerState=!0,n.eagerState=i,Zt(i,o)){var c=t.interleaved;c===null?(n.next=n,bd(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}s=uh(e,t,n,a),s!==null&&(n=yt(),Xt(s,e,a,n),Dh(s,t,a))}}function Th(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Rh(e,t){Xa=Jl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Dh(e,t,s){if(s&4194240){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,ad(e,s)}}var Ql={readContext:Vt,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},Sg={readContext:Vt,useCallback:function(e,t){return lr().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:qu,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Sl(4194308,4,Nh.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sl(4,2,e,t)},useMemo:function(e,t){var s=lr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=lr();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Ng.bind(null,Ue,e),[a.memoizedState,e]},useRef:function(e){var t=lr();return e={current:e},t.memoizedState=e},useState:Bu,useDebugValue:Cd,useDeferredValue:function(e){return lr().memoizedState=e},useTransition:function(){var e=Bu(!1),t=e[0];return e=jg.bind(null,e[1]),lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=Ue,n=lr();if(Oe){if(s===void 0)throw Error(F(407));s=s()}else{if(s=t(),ot===null)throw Error(F(349));vs&30||xh(a,t,s)}n.memoizedState=s;var l={value:s,getSnapshot:t};return n.queue=l,qu(bh.bind(null,a,l,e),[e]),a.flags|=2048,Sn(9,gh.bind(null,a,l,s,t),void 0,null),s},useId:function(){var e=lr(),t=ot.identifierPrefix;if(Oe){var s=xr,a=pr;s=(a&~(1<<32-Yt(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=Nn++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=kg++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cg={readContext:Vt,useCallback:Sh,useContext:Vt,useEffect:Sd,useImperativeHandle:_h,useInsertionEffect:kh,useLayoutEffect:jh,useMemo:Ch,useReducer:gi,useRef:wh,useState:function(){return gi(_n)},useDebugValue:Cd,useDeferredValue:function(e){var t=Wt();return Ph(t,et.memoizedState,e)},useTransition:function(){var e=gi(_n)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:fh,useSyncExternalStore:ph,useId:Eh,unstable_isNewReconciler:!1},Pg={readContext:Vt,useCallback:Sh,useContext:Vt,useEffect:Sd,useImperativeHandle:_h,useInsertionEffect:kh,useLayoutEffect:jh,useMemo:Ch,useReducer:bi,useRef:wh,useState:function(){return bi(_n)},useDebugValue:Cd,useDeferredValue:function(e){var t=Wt();return et===null?t.memoizedState=e:Ph(t,et.memoizedState,e)},useTransition:function(){var e=bi(_n)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:fh,useSyncExternalStore:ph,useId:Eh,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function ic(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:Fe({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wo={isMounted:function(e){return(e=e._reactInternals)?Ss(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=yt(),n=Hr(e),l=gr(a,n);l.payload=t,s!=null&&(l.callback=s),t=Vr(e,l,n),t!==null&&(Xt(t,e,n,a),Nl(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=yt(),n=Hr(e),l=gr(a,n);l.tag=1,l.payload=t,s!=null&&(l.callback=s),t=Vr(e,l,n),t!==null&&(Xt(t,e,n,a),Nl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=yt(),a=Hr(e),n=gr(s,a);n.tag=2,t!=null&&(n.callback=t),t=Vr(e,n,a),t!==null&&(Xt(t,e,a,s),Nl(t,e,a))}};function Vu(e,t,s,a,n,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,l,o):t.prototype&&t.prototype.isPureReactComponent?!bn(s,a)||!bn(n,l):!0}function $h(e,t,s){var a=!1,n=Qr,l=t.contextType;return typeof l=="object"&&l!==null?l=Vt(l):(n=Ct(t)?bs:gt.current,a=t.contextTypes,l=(a=a!=null)?oa(e,n):Qr),t=new t(s,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wo,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=l),t}function Wu(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function cc(e,t,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},yd(e);var l=t.contextType;typeof l=="object"&&l!==null?n.context=Vt(l):(l=Ct(t)?bs:gt.current,n.context=oa(e,l)),n.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ic(e,t,l,s),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&wo.enqueueReplaceState(n,n.state,null),Kl(e,s,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function ua(e,t){try{var s="",a=t;do s+=rx(a),a=a.return;while(a);var n=s}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:n,digest:null}}function yi(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function dc(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Eg=typeof WeakMap=="function"?WeakMap:Map;function Ih(e,t,s){s=gr(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Xl||(Xl=!0,vc=a),dc(e,t)},s}function Oh(e,t,s){s=gr(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;s.payload=function(){return a(n)},s.callback=function(){dc(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(s.callback=function(){dc(e,t),typeof a!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function Hu(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Eg;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(s)||(n.add(s),e=qg.bind(null,e,t,s),t.then(e,e))}function Ku(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gu(e,t,s,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=gr(-1,1),t.tag=2,Vr(s,t,1))),s.lanes|=1),e)}var Tg=kr.ReactCurrentOwner,_t=!1;function bt(e,t,s,a){t.child=e===null?dh(t,null,s,a):ca(t,e.child,s,a)}function Ju(e,t,s,a,n){s=s.render;var l=t.ref;return Zs(t,n),a=Nd(e,t,s,a,l,n),s=_d(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,wr(e,t,n)):(Oe&&s&&md(t),t.flags|=1,bt(e,t,a,n),t.child)}function Qu(e,t,s,a,n){if(e===null){var l=s.type;return typeof l=="function"&&!Od(l)&&l.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=l,Ah(e,t,l,a,n)):(e=Tl(s.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&n)){var o=l.memoizedProps;if(s=s.compare,s=s!==null?s:bn,s(o,a)&&e.ref===t.ref)return wr(e,t,n)}return t.flags|=1,e=Kr(l,a),e.ref=t.ref,e.return=t,t.child=e}function Ah(e,t,s,a,n){if(e!==null){var l=e.memoizedProps;if(bn(l,a)&&e.ref===t.ref)if(_t=!1,t.pendingProps=a=l,(e.lanes&n)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,wr(e,t,n)}return uc(e,t,s,a,n)}function Lh(e,t,s){var a=t.pendingProps,n=a.children,l=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Gs,Rt),Rt|=s;else{if(!(s&1073741824))return e=l!==null?l.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Gs,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:s,Ee(Gs,Rt),Rt|=a}else l!==null?(a=l.baseLanes|s,t.memoizedState=null):a=s,Ee(Gs,Rt),Rt|=a;return bt(e,t,n,s),t.child}function Mh(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function uc(e,t,s,a,n){var l=Ct(s)?bs:gt.current;return l=oa(t,l),Zs(t,n),s=Nd(e,t,s,a,l,n),a=_d(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,wr(e,t,n)):(Oe&&a&&md(t),t.flags|=1,bt(e,t,s,n),t.child)}function Yu(e,t,s,a,n){if(Ct(s)){var l=!0;Bl(t)}else l=!1;if(Zs(t,n),t.stateNode===null)Cl(e,t),$h(t,s,a),cc(t,s,a,n),a=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Vt(d):(d=Ct(s)?bs:gt.current,d=oa(t,d));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==a||c!==d)&&Wu(t,o,a,d),Rr=!1;var f=t.memoizedState;o.state=f,Kl(t,a,o,n),c=t.memoizedState,i!==a||f!==c||St.current||Rr?(typeof u=="function"&&(ic(t,s,u,a),c=t.memoizedState),(i=Rr||Vu(t,s,i,a,f,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),o.props=a,o.state=c,o.context=d,a=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,mh(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:Kt(t.type,i),o.props=d,m=t.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Vt(c):(c=Ct(s)?bs:gt.current,c=oa(t,c));var x=s.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==m||f!==c)&&Wu(t,o,a,c),Rr=!1,f=t.memoizedState,o.state=f,Kl(t,a,o,n);var v=t.memoizedState;i!==m||f!==v||St.current||Rr?(typeof x=="function"&&(ic(t,s,x,a),v=t.memoizedState),(d=Rr||Vu(t,s,d,a,f,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=v),o.props=a,o.state=v,o.context=c,a=d):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return mc(e,t,s,a,l,n)}function mc(e,t,s,a,n,l){Mh(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return n&&Au(t,s,!1),wr(e,t,l);a=t.stateNode,Tg.current=t;var i=o&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=ca(t,e.child,null,l),t.child=ca(t,null,i,l)):bt(e,t,i,l),t.memoizedState=a.state,n&&Au(t,s,!0),t.child}function Uh(e){var t=e.stateNode;t.pendingContext?Ou(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ou(e,t.context,!1),vd(e,t.containerInfo)}function Xu(e,t,s,a,n){return ia(),fd(n),t.flags|=256,bt(e,t,s,a),t.child}var hc={dehydrated:null,treeContext:null,retryLane:0};function fc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fh(e,t,s){var a=t.pendingProps,n=Le.current,l=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(n&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Ee(Le,n&1),e===null)return lc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,l?(a=t.mode,l=t.child,o={mode:"hidden",children:o},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=No(o,a,0,null),e=ps(e,a,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=fc(s),t.memoizedState=hc,e):Pd(t,o));if(n=e.memoizedState,n!==null&&(i=n.dehydrated,i!==null))return Rg(e,t,o,a,i,n,s);if(l){l=a.fallback,o=t.mode,n=e.child,i=n.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=Kr(n,c),a.subtreeFlags=n.subtreeFlags&14680064),i!==null?l=Kr(i,l):(l=ps(l,o,s,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,o=e.child.memoizedState,o=o===null?fc(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~s,t.memoizedState=hc,a}return l=e.child,e=l.sibling,a=Kr(l,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Pd(e,t){return t=No({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function il(e,t,s,a){return a!==null&&fd(a),ca(t,e.child,null,s),e=Pd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rg(e,t,s,a,n,l,o){if(s)return t.flags&256?(t.flags&=-257,a=yi(Error(F(422))),il(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=a.fallback,n=t.mode,a=No({mode:"visible",children:a.children},n,0,null),l=ps(l,n,o,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,t.mode&1&&ca(t,e.child,null,o),t.child.memoizedState=fc(o),t.memoizedState=hc,l);if(!(t.mode&1))return il(e,t,o,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var i=a.dgst;return a=i,l=Error(F(419)),a=yi(l,a,void 0),il(e,t,o,a)}if(i=(o&e.childLanes)!==0,_t||i){if(a=ot,a!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|o)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,vr(e,n),Xt(a,e,n,-1))}return Id(),a=yi(Error(F(421))),il(e,t,o,a)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=Vg.bind(null,e),n._reactRetry=t,null):(e=l.treeContext,$t=qr(n.nextSibling),It=t,Oe=!0,Qt=null,e!==null&&(Ut[Ft++]=pr,Ut[Ft++]=xr,Ut[Ft++]=ys,pr=e.id,xr=e.overflow,ys=t),t=Pd(t,a.children),t.flags|=4096,t)}function Zu(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),oc(e.return,t,s)}function vi(e,t,s,a,n){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=s,l.tailMode=n)}function zh(e,t,s){var a=t.pendingProps,n=a.revealOrder,l=a.tail;if(bt(e,t,a.children,s),a=Le.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zu(e,s,t);else if(e.tag===19)Zu(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ee(Le,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&Gl(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),vi(t,!1,n,s,l);break;case"backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Gl(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}vi(t,!0,s,null,l);break;case"together":vi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ws|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,s=Kr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Kr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Dg(e,t,s){switch(t.tag){case 3:Uh(t),ia();break;case 5:hh(t);break;case 1:Ct(t.type)&&Bl(t);break;case 4:vd(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;Ee(Wl,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ee(Le,Le.current&1),t.flags|=128,null):s&t.child.childLanes?Fh(e,t,s):(Ee(Le,Le.current&1),e=wr(e,t,s),e!==null?e.sibling:null);Ee(Le,Le.current&1);break;case 19:if(a=(s&t.childLanes)!==0,e.flags&128){if(a)return zh(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Ee(Le,Le.current),a)break;return null;case 22:case 23:return t.lanes=0,Lh(e,t,s)}return wr(e,t,s)}var Bh,pc,qh,Vh;Bh=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};pc=function(){};qh=function(e,t,s,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,hs(dr.current);var l=null;switch(s){case"input":n=Li(e,n),a=Li(e,a),l=[];break;case"select":n=Fe({},n,{value:void 0}),a=Fe({},a,{value:void 0}),l=[];break;case"textarea":n=Fi(e,n),a=Fi(e,a),l=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Fl)}Bi(s,a);var o;s=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var i=n[d];for(o in i)i.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(un.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in a){var c=a[d];if(i=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(l||(l=[]),l.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(un.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Re("scroll",e),l||i===c||(l=[])):(l=l||[]).push(d,c))}s&&(l=l||[]).push("style",s);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};Vh=function(e,t,s,a){s!==a&&(t.flags|=4)};function Aa(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function $g(e,t,s){var a=t.pendingProps;switch(hd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return Ct(t.type)&&zl(),pt(t),null;case 3:return a=t.stateNode,da(),De(St),De(gt),kd(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ll(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(jc(Qt),Qt=null))),pc(e,t),pt(t),null;case 5:wd(t);var n=hs(jn.current);if(s=t.type,e!==null&&t.stateNode!=null)qh(e,t,s,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(F(166));return pt(t),null}if(e=hs(dr.current),ll(t)){a=t.stateNode,s=t.type;var l=t.memoizedProps;switch(a[or]=t,a[wn]=l,e=(t.mode&1)!==0,s){case"dialog":Re("cancel",a),Re("close",a);break;case"iframe":case"object":case"embed":Re("load",a);break;case"video":case"audio":for(n=0;n<Wa.length;n++)Re(Wa[n],a);break;case"source":Re("error",a);break;case"img":case"image":case"link":Re("error",a),Re("load",a);break;case"details":Re("toggle",a);break;case"input":iu(a,l),Re("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},Re("invalid",a);break;case"textarea":du(a,l),Re("invalid",a)}Bi(s,l),n=null;for(var o in l)if(l.hasOwnProperty(o)){var i=l[o];o==="children"?typeof i=="string"?a.textContent!==i&&(l.suppressHydrationWarning!==!0&&nl(a.textContent,i,e),n=["children",i]):typeof i=="number"&&a.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&nl(a.textContent,i,e),n=["children",""+i]):un.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Re("scroll",a)}switch(s){case"input":Yn(a),cu(a,l,!0);break;case"textarea":Yn(a),uu(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=Fl)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bm(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(s,{is:a.is}):(e=o.createElement(s),s==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,s),e[or]=t,e[wn]=a,Bh(e,t,!1,!1),t.stateNode=e;e:{switch(o=qi(s,a),s){case"dialog":Re("cancel",e),Re("close",e),n=a;break;case"iframe":case"object":case"embed":Re("load",e),n=a;break;case"video":case"audio":for(n=0;n<Wa.length;n++)Re(Wa[n],e);n=a;break;case"source":Re("error",e),n=a;break;case"img":case"image":case"link":Re("error",e),Re("load",e),n=a;break;case"details":Re("toggle",e),n=a;break;case"input":iu(e,a),n=Li(e,a),Re("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Fe({},a,{value:void 0}),Re("invalid",e);break;case"textarea":du(e,a),n=Fi(e,a),Re("invalid",e);break;default:n=a}Bi(s,n),i=n;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="style"?wm(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ym(e,c)):l==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&mn(e,c):typeof c=="number"&&mn(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(un.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Re("scroll",e):c!=null&&Xc(e,l,c,o))}switch(s){case"input":Yn(e),cu(e,a,!1);break;case"textarea":Yn(e),uu(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Jr(a.value));break;case"select":e.multiple=!!a.multiple,l=a.value,l!=null?Js(e,!!a.multiple,l,!1):a.defaultValue!=null&&Js(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Fl)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)Vh(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(F(166));if(s=hs(jn.current),hs(dr.current),ll(t)){if(a=t.stateNode,s=t.memoizedProps,a[or]=t,(l=a.nodeValue!==s)&&(e=It,e!==null))switch(e.tag){case 3:nl(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nl(a.nodeValue,s,(e.mode&1)!==0)}l&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[or]=t,t.stateNode=a}return pt(t),null;case 13:if(De(Le),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&$t!==null&&t.mode&1&&!(t.flags&128))ih(),ia(),t.flags|=98560,l=!1;else if(l=ll(t),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(F(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(F(317));l[or]=t}else ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),l=!1}else Qt!==null&&(jc(Qt),Qt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?tt===0&&(tt=3):Id())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return da(),pc(e,t),e===null&&yn(t.stateNode.containerInfo),pt(t),null;case 10:return gd(t.type._context),pt(t),null;case 17:return Ct(t.type)&&zl(),pt(t),null;case 19:if(De(Le),l=t.memoizedState,l===null)return pt(t),null;if(a=(t.flags&128)!==0,o=l.rendering,o===null)if(a)Aa(l,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gl(e),o!==null){for(t.flags|=128,Aa(l,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)l=s,e=a,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ee(Le,Le.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ke()>ma&&(t.flags|=128,a=!0,Aa(l,!1),t.lanes=4194304)}else{if(!a)if(e=Gl(o),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Aa(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Oe)return pt(t),null}else 2*Ke()-l.renderingStartTime>ma&&s!==1073741824&&(t.flags|=128,a=!0,Aa(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(s=l.last,s!==null?s.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ke(),t.sibling=null,s=Le.current,Ee(Le,a?s&1|2:s&1),t):(pt(t),null);case 22:case 23:return $d(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Rt&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Ig(e,t){switch(hd(t),t.tag){case 1:return Ct(t.type)&&zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return da(),De(St),De(gt),kd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wd(t),null;case 13:if(De(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Le),null;case 4:return da(),null;case 10:return gd(t.type._context),null;case 22:case 23:return $d(),null;case 24:return null;default:return null}}var cl=!1,xt=!1,Og=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ks(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){qe(e,t,a)}else s.current=null}function xc(e,t,s){try{s()}catch(a){qe(e,t,a)}}var e0=!1;function Ag(e,t){if(Zi=Ll,e=Jm(),ud(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var n=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var o=0,i=-1,c=-1,d=0,u=0,m=e,f=null;t:for(;;){for(var x;m!==s||n!==0&&m.nodeType!==3||(i=o+n),m!==l||a!==0&&m.nodeType!==3||(c=o+a),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)f=m,m=x;for(;;){if(m===e)break t;if(f===s&&++d===n&&(i=o),f===l&&++u===a&&(c=o),(x=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=x}s=i===-1||c===-1?null:{start:i,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(ec={focusedElem:e,selectionRange:s},Ll=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,k=v.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:Kt(t.type,y),k);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(w){qe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return v=e0,e0=!1,v}function Za(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var l=n.destroy;n.destroy=void 0,l!==void 0&&xc(t,s,l)}n=n.next}while(n!==a)}}function ko(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function gc(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Wh(e){var t=e.alternate;t!==null&&(e.alternate=null,Wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[or],delete t[wn],delete t[sc],delete t[bg],delete t[yg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hh(e){return e.tag===5||e.tag===3||e.tag===4}function t0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bc(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Fl));else if(a!==4&&(e=e.child,e!==null))for(bc(e,t,s),e=e.sibling;e!==null;)bc(e,t,s),e=e.sibling}function yc(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(yc(e,t,s),e=e.sibling;e!==null;)yc(e,t,s),e=e.sibling}var dt=null,Gt=!1;function Cr(e,t,s){for(s=s.child;s!==null;)Kh(e,t,s),s=s.sibling}function Kh(e,t,s){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(fo,s)}catch{}switch(s.tag){case 5:xt||Ks(s,t);case 6:var a=dt,n=Gt;dt=null,Cr(e,t,s),dt=a,Gt=n,dt!==null&&(Gt?(e=dt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):dt.removeChild(s.stateNode));break;case 18:dt!==null&&(Gt?(e=dt,s=s.stateNode,e.nodeType===8?hi(e.parentNode,s):e.nodeType===1&&hi(e,s),xn(e)):hi(dt,s.stateNode));break;case 4:a=dt,n=Gt,dt=s.stateNode.containerInfo,Gt=!0,Cr(e,t,s),dt=a,Gt=n;break;case 0:case 11:case 14:case 15:if(!xt&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var l=n,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&xc(s,t,o),n=n.next}while(n!==a)}Cr(e,t,s);break;case 1:if(!xt&&(Ks(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(i){qe(s,t,i)}Cr(e,t,s);break;case 21:Cr(e,t,s);break;case 22:s.mode&1?(xt=(a=xt)||s.memoizedState!==null,Cr(e,t,s),xt=a):Cr(e,t,s);break;default:Cr(e,t,s)}}function r0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Og),t.forEach(function(a){var n=Wg.bind(null,e,a);s.has(a)||(s.add(a),a.then(n,n))})}}function Ht(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];try{var l=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:dt=i.stateNode,Gt=!1;break e;case 3:dt=i.stateNode.containerInfo,Gt=!0;break e;case 4:dt=i.stateNode.containerInfo,Gt=!0;break e}i=i.return}if(dt===null)throw Error(F(160));Kh(l,o,n),dt=null,Gt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){qe(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gh(t,e),t=t.sibling}function Gh(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),ar(e),a&4){try{Za(3,e,e.return),ko(3,e)}catch(y){qe(e,e.return,y)}try{Za(5,e,e.return)}catch(y){qe(e,e.return,y)}}break;case 1:Ht(t,e),ar(e),a&512&&s!==null&&Ks(s,s.return);break;case 5:if(Ht(t,e),ar(e),a&512&&s!==null&&Ks(s,s.return),e.flags&32){var n=e.stateNode;try{mn(n,"")}catch(y){qe(e,e.return,y)}}if(a&4&&(n=e.stateNode,n!=null)){var l=e.memoizedProps,o=s!==null?s.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&xm(n,l),qi(i,o);var d=qi(i,l);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?wm(n,m):u==="dangerouslySetInnerHTML"?ym(n,m):u==="children"?mn(n,m):Xc(n,u,m,d)}switch(i){case"input":Mi(n,l);break;case"textarea":gm(n,l);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?Js(n,!!l.multiple,x,!1):f!==!!l.multiple&&(l.defaultValue!=null?Js(n,!!l.multiple,l.defaultValue,!0):Js(n,!!l.multiple,l.multiple?[]:"",!1))}n[wn]=l}catch(y){qe(e,e.return,y)}}break;case 6:if(Ht(t,e),ar(e),a&4){if(e.stateNode===null)throw Error(F(162));n=e.stateNode,l=e.memoizedProps;try{n.nodeValue=l}catch(y){qe(e,e.return,y)}}break;case 3:if(Ht(t,e),ar(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{xn(t.containerInfo)}catch(y){qe(e,e.return,y)}break;case 4:Ht(t,e),ar(e);break;case 13:Ht(t,e),ar(e),n=e.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(Rd=Ke())),a&4&&r0(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(xt=(d=xt)||u,Ht(t,e),xt=d):Ht(t,e),ar(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(J=e,u=e.child;u!==null;){for(m=J=u;J!==null;){switch(f=J,x=f.child,f.tag){case 0:case 11:case 14:case 15:Za(4,f,f.return);break;case 1:Ks(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){a=f,s=f.return;try{t=a,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){qe(a,s,y)}}break;case 5:Ks(f,f.return);break;case 22:if(f.memoizedState!==null){a0(m);continue}}x!==null?(x.return=f,J=x):a0(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{n=m.stateNode,d?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=vm("display",o))}catch(y){qe(e,e.return,y)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(y){qe(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ht(t,e),ar(e),a&4&&r0(e);break;case 21:break;default:Ht(t,e),ar(e)}}function ar(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Hh(s)){var a=s;break e}s=s.return}throw Error(F(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(mn(n,""),a.flags&=-33);var l=t0(e);yc(e,l,n);break;case 3:case 4:var o=a.stateNode.containerInfo,i=t0(e);bc(e,i,o);break;default:throw Error(F(161))}}catch(c){qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lg(e,t,s){J=e,Jh(e)}function Jh(e,t,s){for(var a=(e.mode&1)!==0;J!==null;){var n=J,l=n.child;if(n.tag===22&&a){var o=n.memoizedState!==null||cl;if(!o){var i=n.alternate,c=i!==null&&i.memoizedState!==null||xt;i=cl;var d=xt;if(cl=o,(xt=c)&&!d)for(J=n;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?n0(n):c!==null?(c.return=o,J=c):n0(n);for(;l!==null;)J=l,Jh(l),l=l.sibling;J=n,cl=i,xt=d}s0(e)}else n.subtreeFlags&8772&&l!==null?(l.return=n,J=l):s0(e)}}function s0(e){for(;J!==null;){var t=J;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xt||ko(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!xt)if(s===null)a.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:Kt(t.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&zu(t,l,a);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}zu(t,o,s)}break;case 5:var i=t.stateNode;if(s===null&&t.flags&4){s=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&xn(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}xt||t.flags&512&&gc(t)}catch(f){qe(t,t.return,f)}}if(t===e){J=null;break}if(s=t.sibling,s!==null){s.return=t.return,J=s;break}J=t.return}}function a0(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}function n0(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{ko(4,t)}catch(c){qe(t,s,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(c){qe(t,n,c)}}var l=t.return;try{gc(t)}catch(c){qe(t,l,c)}break;case 5:var o=t.return;try{gc(t)}catch(c){qe(t,o,c)}}}catch(c){qe(t,t.return,c)}if(t===e){J=null;break}var i=t.sibling;if(i!==null){i.return=t.return,J=i;break}J=t.return}}var Mg=Math.ceil,Yl=kr.ReactCurrentDispatcher,Ed=kr.ReactCurrentOwner,Bt=kr.ReactCurrentBatchConfig,ye=0,ot=null,Ye=null,ut=0,Rt=0,Gs=Zr(0),tt=0,Cn=null,ws=0,jo=0,Td=0,en=null,jt=null,Rd=0,ma=1/0,mr=null,Xl=!1,vc=null,Wr=null,dl=!1,Mr=null,Zl=0,tn=0,wc=null,Pl=-1,El=0;function yt(){return ye&6?Ke():Pl!==-1?Pl:Pl=Ke()}function Hr(e){return e.mode&1?ye&2&&ut!==0?ut&-ut:wg.transition!==null?(El===0&&(El=$m()),El):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Fm(e.type)),e):1}function Xt(e,t,s,a){if(50<tn)throw tn=0,wc=null,Error(F(185));An(e,s,a),(!(ye&2)||e!==ot)&&(e===ot&&(!(ye&2)&&(jo|=s),tt===4&&Or(e,ut)),Pt(e,a),s===1&&ye===0&&!(t.mode&1)&&(ma=Ke()+500,yo&&es()))}function Pt(e,t){var s=e.callbackNode;wx(e,t);var a=Al(e,e===ot?ut:0);if(a===0)s!==null&&fu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&fu(s),t===1)e.tag===0?vg(l0.bind(null,e)):nh(l0.bind(null,e)),xg(function(){!(ye&6)&&es()}),s=null;else{switch(Im(a)){case 1:s=sd;break;case 4:s=Rm;break;case 16:s=Ol;break;case 536870912:s=Dm;break;default:s=Ol}s=sf(s,Qh.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Qh(e,t){if(Pl=-1,El=0,ye&6)throw Error(F(327));var s=e.callbackNode;if(ea()&&e.callbackNode!==s)return null;var a=Al(e,e===ot?ut:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=eo(e,a);else{t=a;var n=ye;ye|=2;var l=Xh();(ot!==e||ut!==t)&&(mr=null,ma=Ke()+500,fs(e,t));do try{zg();break}catch(i){Yh(e,i)}while(!0);xd(),Yl.current=l,ye=n,Ye!==null?t=0:(ot=null,ut=0,t=tt)}if(t!==0){if(t===2&&(n=Gi(e),n!==0&&(a=n,t=kc(e,n))),t===1)throw s=Cn,fs(e,0),Or(e,a),Pt(e,Ke()),s;if(t===6)Or(e,a);else{if(n=e.current.alternate,!(a&30)&&!Ug(n)&&(t=eo(e,a),t===2&&(l=Gi(e),l!==0&&(a=l,t=kc(e,l))),t===1))throw s=Cn,fs(e,0),Or(e,a),Pt(e,Ke()),s;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(F(345));case 2:is(e,jt,mr);break;case 3:if(Or(e,a),(a&130023424)===a&&(t=Rd+500-Ke(),10<t)){if(Al(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){yt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=rc(is.bind(null,e,jt,mr),t);break}is(e,jt,mr);break;case 4:if(Or(e,a),(a&4194240)===a)break;for(t=e.eventTimes,n=-1;0<a;){var o=31-Yt(a);l=1<<o,o=t[o],o>n&&(n=o),a&=~l}if(a=n,a=Ke()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Mg(a/1960))-a,10<a){e.timeoutHandle=rc(is.bind(null,e,jt,mr),a);break}is(e,jt,mr);break;case 5:is(e,jt,mr);break;default:throw Error(F(329))}}}return Pt(e,Ke()),e.callbackNode===s?Qh.bind(null,e):null}function kc(e,t){var s=en;return e.current.memoizedState.isDehydrated&&(fs(e,t).flags|=256),e=eo(e,t),e!==2&&(t=jt,jt=s,t!==null&&jc(t)),e}function jc(e){jt===null?jt=e:jt.push.apply(jt,e)}function Ug(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var n=s[a],l=n.getSnapshot;n=n.value;try{if(!Zt(l(),n))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Or(e,t){for(t&=~Td,t&=~jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Yt(t),a=1<<s;e[s]=-1,t&=~a}}function l0(e){if(ye&6)throw Error(F(327));ea();var t=Al(e,0);if(!(t&1))return Pt(e,Ke()),null;var s=eo(e,t);if(e.tag!==0&&s===2){var a=Gi(e);a!==0&&(t=a,s=kc(e,a))}if(s===1)throw s=Cn,fs(e,0),Or(e,t),Pt(e,Ke()),s;if(s===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,is(e,jt,mr),Pt(e,Ke()),null}function Dd(e,t){var s=ye;ye|=1;try{return e(t)}finally{ye=s,ye===0&&(ma=Ke()+500,yo&&es())}}function ks(e){Mr!==null&&Mr.tag===0&&!(ye&6)&&ea();var t=ye;ye|=1;var s=Bt.transition,a=_e;try{if(Bt.transition=null,_e=1,e)return e()}finally{_e=a,Bt.transition=s,ye=t,!(ye&6)&&es()}}function $d(){Rt=Gs.current,De(Gs)}function fs(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,pg(s)),Ye!==null)for(s=Ye.return;s!==null;){var a=s;switch(hd(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&zl();break;case 3:da(),De(St),De(gt),kd();break;case 5:wd(a);break;case 4:da();break;case 13:De(Le);break;case 19:De(Le);break;case 10:gd(a.type._context);break;case 22:case 23:$d()}s=s.return}if(ot=e,Ye=e=Kr(e.current,null),ut=Rt=t,tt=0,Cn=null,Td=jo=ws=0,jt=en=null,ms!==null){for(t=0;t<ms.length;t++)if(s=ms[t],a=s.interleaved,a!==null){s.interleaved=null;var n=a.next,l=s.pending;if(l!==null){var o=l.next;l.next=n,a.next=o}s.pending=a}ms=null}return e}function Yh(e,t){do{var s=Ye;try{if(xd(),_l.current=Ql,Jl){for(var a=Ue.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Jl=!1}if(vs=0,nt=et=Ue=null,Xa=!1,Nn=0,Ed.current=null,s===null||s.return===null){tt=1,Cn=t,Ye=null;break}e:{var l=e,o=s.return,i=s,c=t;if(t=ut,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=i,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Ku(o);if(x!==null){x.flags&=-257,Gu(x,o,i,l,t),x.mode&1&&Hu(l,d,t),t=x,c=d;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){Hu(l,d,t),Id();break e}c=Error(F(426))}}else if(Oe&&i.mode&1){var k=Ku(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Gu(k,o,i,l,t),fd(ua(c,i));break e}}l=c=ua(c,i),tt!==4&&(tt=2),en===null?en=[l]:en.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=Ih(l,c,t);Fu(l,h);break e;case 1:i=c;var p=l.type,b=l.stateNode;if(!(l.flags&128)&&(typeof p.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wr===null||!Wr.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=Oh(l,i,t);Fu(l,w);break e}}l=l.return}while(l!==null)}ef(s)}catch(P){t=P,Ye===s&&s!==null&&(Ye=s=s.return);continue}break}while(!0)}function Xh(){var e=Yl.current;return Yl.current=Ql,e===null?Ql:e}function Id(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||!(ws&268435455)&&!(jo&268435455)||Or(ot,ut)}function eo(e,t){var s=ye;ye|=2;var a=Xh();(ot!==e||ut!==t)&&(mr=null,fs(e,t));do try{Fg();break}catch(n){Yh(e,n)}while(!0);if(xd(),ye=s,Yl.current=a,Ye!==null)throw Error(F(261));return ot=null,ut=0,tt}function Fg(){for(;Ye!==null;)Zh(Ye)}function zg(){for(;Ye!==null&&!mx();)Zh(Ye)}function Zh(e){var t=rf(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?ef(e):Ye=t,Ed.current=null}function ef(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Ig(s,t),s!==null){s.flags&=32767,Ye=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Ye=null;return}}else if(s=$g(s,t,Rt),s!==null){Ye=s;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);tt===0&&(tt=5)}function is(e,t,s){var a=_e,n=Bt.transition;try{Bt.transition=null,_e=1,Bg(e,t,s,a)}finally{Bt.transition=n,_e=a}return null}function Bg(e,t,s,a){do ea();while(Mr!==null);if(ye&6)throw Error(F(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(kx(e,l),e===ot&&(Ye=ot=null,ut=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||dl||(dl=!0,sf(Ol,function(){return ea(),null})),l=(s.flags&15990)!==0,s.subtreeFlags&15990||l){l=Bt.transition,Bt.transition=null;var o=_e;_e=1;var i=ye;ye|=4,Ed.current=null,Ag(e,s),Gh(s,e),ig(ec),Ll=!!Zi,ec=Zi=null,e.current=s,Lg(s),hx(),ye=i,_e=o,Bt.transition=l}else e.current=s;if(dl&&(dl=!1,Mr=e,Zl=n),l=e.pendingLanes,l===0&&(Wr=null),xx(s.stateNode),Pt(e,Ke()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(Xl)throw Xl=!1,e=vc,vc=null,e;return Zl&1&&e.tag!==0&&ea(),l=e.pendingLanes,l&1?e===wc?tn++:(tn=0,wc=e):tn=0,es(),null}function ea(){if(Mr!==null){var e=Im(Zl),t=Bt.transition,s=_e;try{if(Bt.transition=null,_e=16>e?16:e,Mr===null)var a=!1;else{if(e=Mr,Mr=null,Zl=0,ye&6)throw Error(F(331));var n=ye;for(ye|=4,J=e.current;J!==null;){var l=J,o=l.child;if(J.flags&16){var i=l.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(J=d;J!==null;){var u=J;switch(u.tag){case 0:case 11:case 15:Za(8,u,l)}var m=u.child;if(m!==null)m.return=u,J=m;else for(;J!==null;){u=J;var f=u.sibling,x=u.return;if(Wh(u),u===d){J=null;break}if(f!==null){f.return=x,J=f;break}J=x}}}var v=l.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}J=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,J=o;else e:for(;J!==null;){if(l=J,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Za(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,J=h;break e}J=l.return}}var p=e.current;for(J=p;J!==null;){o=J;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,J=b;else e:for(o=p;J!==null;){if(i=J,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:ko(9,i)}}catch(P){qe(i,i.return,P)}if(i===o){J=null;break e}var w=i.sibling;if(w!==null){w.return=i.return,J=w;break e}J=i.return}}if(ye=n,es(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(fo,e)}catch{}a=!0}return a}finally{_e=s,Bt.transition=t}}return!1}function o0(e,t,s){t=ua(s,t),t=Ih(e,t,1),e=Vr(e,t,1),t=yt(),e!==null&&(An(e,1,t),Pt(e,t))}function qe(e,t,s){if(e.tag===3)o0(e,e,s);else for(;t!==null;){if(t.tag===3){o0(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Wr===null||!Wr.has(a))){e=ua(s,e),e=Oh(t,e,1),t=Vr(t,e,1),e=yt(),t!==null&&(An(t,1,e),Pt(t,e));break}}t=t.return}}function qg(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&s,ot===e&&(ut&s)===s&&(tt===4||tt===3&&(ut&130023424)===ut&&500>Ke()-Rd?fs(e,0):Td|=s),Pt(e,t)}function tf(e,t){t===0&&(e.mode&1?(t=el,el<<=1,!(el&130023424)&&(el=4194304)):t=1);var s=yt();e=vr(e,t),e!==null&&(An(e,t,s),Pt(e,s))}function Vg(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),tf(e,s)}function Wg(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(F(314))}a!==null&&a.delete(t),tf(e,s)}var rf;rf=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)_t=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return _t=!1,Dg(e,t,s);_t=!!(e.flags&131072)}else _t=!1,Oe&&t.flags&1048576&&lh(t,Vl,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Cl(e,t),e=t.pendingProps;var n=oa(t,gt.current);Zs(t,s),n=Nd(null,t,a,e,n,s);var l=_d();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(a)?(l=!0,Bl(t)):l=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,yd(t),n.updater=wo,t.stateNode=n,n._reactInternals=t,cc(t,a,e,s),t=mc(null,t,a,!0,l,s)):(t.tag=0,Oe&&l&&md(t),bt(null,t,n,s),t=t.child),t;case 16:a=t.elementType;e:{switch(Cl(e,t),e=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=Kg(a),e=Kt(a,e),n){case 0:t=uc(null,t,a,e,s);break e;case 1:t=Yu(null,t,a,e,s);break e;case 11:t=Ju(null,t,a,e,s);break e;case 14:t=Qu(null,t,a,Kt(a.type,e),s);break e}throw Error(F(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Kt(a,n),uc(e,t,a,n,s);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Kt(a,n),Yu(e,t,a,n,s);case 3:e:{if(Uh(t),e===null)throw Error(F(387));a=t.pendingProps,l=t.memoizedState,n=l.element,mh(e,t),Kl(t,a,null,s);var o=t.memoizedState;if(a=o.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){n=ua(Error(F(423)),t),t=Xu(e,t,a,s,n);break e}else if(a!==n){n=ua(Error(F(424)),t),t=Xu(e,t,a,s,n);break e}else for($t=qr(t.stateNode.containerInfo.firstChild),It=t,Oe=!0,Qt=null,s=dh(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ia(),a===n){t=wr(e,t,s);break e}bt(e,t,a,s)}t=t.child}return t;case 5:return hh(t),e===null&&lc(t),a=t.type,n=t.pendingProps,l=e!==null?e.memoizedProps:null,o=n.children,tc(a,n)?o=null:l!==null&&tc(a,l)&&(t.flags|=32),Mh(e,t),bt(e,t,o,s),t.child;case 6:return e===null&&lc(t),null;case 13:return Fh(e,t,s);case 4:return vd(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ca(t,null,a,s):bt(e,t,a,s),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Kt(a,n),Ju(e,t,a,n,s);case 7:return bt(e,t,t.pendingProps,s),t.child;case 8:return bt(e,t,t.pendingProps.children,s),t.child;case 12:return bt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,l=t.memoizedProps,o=n.value,Ee(Wl,a._currentValue),a._currentValue=o,l!==null)if(Zt(l.value,o)){if(l.children===n.children&&!St.current){t=wr(e,t,s);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){o=l.child;for(var c=i.firstContext;c!==null;){if(c.context===a){if(l.tag===1){c=gr(-1,s&-s),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=s,c=l.alternate,c!==null&&(c.lanes|=s),oc(l.return,s,t),i.lanes|=s;break}c=c.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(F(341));o.lanes|=s,i=o.alternate,i!==null&&(i.lanes|=s),oc(o,s,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}bt(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,Zs(t,s),n=Vt(n),a=a(n),t.flags|=1,bt(e,t,a,s),t.child;case 14:return a=t.type,n=Kt(a,t.pendingProps),n=Kt(a.type,n),Qu(e,t,a,n,s);case 15:return Ah(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Kt(a,n),Cl(e,t),t.tag=1,Ct(a)?(e=!0,Bl(t)):e=!1,Zs(t,s),$h(t,a,n),cc(t,a,n,s),mc(null,t,a,!0,e,s);case 19:return zh(e,t,s);case 22:return Lh(e,t,s)}throw Error(F(156,t.tag))};function sf(e,t){return Tm(e,t)}function Hg(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,s,a){return new Hg(e,t,s,a)}function Od(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kg(e){if(typeof e=="function")return Od(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ed)return 11;if(e===td)return 14}return 2}function Kr(e,t){var s=e.alternate;return s===null?(s=zt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Tl(e,t,s,a,n,l){var o=2;if(a=e,typeof e=="function")Od(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ms:return ps(s.children,n,l,t);case Zc:o=8,n|=8;break;case $i:return e=zt(12,s,t,n|2),e.elementType=$i,e.lanes=l,e;case Ii:return e=zt(13,s,t,n),e.elementType=Ii,e.lanes=l,e;case Oi:return e=zt(19,s,t,n),e.elementType=Oi,e.lanes=l,e;case hm:return No(s,n,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case um:o=10;break e;case mm:o=9;break e;case ed:o=11;break e;case td:o=14;break e;case Tr:o=16,a=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=zt(o,s,t,n),t.elementType=e,t.type=a,t.lanes=l,t}function ps(e,t,s,a){return e=zt(7,e,a,t),e.lanes=s,e}function No(e,t,s,a){return e=zt(22,e,a,t),e.elementType=hm,e.lanes=s,e.stateNode={isHidden:!1},e}function wi(e,t,s){return e=zt(6,e,null,t),e.lanes=s,e}function ki(e,t,s){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gg(e,t,s,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ri(0),this.expirationTimes=ri(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Ad(e,t,s,a,n,l,o,i,c){return e=new Gg(e,t,s,i,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=zt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(l),e}function Jg(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function af(e){if(!e)return Qr;e=e._reactInternals;e:{if(Ss(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var s=e.type;if(Ct(s))return ah(e,s,t)}return t}function nf(e,t,s,a,n,l,o,i,c){return e=Ad(s,a,!0,e,n,l,o,i,c),e.context=af(null),s=e.current,a=yt(),n=Hr(s),l=gr(a,n),l.callback=t??null,Vr(s,l,n),e.current.lanes=n,An(e,n,a),Pt(e,a),e}function _o(e,t,s,a){var n=t.current,l=yt(),o=Hr(n);return s=af(s),t.context===null?t.context=s:t.pendingContext=s,t=gr(l,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Vr(n,t,o),e!==null&&(Xt(e,n,o,l),Nl(e,n,o)),o}function to(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function i0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Ld(e,t){i0(e,t),(e=e.alternate)&&i0(e,t)}function Qg(){return null}var lf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Md(e){this._internalRoot=e}So.prototype.render=Md.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));_o(e,t,null,null)};So.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ks(function(){_o(null,e,null,null)}),t[yr]=null}};function So(e){this._internalRoot=e}So.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lm();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ir.length&&t!==0&&t<Ir[s].priority;s++);Ir.splice(s,0,e),s===0&&Um(e)}};function Ud(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function c0(){}function Yg(e,t,s,a,n){if(n){if(typeof a=="function"){var l=a;a=function(){var d=to(o);l.call(d)}}var o=nf(t,a,e,0,null,!1,!1,"",c0);return e._reactRootContainer=o,e[yr]=o.current,yn(e.nodeType===8?e.parentNode:e),ks(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var i=a;a=function(){var d=to(c);i.call(d)}}var c=Ad(e,0,!1,null,null,!1,!1,"",c0);return e._reactRootContainer=c,e[yr]=c.current,yn(e.nodeType===8?e.parentNode:e),ks(function(){_o(t,c,s,a)}),c}function Po(e,t,s,a,n){var l=s._reactRootContainer;if(l){var o=l;if(typeof n=="function"){var i=n;n=function(){var c=to(o);i.call(c)}}_o(t,o,e,n)}else o=Yg(s,t,e,n,a);return to(o)}Om=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Va(t.pendingLanes);s!==0&&(ad(t,s|1),Pt(t,Ke()),!(ye&6)&&(ma=Ke()+500,es()))}break;case 13:ks(function(){var a=vr(e,1);if(a!==null){var n=yt();Xt(a,e,1,n)}}),Ld(e,1)}};nd=function(e){if(e.tag===13){var t=vr(e,134217728);if(t!==null){var s=yt();Xt(t,e,134217728,s)}Ld(e,134217728)}};Am=function(e){if(e.tag===13){var t=Hr(e),s=vr(e,t);if(s!==null){var a=yt();Xt(s,e,t,a)}Ld(e,t)}};Lm=function(){return _e};Mm=function(e,t){var s=_e;try{return _e=e,t()}finally{_e=s}};Wi=function(e,t,s){switch(t){case"input":if(Mi(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=bo(a);if(!n)throw Error(F(90));pm(a),Mi(a,n)}}}break;case"textarea":gm(e,s);break;case"select":t=s.value,t!=null&&Js(e,!!s.multiple,t,!1)}};Nm=Dd;_m=ks;var Xg={usingClientEntryPoint:!1,Events:[Mn,Bs,bo,km,jm,Dd]},La={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zg={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pm(e),e===null?null:e.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||Qg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{fo=ul.inject(Zg),cr=ul}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xg;At.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ud(t))throw Error(F(200));return Jg(e,t,null,s)};At.createRoot=function(e,t){if(!Ud(e))throw Error(F(299));var s=!1,a="",n=lf;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Ad(e,1,!1,null,null,s,!1,a,n),e[yr]=t.current,yn(e.nodeType===8?e.parentNode:e),new Md(t)};At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Pm(t),e=e===null?null:e.stateNode,e};At.flushSync=function(e){return ks(e)};At.hydrate=function(e,t,s){if(!Co(t))throw Error(F(200));return Po(null,e,t,!0,s)};At.hydrateRoot=function(e,t,s){if(!Ud(e))throw Error(F(405));var a=s!=null&&s.hydratedSources||null,n=!1,l="",o=lf;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=nf(t,null,e,1,s??null,n,!1,l,o),e[yr]=t.current,yn(e),a)for(e=0;e<a.length;e++)s=a[e],n=s._getVersion,n=n(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new So(t)};At.render=function(e,t,s){if(!Co(t))throw Error(F(200));return Po(null,e,t,!1,s)};At.unmountComponentAtNode=function(e){if(!Co(e))throw Error(F(40));return e._reactRootContainer?(ks(function(){Po(null,null,e,!1,function(){e._reactRootContainer=null,e[yr]=null})}),!0):!1};At.unstable_batchedUpdates=Dd;At.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!Co(s))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Po(e,t,s,!1,a)};At.version="18.3.1-next-f1338f8080-20240426";function of(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(of)}catch(e){console.error(e)}}of(),om.exports=At;var eb=om.exports,cf,d0=eb;cf=d0.createRoot,d0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Pn.apply(this,arguments)}var Ur;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ur||(Ur={}));const u0="popstate";function tb(e){e===void 0&&(e={});function t(a,n){let{pathname:l,search:o,hash:i}=a.location;return Nc("",{pathname:l,search:o,hash:i},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:ro(n)}return sb(t,s,null,e)}function Ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function df(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rb(){return Math.random().toString(36).substr(2,8)}function m0(e,t){return{usr:e.state,key:e.key,idx:t}}function Nc(e,t,s,a){return s===void 0&&(s=null),Pn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ya(t):t,{state:s,key:t&&t.key||a||rb()})}function ro(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function ya(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function sb(e,t,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:l=!1}=a,o=n.history,i=Ur.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Pn({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){i=Ur.Pop;let k=u(),h=k==null?null:k-d;d=k,c&&c({action:i,location:y.location,delta:h})}function f(k,h){i=Ur.Push;let p=Nc(y.location,k,h);d=u()+1;let b=m0(p,d),w=y.createHref(p);try{o.pushState(b,"",w)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;n.location.assign(w)}l&&c&&c({action:i,location:y.location,delta:1})}function x(k,h){i=Ur.Replace;let p=Nc(y.location,k,h);d=u();let b=m0(p,d),w=y.createHref(p);o.replaceState(b,"",w),l&&c&&c({action:i,location:y.location,delta:0})}function v(k){let h=n.location.origin!=="null"?n.location.origin:n.location.href,p=typeof k=="string"?k:ro(k);return p=p.replace(/ $/,"%20"),Ge(h,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,h)}let y={get action(){return i},get location(){return e(n,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(u0,m),c=k,()=>{n.removeEventListener(u0,m),c=null}},createHref(k){return t(n,k)},createURL:v,encodeLocation(k){let h=v(k);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:f,replace:x,go(k){return o.go(k)}};return y}var h0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(h0||(h0={}));function ab(e,t,s){return s===void 0&&(s="/"),nb(e,t,s,!1)}function nb(e,t,s,a){let n=typeof t=="string"?ya(t):t,l=Fd(n.pathname||"/",s);if(l==null)return null;let o=uf(e);lb(o);let i=null;for(let c=0;i==null&&c<o.length;++c){let d=gb(l);i=pb(o[c],d,a)}return i}function uf(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(l,o,i)=>{let c={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};c.relativePath.startsWith("/")&&(Ge(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=Gr([a,c.relativePath]),u=s.concat(c);l.children&&l.children.length>0&&(Ge(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),uf(l.children,t,u,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:hb(d,l.index),routesMeta:u})};return e.forEach((l,o)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))n(l,o);else for(let c of mf(l.path))n(l,o,c)}),t}function mf(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,n=s.endsWith("?"),l=s.replace(/\?$/,"");if(a.length===0)return n?[l,""]:[l];let o=mf(a.join("/")),i=[];return i.push(...o.map(c=>c===""?l:[l,c].join("/"))),n&&i.push(...o),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function lb(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:fb(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const ob=/^:[\w-]+$/,ib=3,cb=2,db=1,ub=10,mb=-2,f0=e=>e==="*";function hb(e,t){let s=e.split("/"),a=s.length;return s.some(f0)&&(a+=mb),t&&(a+=cb),s.filter(n=>!f0(n)).reduce((n,l)=>n+(ob.test(l)?ib:l===""?db:ub),a)}function fb(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function pb(e,t,s){let{routesMeta:a}=e,n={},l="/",o=[];for(let i=0;i<a.length;++i){let c=a[i],d=i===a.length-1,u=l==="/"?t:t.slice(l.length)||"/",m=p0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!m&&d&&s&&!a[a.length-1].route.index&&(m=p0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(n,m.params),o.push({params:n,pathname:Gr([l,m.pathname]),pathnameBase:wb(Gr([l,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(l=Gr([l,m.pathnameBase]))}return o}function p0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=xb(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let l=n[0],o=l.replace(/(.)\/+$/,"$1"),i=n.slice(1);return{params:a.reduce((d,u,m)=>{let{paramName:f,isOptional:x}=u;if(f==="*"){let y=i[m]||"";o=l.slice(0,l.length-y.length).replace(/(.)\/+$/,"$1")}const v=i[m];return x&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:o,pattern:e}}function xb(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),df(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,c)=>(a.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function gb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return df(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function bb(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?ya(e):e;return{pathname:s?s.startsWith("/")?s:yb(s,t):t,search:kb(a),hash:jb(n)}}function yb(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function ji(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vb(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function zd(e,t){let s=vb(e);return t?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function Bd(e,t,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=ya(e):(n=Pn({},e),Ge(!n.pathname||!n.pathname.includes("?"),ji("?","pathname","search",n)),Ge(!n.pathname||!n.pathname.includes("#"),ji("#","pathname","hash",n)),Ge(!n.search||!n.search.includes("#"),ji("#","search","hash",n)));let l=e===""||n.pathname==="",o=l?"/":n.pathname,i;if(o==null)i=s;else{let m=t.length-1;if(!a&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;n.pathname=f.join("/")}i=m>=0?t[m]:"/"}let c=bb(n,i),d=o&&o!=="/"&&o.endsWith("/"),u=(l||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Gr=e=>e.join("/").replace(/\/\/+/g,"/"),wb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Nb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hf=["post","put","patch","delete"];new Set(hf);const _b=["get",...hf];new Set(_b);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function En(){return En=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},En.apply(this,arguments)}const qd=g.createContext(null),Sb=g.createContext(null),ts=g.createContext(null),Eo=g.createContext(null),jr=g.createContext({outlet:null,matches:[],isDataRoute:!1}),ff=g.createContext(null);function Cb(e,t){let{relative:s}=t===void 0?{}:t;va()||Ge(!1);let{basename:a,navigator:n}=g.useContext(ts),{hash:l,pathname:o,search:i}=xf(e,{relative:s}),c=o;return a!=="/"&&(c=o==="/"?a:Gr([a,o])),n.createHref({pathname:c,search:i,hash:l})}function va(){return g.useContext(Eo)!=null}function rs(){return va()||Ge(!1),g.useContext(Eo).location}function pf(e){g.useContext(ts).static||g.useLayoutEffect(e)}function Cs(){let{isDataRoute:e}=g.useContext(jr);return e?Fb():Pb()}function Pb(){va()||Ge(!1);let e=g.useContext(qd),{basename:t,future:s,navigator:a}=g.useContext(ts),{matches:n}=g.useContext(jr),{pathname:l}=rs(),o=JSON.stringify(zd(n,s.v7_relativeSplatPath)),i=g.useRef(!1);return pf(()=>{i.current=!0}),g.useCallback(function(d,u){if(u===void 0&&(u={}),!i.current)return;if(typeof d=="number"){a.go(d);return}let m=Bd(d,JSON.parse(o),l,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Gr([t,m.pathname])),(u.replace?a.replace:a.push)(m,u.state,u)},[t,a,o,l,e])}function Vd(){let{matches:e}=g.useContext(jr),t=e[e.length-1];return t?t.params:{}}function xf(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=g.useContext(ts),{matches:n}=g.useContext(jr),{pathname:l}=rs(),o=JSON.stringify(zd(n,a.v7_relativeSplatPath));return g.useMemo(()=>Bd(e,JSON.parse(o),l,s==="path"),[e,o,l,s])}function Eb(e,t){return Tb(e,t)}function Tb(e,t,s,a){va()||Ge(!1);let{navigator:n,static:l}=g.useContext(ts),{matches:o}=g.useContext(jr),i=o[o.length-1],c=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let u=rs(),m;if(t){var f;let h=typeof t=="string"?ya(t):t;d==="/"||(f=h.pathname)!=null&&f.startsWith(d)||Ge(!1),m=h}else m=u;let x=m.pathname||"/",v=x;if(d!=="/"){let h=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(h.length).join("/")}let y=!l&&s&&s.matches&&s.matches.length>0?s.matches:ab(e,{pathname:v}),k=Ob(y&&y.map(h=>Object.assign({},h,{params:Object.assign({},c,h.params),pathname:Gr([d,n.encodeLocation?n.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?d:Gr([d,n.encodeLocation?n.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),o,s,a);return t&&k?g.createElement(Eo.Provider,{value:{location:En({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ur.Pop}},k):k}function Rb(){let e=Ub(),t=Nb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),s?g.createElement("pre",{style:n},s):null,null)}const Db=g.createElement(Rb,null);class $b extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?g.createElement(jr.Provider,{value:this.props.routeContext},g.createElement(ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ib(e){let{routeContext:t,match:s,children:a}=e,n=g.useContext(qd);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(jr.Provider,{value:t},a)}function Ob(e,t,s,a){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var l;if(!s)return null;if(s.errors)e=s.matches;else if((l=a)!=null&&l.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,i=(n=s)==null?void 0:n.errors;if(i!=null){let u=o.findIndex(m=>m.route.id&&(i==null?void 0:i[m.route.id])!==void 0);u>=0||Ge(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&a&&a.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:f,errors:x}=s,v=m.route.loader&&f[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||v){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,f)=>{let x,v=!1,y=null,k=null;s&&(x=i&&m.route.id?i[m.route.id]:void 0,y=m.route.errorElement||Db,c&&(d<0&&f===0?(v=!0,k=null):d===f&&(v=!0,k=m.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,f+1)),p=()=>{let b;return x?b=y:v?b=k:m.route.Component?b=g.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=u,g.createElement(Ib,{match:m,routeContext:{outlet:u,matches:h,isDataRoute:s!=null},children:b})};return s&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?g.createElement($b,{location:s.location,revalidation:s.revalidation,component:y,error:x,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var gf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gf||{}),so=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(so||{});function Ab(e){let t=g.useContext(qd);return t||Ge(!1),t}function Lb(e){let t=g.useContext(Sb);return t||Ge(!1),t}function Mb(e){let t=g.useContext(jr);return t||Ge(!1),t}function bf(e){let t=Mb(),s=t.matches[t.matches.length-1];return s.route.id||Ge(!1),s.route.id}function Ub(){var e;let t=g.useContext(ff),s=Lb(so.UseRouteError),a=bf(so.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function Fb(){let{router:e}=Ab(gf.UseNavigateStable),t=bf(so.UseNavigateStable),s=g.useRef(!1);return pf(()=>{s.current=!0}),g.useCallback(function(n,l){l===void 0&&(l={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,En({fromRouteId:t},l)))},[e,t])}function zb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Bb(e){let{to:t,replace:s,state:a,relative:n}=e;va()||Ge(!1);let{future:l,static:o}=g.useContext(ts),{matches:i}=g.useContext(jr),{pathname:c}=rs(),d=Cs(),u=Bd(t,zd(i,l.v7_relativeSplatPath),c,n==="path"),m=JSON.stringify(u);return g.useEffect(()=>d(JSON.parse(m),{replace:s,state:a,relative:n}),[d,m,n,s,a]),null}function st(e){Ge(!1)}function qb(e){let{basename:t="/",children:s=null,location:a,navigationType:n=Ur.Pop,navigator:l,static:o=!1,future:i}=e;va()&&Ge(!1);let c=t.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:l,static:o,future:En({v7_relativeSplatPath:!1},i)}),[c,i,l,o]);typeof a=="string"&&(a=ya(a));let{pathname:u="/",search:m="",hash:f="",state:x=null,key:v="default"}=a,y=g.useMemo(()=>{let k=Fd(u,c);return k==null?null:{location:{pathname:k,search:m,hash:f,state:x,key:v},navigationType:n}},[c,u,m,f,x,v,n]);return y==null?null:g.createElement(ts.Provider,{value:d},g.createElement(Eo.Provider,{children:s,value:y}))}function Vb(e){let{children:t,location:s}=e;return Eb(_c(t),s)}new Promise(()=>{});function _c(e,t){t===void 0&&(t=[]);let s=[];return g.Children.forEach(e,(a,n)=>{if(!g.isValidElement(a))return;let l=[...t,n];if(a.type===g.Fragment){s.push.apply(s,_c(a.props.children,l));return}a.type!==st&&Ge(!1),!a.props.index||!a.props.children||Ge(!1);let o={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=_c(a.props.children,l)),s.push(o)}),s}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Sc.apply(this,arguments)}function Wb(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,l;for(l=0;l<a.length;l++)n=a[l],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function Hb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Kb(e,t){return e.button===0&&(!t||t==="_self")&&!Hb(e)}function Cc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let a=e[s];return t.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function Gb(e,t){let s=Cc(e);return t&&t.forEach((a,n)=>{s.has(n)||t.getAll(n).forEach(l=>{s.append(n,l)})}),s}const Jb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qb="6";try{window.__reactRouterVersion=Qb}catch{}const Yb="startTransition",x0=qp[Yb];function Xb(e){let{basename:t,children:s,future:a,window:n}=e,l=g.useRef();l.current==null&&(l.current=tb({window:n,v5Compat:!0}));let o=l.current,[i,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},u=g.useCallback(m=>{d&&x0?x0(()=>c(m)):c(m)},[c,d]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.useEffect(()=>zb(a),[a]),g.createElement(qb,{basename:t,children:s,location:i.location,navigationType:i.action,navigator:o,future:a})}const Zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ey=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=g.forwardRef(function(t,s){let{onClick:a,relative:n,reloadDocument:l,replace:o,state:i,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,f=Wb(t,Jb),{basename:x}=g.useContext(ts),v,y=!1;if(typeof d=="string"&&ey.test(d)&&(v=d,Zb))try{let b=new URL(window.location.href),w=d.startsWith("//")?new URL(b.protocol+d):new URL(d),P=Fd(w.pathname,x);w.origin===b.origin&&P!=null?d=P+w.search+w.hash:y=!0}catch{}let k=Cb(d,{relative:n}),h=ty(d,{replace:o,state:i,target:c,preventScrollReset:u,relative:n,viewTransition:m});function p(b){a&&a(b),b.defaultPrevented||h(b)}return g.createElement("a",Sc({},f,{href:v||k,onClick:y||l?a:p,ref:s,target:c}))});var g0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(g0||(g0={}));var b0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(b0||(b0={}));function ty(e,t){let{target:s,replace:a,state:n,preventScrollReset:l,relative:o,viewTransition:i}=t===void 0?{}:t,c=Cs(),d=rs(),u=xf(e,{relative:o});return g.useCallback(m=>{if(Kb(m,s)){m.preventDefault();let f=a!==void 0?a:ro(d)===ro(u);c(e,{replace:f,state:n,preventScrollReset:l,relative:o,viewTransition:i})}},[d,c,u,a,n,s,e,l,o,i])}function To(e){let t=g.useRef(Cc(e)),s=g.useRef(!1),a=rs(),n=g.useMemo(()=>Gb(a.search,s.current?null:t.current),[a.search]),l=Cs(),o=g.useCallback((i,c)=>{const d=Cc(typeof i=="function"?i(n):i);s.current=!0,l("?"+d,c)},[l,n]);return[n,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ry={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),H=(e,t)=>{const s=g.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:i="",children:c,...d},u)=>g.createElement("svg",{ref:u,...ry,width:n,height:n,stroke:a,strokeWidth:o?Number(l)*24/Number(n):l,className:["lucide",`lucide-${sy(e)}`,i].join(" "),...d},[...t.map(([m,f])=>g.createElement(m,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=H("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=H("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=H("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=H("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=H("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=H("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=H("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=H("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=H("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=H("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=H("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=H("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=H("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=H("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=H("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=H("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=H("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=H("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=H("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=H("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=H("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=H("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=H("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=H("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=H("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=H("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=H("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=H("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=H("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=H("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=H("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=H("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=H("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=H("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=H("MailPlus",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=H("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=H("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=H("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=H("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=H("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=H("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=H("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=H("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=H("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=H("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=H("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=H("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=H("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=H("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=H("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=H("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=H("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=H("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=H("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=H("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=H("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=H("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=H("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=H("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=H("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=H("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=H("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=H("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jy="modulepreload",Ny=function(e){return"/"+e},_0={},er=function(t,s,a){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(c=>{if(c=Ny(c),c in _0)return;_0[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":jy,d||(m.as="script"),m.crossOrigin="",m.href=c,i&&m.setAttribute("nonce",i),document.head.appendChild(m),d)return new Promise((f,x)=>{m.addEventListener("load",f),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(o){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return n.then(o=>{for(const i of o||[])i.status==="rejected"&&l(i.reason);return t().catch(l)})},_y=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>er(async()=>{const{default:a}=await Promise.resolve().then(()=>ka);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)};class Wd extends Error{constructor(t,s="FunctionsError",a){super(t),this.name=s,this.context=a}}class Sy extends Wd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cy extends Wd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Py extends Wd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Oc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Oc||(Oc={}));var Ey=function(e,t,s,a){function n(l){return l instanceof s?l:new s(function(o){o(l)})}return new(s||(s=Promise))(function(l,o){function i(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?l(u.value):n(u.value).then(i,c)}d((a=a.apply(e,t||[])).next())})};class Ty{constructor(t,{headers:s={},customFetch:a,region:n=Oc.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=_y(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var a;return Ey(this,void 0,void 0,function*(){try{const{headers:n,method:l,body:o}=s;let i={},{region:c}=s;c||(c=this.region),c&&c!=="any"&&(i["x-region"]=c);let d;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(i["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(i["Content-Type"]="application/json",d=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),n),body:d}).catch(v=>{throw new Sy(v)}),m=u.headers.get("x-relay-error");if(m&&m==="true")throw new Cy(u);if(!u.ok)throw new Py(u);let f=((a=u.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),x;return f==="application/json"?x=yield u.json():f==="application/octet-stream"?x=yield u.blob():f==="text/event-stream"?x=u:f==="multipart/form-data"?x=yield u.formData():x=yield u.text(),{data:x,error:null}}catch(n){return{data:null,error:n}}})}}var Nt={},Hd={},$o={},zn={},Io={},Oo={},Ry=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fa=Ry();const Dy=fa.fetch,Pf=fa.fetch.bind(fa),Ef=fa.Headers,$y=fa.Request,Iy=fa.Response,ka=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ef,Request:$y,Response:Iy,default:Pf,fetch:Dy},Symbol.toStringTag,{value:"Module"})),Oy=Cp(ka);var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});let Ay=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ao.default=Ay;var Tf=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oo,"__esModule",{value:!0});const Ly=Tf(Oy),My=Tf(Ao);let Uy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ly.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let n=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var o,i,c;let d=null,u=null,m=null,f=l.status,x=l.statusText;if(l.ok){if(this.method!=="HEAD"){const h=await l.text();h===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=h:u=JSON.parse(h))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(i=l.headers.get("content-range"))===null||i===void 0?void 0:i.split("/");y&&k&&k.length>1&&(m=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,m=null,f=406,x="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await l.text();try{d=JSON.parse(y),Array.isArray(d)&&l.status===404&&(u=[],d=null,f=200,x="OK")}catch{l.status===404&&y===""?(f=204,x="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,x="OK"),d&&this.shouldThrowOnError)throw new My.default(d)}return{error:d,data:u,count:m,status:f,statusText:x}});return this.shouldThrowOnError||(n=n.catch(l=>{var o,i,c;return{error:{message:`${(o=l==null?void 0:l.name)!==null&&o!==void 0?o:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(i=l==null?void 0:l.stack)!==null&&i!==void 0?i:""}`,hint:"",code:`${(c=l==null?void 0:l.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,s)}returns(){return this}overrideTypes(){return this}};Oo.default=Uy;var Fy=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Io,"__esModule",{value:!0});const zy=Fy(Oo);let By=class extends zy.default{select(t){let s=!1;const a=(t??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:a,foreignTable:n,referencedTable:l=n}={}){const o=l?`${l}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${t}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:a=s}={}){const n=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,s,{foreignTable:a,referencedTable:n=a}={}){const l=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:a=!1,buffers:n=!1,wal:l=!1,format:o="text"}={}){var i;const c=[t?"analyze":null,s?"verbose":null,a?"settings":null,n?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(i=this.headers.Accept)!==null&&i!==void 0?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Io.default=By;var qy=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zn,"__esModule",{value:!0});const Vy=qy(Io);let Wy=class extends Vy.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const a=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${a})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:a,type:n}={}){let l="";n==="plain"?l="pl":n==="phrase"?l="ph":n==="websearch"&&(l="w");const o=a===void 0?"":`(${a})`;return this.url.searchParams.append(t,`${l}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(t,s,a){return this.url.searchParams.append(t,`not.${s}.${a}`),this}or(t,{foreignTable:s,referencedTable:a=s}={}){const n=a?`${a}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,s,a){return this.url.searchParams.append(t,`${s}.${a}`),this}};zn.default=Wy;var Hy=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($o,"__esModule",{value:!0});const Ma=Hy(zn);let Ky=class{constructor(t,{headers:s={},schema:a,fetch:n}){this.url=t,this.headers=s,this.schema=a,this.fetch=n}select(t,{head:s=!1,count:a}={}){const n=s?"HEAD":"GET";let l=!1;const o=(t??"*").split("").map(i=>/\s/.test(i)&&!l?"":(i==='"'&&(l=!l),i)).join("");return this.url.searchParams.set("select",o),a&&(this.headers.Prefer=`count=${a}`),new Ma.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:a=!0}={}){const n="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const o=t.reduce((i,c)=>i.concat(Object.keys(c)),[]);if(o.length>0){const i=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",i.join(","))}}return new Ma.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:a=!1,count:n,defaultToNull:l=!0}={}){const o="POST",i=[`resolution=${a?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),l||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ma.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const a="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new Ma.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",a=[];return t&&a.push(`count=${t}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new Ma.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$o.default=Ky;var Lo={},Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.version=void 0;Mo.version="0.0.0-automated";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.DEFAULT_HEADERS=void 0;const Gy=Mo;Lo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Gy.version}`};var Rf=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hd,"__esModule",{value:!0});const Jy=Rf($o),Qy=Rf(zn),Yy=Lo;let Xy=class Df{constructor(t,{headers:s={},schema:a,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},Yy.DEFAULT_HEADERS),s),this.schemaName=a,this.fetch=n}from(t){const s=new URL(`${this.url}/${t}`);return new Jy.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Df(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:a=!1,get:n=!1,count:l}={}){let o;const i=new URL(`${this.url}/rpc/${t}`);let c;a||n?(o=a?"HEAD":"GET",Object.entries(s).filter(([u,m])=>m!==void 0).map(([u,m])=>[u,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([u,m])=>{i.searchParams.append(u,m)})):(o="POST",c=s);const d=Object.assign({},this.headers);return l&&(d.Prefer=`count=${l}`),new Qy.default({method:o,url:i,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Hd.default=Xy;var ja=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const $f=ja(Hd);Nt.PostgrestClient=$f.default;const If=ja($o);Nt.PostgrestQueryBuilder=If.default;const Of=ja(zn);Nt.PostgrestFilterBuilder=Of.default;const Af=ja(Io);Nt.PostgrestTransformBuilder=Af.default;const Lf=ja(Oo);Nt.PostgrestBuilder=Lf.default;const Mf=ja(Ao);Nt.PostgrestError=Mf.default;var Zy=Nt.default={PostgrestClient:$f.default,PostgrestQueryBuilder:If.default,PostgrestFilterBuilder:Of.default,PostgrestTransformBuilder:Af.default,PostgrestBuilder:Lf.default,PostgrestError:Mf.default};const{PostgrestClient:ev,PostgrestQueryBuilder:Cj,PostgrestFilterBuilder:Pj,PostgrestTransformBuilder:Ej,PostgrestBuilder:Tj,PostgrestError:Rj}=Zy,tv="2.11.2",rv={"X-Client-Info":`realtime-js/${tv}`},sv="1.0.0",Uf=1e4,av=1e3;var na;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(na||(na={}));var Tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tt||(Tt={}));var Jt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Jt||(Jt={}));var Ac;(function(e){e.websocket="websocket"})(Ac||(Ac={}));var ds;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ds||(ds={}));class nv{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,s,a)}_decodeBroadcast(t,s,a){const n=s.getUint8(1),l=s.getUint8(2);let o=this.HEADER_LENGTH+2;const i=a.decode(t.slice(o,o+n));o=o+n;const c=a.decode(t.slice(o,o+l));o=o+l;const d=JSON.parse(a.decode(t.slice(o,t.byteLength)));return{ref:null,topic:i,event:c,payload:d}}}class Ff{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Pe||(Pe={}));const S0=(e,t,s={})=>{var a;const n=(a=s.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(t).reduce((l,o)=>(l[o]=lv(o,e,t,n),l),{})},lv=(e,t,s,a)=>{const n=t.find(i=>i.name===e),l=n==null?void 0:n.type,o=s[e];return l&&!a.includes(l)?zf(l,o):Lc(o)},zf=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return dv(t,s)}switch(e){case Pe.bool:return ov(t);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return iv(t);case Pe.json:case Pe.jsonb:return cv(t);case Pe.timestamp:return uv(t);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return Lc(t);default:return Lc(t)}},Lc=e=>e,ov=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},iv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dv=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,a=e[s];if(e[0]==="{"&&a==="}"){let l;const o=e.slice(1,s);try{l=JSON.parse("["+o+"]")}catch{l=o?o.split(","):[]}return l.map(i=>zf(t,i))}return e},uv=e=>typeof e=="string"?e.replace(" ","T"):e,Bf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ni{constructor(t,s,a={},n=Uf){this.channel=t,this.event=s,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var a;return this._hasReceived(t)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var C0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(C0||(C0={}));class nn{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:l,onLeave:o,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nn.syncState(this.state,n,l,o),this.pendingDiffs.forEach(c=>{this.state=nn.syncDiff(this.state,c,l,o)}),this.pendingDiffs=[],i()}),this.channel._on(a.diff,{},n=>{const{onJoin:l,onLeave:o,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=nn.syncDiff(this.state,n,l,o),i())}),this.onJoin((n,l,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:l,newPresences:o})}),this.onLeave((n,l,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:l,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,a,n){const l=this.cloneDeep(t),o=this.transformState(s),i={},c={};return this.map(l,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const m=l[d];if(m){const f=u.map(k=>k.presence_ref),x=m.map(k=>k.presence_ref),v=u.filter(k=>x.indexOf(k.presence_ref)<0),y=m.filter(k=>f.indexOf(k.presence_ref)<0);v.length>0&&(i[d]=v),y.length>0&&(c[d]=y)}else i[d]=u}),this.syncDiff(l,{joins:i,leaves:c},a,n)}static syncDiff(t,s,a,n){const{joins:l,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(l,(i,c)=>{var d;const u=(d=t[i])!==null&&d!==void 0?d:[];if(t[i]=this.cloneDeep(c),u.length>0){const m=t[i].map(x=>x.presence_ref),f=u.filter(x=>m.indexOf(x.presence_ref)<0);t[i].unshift(...f)}a(i,u,c)}),this.map(o,(i,c)=>{let d=t[i];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),t[i]=d,n(i,d,c),d.length===0&&delete t[i]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(a=>s(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,a)=>{const n=t[a];return"metas"in n?s[a]=n.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):s[a]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var P0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(P0||(P0={}));var E0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(E0||(E0={}));var hr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hr||(hr={}));class Kd{constructor(t,s={config:{}},a){this.topic=t,this.params=s,this.socket=a,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ni(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new Ff(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(n,l)=>{this._trigger(this._replyEventName(l),n)}),this.presence=new nn(this),this.broadcastEndpointURL=Bf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var a,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:o,private:i}}=this.params;this._onError(u=>t==null?void 0:t(hr.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(hr.CLOSED));const c={},d={broadcast:l,presence:o,postgres_changes:(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(u=>u.filter))!==null&&n!==void 0?n:[],private:i};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var m;if(this.socket.setAuth(),u===void 0){t==null||t(hr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,x=(m=f==null?void 0:f.length)!==null&&m!==void 0?m:0,v=[];for(let y=0;y<x;y++){const k=f[y],{filter:{event:h,schema:p,table:b,filter:w}}=k,P=u&&u[y];if(P&&P.event===h&&P.schema===p&&P.table===b&&P.filter===w)v.push(Object.assign(Object.assign({},k),{id:P.id}));else{this.unsubscribe(),t==null||t(hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(hr.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,a){return this._on(t,s,a)}async send(t,s={}){var a,n;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var o,i,c;const d=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(i=(o=this.params)===null||o===void 0?void 0:o.config)===null||i===void 0?void 0:i.broadcast)===null||c===void 0)&&c.ack)&&l("ok"),d.receive("ok",()=>l("ok")),d.receive("error",()=>l("error")),d.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(a=>{const n=new Ni(this,Jt.leave,{},t);n.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,s,a){const n=new AbortController,l=setTimeout(()=>n.abort(),a),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(l),o}_push(t,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ni(this,t,s,a);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,a){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,a){var n,l;const o=t.toLocaleLowerCase(),{close:i,error:c,leave:d,join:u}=Jt;if(a&&[i,c,d,u].indexOf(o)>=0&&a!==this._joinRef())return;let f=this._onMessage(o,s,a);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(x=>{var v,y,k;return((v=x.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(y=x.filter)===null||y===void 0?void 0:y.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(x=>x.callback(f,a)):(l=this.bindings[o])===null||l===void 0||l.filter(x=>{var v,y,k,h,p,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const w=x.id,P=(v=x.filter)===null||v===void 0?void 0:v.event;return w&&((y=s.ids)===null||y===void 0?void 0:y.includes(w))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const w=(p=(h=x==null?void 0:x.filter)===null||h===void 0?void 0:h.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:k,commit_timestamp:h,type:p,errors:b}=v;f=Object.assign(Object.assign({},{schema:y,table:k,commit_timestamp:h,eventType:p,new:{},old:{},errors:b}),this._getPayloadRecords(v))}x.callback(f,a)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,a){const n=t.toLocaleLowerCase(),l={type:n,filter:s,callback:a};return this.bindings[n]?this.bindings[n].push(l):this.bindings[n]=[l],this}_off(t,s){const a=t.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(n=>{var l;return!(((l=n.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&Kd.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jt.close,{},t)}_onError(t){this._on(Jt.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=S0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=S0(t.columns,t.old_record)),s}}const mv=()=>{},hv=typeof WebSocket<"u",fv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pv{constructor(t,s){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=rv,this.params={},this.timeout=Uf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mv,this.conn=null,this.sendBuffer=[],this.serializer=new nv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let o;return l?o=l:typeof fetch>"u"?o=(...i)=>er(async()=>{const{default:c}=await Promise.resolve().then(()=>ka);return{default:c}},void 0).then(({default:c})=>c(...i)):o=fetch,(...i)=>o(...i)},this.endPoint=`${t}/${Ac.websocket}`,this.httpEndpoint=Bf(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(a=s==null?void 0:s.params)===null||a===void 0?void 0:a.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(l,o)=>o(JSON.stringify(l)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ff(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(hv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new xv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),er(async()=>{const{default:t}=await import("./browser-BZbSmE9c.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:sv}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,a){this.logger(t,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case na.connecting:return ds.Connecting;case na.open:return ds.Open;case na.closing:return ds.Closing;default:return ds.Closed}}isConnected(){return this.connectionState()===ds.Open}channel(t,s={config:{}}){const a=new Kd(`realtime:${t}`,s,this);return this.channels.push(a),a}push(t){const{topic:s,event:a,payload:n,ref:l}=t,o=()=>{this.encode(t,i=>{var c;(c=this.conn)===null||c===void 0||c.send(i)})};this.log("push",`${s} ${a} (${l})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let a=null;try{a=JSON.parse(atob(s.split(".")[1]))}catch{}if(a&&a.exp&&!(Math.floor(Date.now()/1e3)-a.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${a.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${a.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Jt.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(av,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:a,event:n,payload:l,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${a} ${n} ${o&&"("+o+")"||""}`,l),this.channels.filter(i=>i._isMember(a)).forEach(i=>i._trigger(n,l,o)),this.stateChangeCallbacks.message.forEach(i=>i(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jt.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const a=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${a}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const a=new Blob([fv],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}}class xv{constructor(t,s,a){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=na.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=a.close}}class Gd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function at(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gv extends Gd{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Mc extends Gd{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var bv=function(e,t,s,a){function n(l){return l instanceof s?l:new s(function(o){o(l)})}return new(s||(s=Promise))(function(l,o){function i(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?l(u.value):n(u.value).then(i,c)}d((a=a.apply(e,t||[])).next())})};const qf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>er(async()=>{const{default:a}=await Promise.resolve().then(()=>ka);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)},yv=()=>bv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield er(()=>Promise.resolve().then(()=>ka),void 0)).Response:Response}),Uc=e=>{if(Array.isArray(e))return e.map(s=>Uc(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,a])=>{const n=s.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[n]=Uc(a)}),t};var Ps=function(e,t,s,a){function n(l){return l instanceof s?l:new s(function(o){o(l)})}return new(s||(s=Promise))(function(l,o){function i(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?l(u.value):n(u.value).then(i,c)}d((a=a.apply(e,t||[])).next())})};const _i=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vv=(e,t,s)=>Ps(void 0,void 0,void 0,function*(){const a=yield yv();e instanceof a&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{t(new gv(_i(n),e.status||500))}).catch(n=>{t(new Mc(_i(n),n))}):t(new Mc(_i(e),e))}),wv=(e,t,s,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a&&(n.body=JSON.stringify(a)),Object.assign(Object.assign({},n),s))};function Bn(e,t,s,a,n,l){return Ps(this,void 0,void 0,function*(){return new Promise((o,i)=>{e(s,wv(t,a,n,l)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>vv(c,i,a))})})}function uo(e,t,s,a){return Ps(this,void 0,void 0,function*(){return Bn(e,"GET",t,s,a)})}function $r(e,t,s,a,n){return Ps(this,void 0,void 0,function*(){return Bn(e,"POST",t,a,n,s)})}function kv(e,t,s,a,n){return Ps(this,void 0,void 0,function*(){return Bn(e,"PUT",t,a,n,s)})}function jv(e,t,s,a){return Ps(this,void 0,void 0,function*(){return Bn(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function Vf(e,t,s,a,n){return Ps(this,void 0,void 0,function*(){return Bn(e,"DELETE",t,a,n,s)})}var kt=function(e,t,s,a){function n(l){return l instanceof s?l:new s(function(o){o(l)})}return new(s||(s=Promise))(function(l,o){function i(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?l(u.value):n(u.value).then(i,c)}d((a=a.apply(e,t||[])).next())})};const Nv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _v{constructor(t,s={},a,n){this.url=t,this.headers=s,this.bucketId=a,this.fetch=qf(n)}uploadOrUpdate(t,s,a,n){return kt(this,void 0,void 0,function*(){try{let l;const o=Object.assign(Object.assign({},T0),n);let i=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",o.cacheControl),c&&l.append("metadata",this.encodeMetadata(c)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",o.cacheControl),c&&l.append("metadata",this.encodeMetadata(c))):(l=a,i["cache-control"]=`max-age=${o.cacheControl}`,i["content-type"]=o.contentType,c&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(i=Object.assign(Object.assign({},i),n.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),m=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:l,headers:i},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield m.json();return m.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(at(l))return{data:null,error:l};throw l}})}upload(t,s,a){return kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,a)})}uploadToSignedUrl(t,s,a,n){return kt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),o=this._getFinalPath(l),i=new URL(this.url+`/object/upload/sign/${o}`);i.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:T0.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl)):(c=a,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield this.fetch(i.toString(),{method:"PUT",body:c,headers:u}),f=yield m.json();return m.ok?{data:{path:l,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(at(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return kt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const l=yield $r(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),o=new URL(this.url+l.url),i=o.searchParams.get("token");if(!i)throw new Gd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:i},error:null}}catch(a){if(at(a))return{data:null,error:a};throw a}})}update(t,s,a){return kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,a)})}move(t,s,a){return kt(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}copy(t,s,a){return kt(this,void 0,void 0,function*(){try{return{data:{path:(yield $r(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,a){return kt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),l=yield $r(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${o}`)},{data:l,error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,a){return kt(this,void 0,void 0,function*(){try{const n=yield $r(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),l=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${l}`):null})),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}download(t,s){return kt(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=l?`?${l}`:"";try{const i=this._getFinalPath(t);return{data:yield(yield uo(this.fetch,`${this.url}/${n}/${i}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(i){if(at(i))return{data:null,error:i};throw i}})}info(t){return kt(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const a=yield uo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Uc(a),error:null}}catch(a){if(at(a))return{data:null,error:a};throw a}})}exists(t){return kt(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield jv(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(at(a)&&a instanceof Mc){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,s){const a=this._getFinalPath(t),n=[],l=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";l!==""&&n.push(l);const i=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${a}${d}`)}}}remove(t){return kt(this,void 0,void 0,function*(){try{return{data:yield Vf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(at(s))return{data:null,error:s};throw s}})}list(t,s,a){return kt(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Nv),s),{prefix:t||""});return{data:yield $r(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Sv="2.7.1",Cv={"X-Client-Info":`storage-js/${Sv}`};var Ds=function(e,t,s,a){function n(l){return l instanceof s?l:new s(function(o){o(l)})}return new(s||(s=Promise))(function(l,o){function i(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?l(u.value):n(u.value).then(i,c)}d((a=a.apply(e,t||[])).next())})};class Pv{constructor(t,s={},a){this.url=t,this.headers=Object.assign(Object.assign({},Cv),s),this.fetch=qf(a)}listBuckets(){return Ds(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(at(t))return{data:null,error:t};throw t}})}getBucket(t){return Ds(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(at(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Ds(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(at(a))return{data:null,error:a};throw a}})}updateBucket(t,s){return Ds(this,void 0,void 0,function*(){try{return{data:yield kv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(at(a))return{data:null,error:a};throw a}})}emptyBucket(t){return Ds(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(at(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Ds(this,void 0,void 0,function*(){try{return{data:yield Vf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(at(s))return{data:null,error:s};throw s}})}}class Ev extends Pv{constructor(t,s={},a){super(t,s,a)}from(t){return new _v(this.url,this.headers,t,this.fetch)}}const Tv="2.49.4";let Ha="";typeof Deno<"u"?Ha="deno":typeof document<"u"?Ha="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ha="react-native":Ha="node";const Rv={"X-Client-Info":`supabase-js-${Ha}/${Tv}`},Dv={headers:Rv},$v={schema:"public"},Iv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ov={};var Av=function(e,t,s,a){function n(l){return l instanceof s?l:new s(function(o){o(l)})}return new(s||(s=Promise))(function(l,o){function i(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?l(u.value):n(u.value).then(i,c)}d((a=a.apply(e,t||[])).next())})};const Lv=e=>{let t;return e?t=e:typeof fetch>"u"?t=Pf:t=fetch,(...s)=>t(...s)},Mv=()=>typeof Headers>"u"?Ef:Headers,Uv=(e,t,s)=>{const a=Lv(s),n=Mv();return(l,o)=>Av(void 0,void 0,void 0,function*(){var i;const c=(i=yield t())!==null&&i!==void 0?i:e;let d=new n(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),a(l,Object.assign(Object.assign({},o),{headers:d}))})};var Fv=function(e,t,s,a){function n(l){return l instanceof s?l:new s(function(o){o(l)})}return new(s||(s=Promise))(function(l,o){function i(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?l(u.value):n(u.value).then(i,c)}d((a=a.apply(e,t||[])).next())})};function zv(e){return e.replace(/\/$/,"")}function Bv(e,t){const{db:s,auth:a,realtime:n,global:l}=e,{db:o,auth:i,realtime:c,global:d}=t,u={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},i),a),realtime:Object.assign(Object.assign({},c),n),global:Object.assign(Object.assign({},d),l),accessToken:()=>Fv(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const Wf="2.69.1",As=30*1e3,Fc=3,Si=Fc*As,qv="http://localhost:9999",Vv="supabase.auth.token",Wv={"X-Client-Info":`gotrue-js/${Wf}`},zc="X-Supabase-Api-Version",Hf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kv=6e5;class Jd extends Error{constructor(t,s,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Gv extends Jd{constructor(t,s,a){super(t,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function Jv(e){return ue(e)&&e.name==="AuthApiError"}class Kf extends Jd{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class ss extends Jd{constructor(t,s,a,n){super(t,a,n),this.name=s,this.status=a}}class Pr extends ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qv(e){return ue(e)&&e.name==="AuthSessionMissingError"}class Ci extends ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ml extends ss{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class hl extends ss{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yv(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class R0 extends ss{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bc extends ss{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Pi(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class D0 extends ss{constructor(t,s,a){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class ln extends ss{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),I0=` 	
\r=`.split(""),Xv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<I0.length;t+=1)e[I0[t].charCodeAt(0)]=-2;for(let t=0;t<$0.length;t+=1)e[$0[t].charCodeAt(0)]=t;return e})();function Gf(e,t,s){const a=Xv[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function O0(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},l=o=>{tw(o,a,s)};for(let o=0;o<e.length;o+=1)Gf(e.charCodeAt(o),n,l);return t.join("")}function Zv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ew(e,t){for(let s=0;s<e.length;s+=1){let a=e.charCodeAt(s);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Zv(a,t)}}function tw(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function rw(e){const t=[],s={queue:0,queuedBits:0},a=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)Gf(e.charCodeAt(n),s,a);return new Uint8Array(t)}function sw(e){const t=[];return ew(e,s=>t.push(s)),new Uint8Array(t)}function aw(e){return Math.round(Date.now()/1e3)+e}function nw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const nr=()=>typeof window<"u"&&typeof document<"u",ls={tested:!1,writable:!1},on=()=>{if(!nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ls.tested)return ls.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ls.tested=!0,ls.writable=!0}catch{ls.tested=!0,ls.writable=!1}return ls.writable};function lw(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,l)=>{t[l]=n})}catch{}return s.searchParams.forEach((a,n)=>{t[n]=a}),t}const Jf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>er(async()=>{const{default:a}=await Promise.resolve().then(()=>ka);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)},ow=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qf=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},fl=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},pl=async(e,t)=>{await e.removeItem(t)};class Uo{constructor(){this.promise=new Uo.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Uo.promiseConstructor=Promise;function Ei(e){const t=e.split(".");if(t.length!==3)throw new ln("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!Hv.test(t[a]))throw new ln("JWT not in base64url format");return{header:JSON.parse(O0(t[0])),payload:JSON.parse(O0(t[1])),signature:rw(t[2]),raw:{header:t[0],payload:t[1]}}}async function iw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cw(e,t){return new Promise((a,n)=>{(async()=>{for(let l=0;l<1/0;l++)try{const o=await e(l);if(!t(l,null,o)){a(o);return}}catch(o){if(!t(l,o)){n(o);return}}})()})}function dw(e){return("0"+e.toString(16)).substr(-2)}function uw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let n="";for(let l=0;l<56;l++)n+=s.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(t),Array.from(t,dw).join("")}async function mw(e){const s=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(a);return Array.from(n).map(l=>String.fromCharCode(l)).join("")}async function hw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await mw(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(e,t,s=!1){const a=uw();let n=a;s&&(n+="/PASSWORD_RECOVERY"),await Qf(e,`${t}-code-verifier`,n);const l=await hw(a);return[l,a===l?"plain":"s256"]}const fw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pw(e){const t=e.headers.get(zc);if(!t||!t.match(fw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var bw=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};const cs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yw=[502,503,504];async function A0(e){var t;if(!ow(e))throw new Bc(cs(e),0);if(yw.includes(e.status))throw new Bc(cs(e),e.status);let s;try{s=await e.json()}catch(l){throw new Kf(cs(l),l)}let a;const n=pw(e);if(n&&n.getTime()>=Hf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new D0(cs(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Pr}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((l,o)=>l&&typeof o=="string",!0))throw new D0(cs(s),e.status,s.weak_password.reasons);throw new Gv(cs(s),e.status||500,a)}const vw=(e,t,s,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),s))};async function xe(e,t,s,a){var n;const l=Object.assign({},a==null?void 0:a.headers);l[zc]||(l[zc]=Hf["2024-01-01"].name),a!=null&&a.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const o=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const i=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await ww(e,t,s+i,{headers:l,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function ww(e,t,s,a,n,l){const o=vw(t,a,n,l);let i;try{i=await e(s,Object.assign({},o))}catch(c){throw console.error(c),new Bc(cs(c),0)}if(i.ok||await A0(i),a!=null&&a.noResolveJson)return i;try{return await i.json()}catch(c){await A0(c)}}function Er(e){var t;let s=null;_w(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=aw(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:a},error:null}}function L0(e){const t=Er(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ar(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kw(e){return{data:e,error:null}}function jw(e){const{action_link:t,email_otp:s,hashed_token:a,redirect_to:n,verification_type:l}=e,o=bw(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),i={action_link:t,email_otp:s,hashed_token:a,redirect_to:n,verification_type:l},c=Object.assign({},o);return{data:{properties:i,user:c},error:null}}function Nw(e){return e}function _w(e){return e.access_token&&e.refresh_token&&e.expires_in}var Sw=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};class Cw{constructor({url:t="",headers:s={},fetch:a}){this.url=t,this.headers=s,this.fetch=Jf(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,s={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ar})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:s}=t,a=Sw(t,["options"]),n=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:jw,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ue(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ar})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,a,n,l,o,i,c;try{const d={nextPage:null,lastPage:0,total:0},u=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(l=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:""},xform:Nw});if(u.error)throw u.error;const m=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(i=u.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);d[`${k}Page`]=y}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ue(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ar})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ar})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,s=!1){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ar})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){try{const{data:s,error:a}=await xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:a}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}}const Pw={getItem:e=>on()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{on()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{on()&&globalThis.localStorage.removeItem(e)}};function M0(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function Ew(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Is={debug:!!(globalThis&&on()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Tw extends Yf{}async function Rw(e,t,s){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Tw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Is.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Ew();const Dw={url:qv,storageKey:Vv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function U0(e,t,s){return await s()}class In{constructor(t){var s,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=In.nextInstanceID,In.nextInstanceID+=1,this.instanceID>0&&nr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Dw),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Cw({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Jf(n.fetch),this.lock=n.lock||U0,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:nr()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Rw:this.lock=U0,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:on()?this.storage=Pw:(this.memoryStorage={},this.storage=M0(this.memoryStorage)):(this.memoryStorage={},this.storage=M0(this.memoryStorage)),nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=lw(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),nr()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:l}=await this._getSessionFromURL(s,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Yv(l)){const c=(t=l.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:o,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",i),await this._saveSession(o),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ue(s)?{error:s}:{error:new Kf("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,a,n;try{const l=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Er}),{data:o,error:i}=l;if(i||!o)return{data:{user:null,session:null},error:i};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var s,a,n;try{let l;if("email"in t){const{email:u,password:m,options:f}=t;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await $s(this.storage,this.storageKey)),l=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:m,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:x,code_challenge_method:v},xform:Er})}else if("phone"in t){const{phone:u,password:m,options:f}=t;l=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Er})}else throw new ml("You must provide either an email or phone number and a password");const{data:o,error:i}=l;if(i||!o)return{data:{user:null,session:null},error:i};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let s;if("email"in t){const{email:l,password:o,options:i}=t;s=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:L0})}else if("phone"in t){const{phone:l,password:o,options:i}=t;s=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:L0})}else throw new ml("You must provide either an email or phone number and a password");const{data:a,error:n}=s;return n?{data:{user:null,session:null},error:n}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Ci}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,a,n,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await fl(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(s??"").split("/");try{const{data:l,error:o}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Er});if(await pl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Ci}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:n??null}),error:o})}catch(l){if(ue(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:s,provider:a,token:n,access_token:l,nonce:o}=t,i=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:l,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Er}),{data:c,error:d}=i;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ci}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,a,n,l,o;try{if("email"in t){const{email:i,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await $s(this.storage,this.storageKey));const{error:m}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:i,options:c}=t,{data:d,error:u}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:i,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(l=c==null?void 0:c.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new ml("You must provide either an email or phone number.")}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(t){var s,a;try{let n,l;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,l=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:i}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:n,xform:Er});if(i)throw i;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,a,n;try{let l=null,o=null;return this.flowType==="pkce"&&([l,o]=await $s(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:o}),headers:this.headers,xform:kw})}catch(l){if(ue(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;if(a)throw a;if(!s)throw new Pr;const{error:n}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:a,type:n,options:l}=t,{error:o}=await xe(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:a,type:n,options:l}=t,{data:o,error:i}=await xe(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:i}}throw new ml("You must provide either an email or phone number and a type")}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await fl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Si:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:n,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ar}):await this._useSession(async s=>{var a,n,l;const{data:o,error:i}=s;if(i)throw i;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pr}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&l!==void 0?l:void 0,xform:Ar})})}catch(s){if(ue(s))return Qv(s)&&(await this._removeSession(),await pl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async a=>{const{data:n,error:l}=a;if(l)throw l;if(!n.session)throw new Pr;const o=n.session;let i=null,c=null;this.flowType==="pkce"&&t.email!=null&&([i,c]=await $s(this.storage,this.storageKey));const{data:d,error:u}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:i,code_challenge_method:c}),jwt:o.access_token,xform:Ar});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pr;const s=Date.now()/1e3;let a=s,n=!0,l=null;const{payload:o}=Ei(t.access_token);if(o.exp&&(a=o.exp,n=a<=s),n){const{session:i,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!i)return{data:{user:null,session:null},error:null};l=i}else{const{data:i,error:c}=await this._getUser(t.access_token);if(c)throw c;l={access_token:t.access_token,refresh_token:t.refresh_token,user:i.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(s){if(ue(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var a;if(!t){const{data:o,error:i}=s;if(i)throw i;t=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Pr;const{session:n,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!nr())throw new hl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new hl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new R0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new R0("No code detected.");const{data:p,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:l,refresh_token:o,expires_in:i,expires_at:c,token_type:d}=t;if(!l||!i||!o||!d)throw new hl("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(i);let f=u+m;c&&(f=parseInt(c));const x=f-u;x*1e3<=As&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const v=f-m;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:y,error:k}=await this._getUser(l);if(k)throw k;const h={provider_token:a,provider_refresh_token:n,access_token:l,expires_in:m,expires_at:f,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:h,redirectType:t.type},error:null}}catch(a){if(ue(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await fl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:n,error:l}=s;if(l)return{error:l};const o=(a=n.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:i}=await this.admin.signOut(o,t);if(i&&!(Jv(i)&&(i.status===404||i.status===401||i.status===403)))return{error:i}}return t!=="others"&&(await this._removeSession(),await pl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=nw(),a={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async s=>{var a,n;try{const{data:{session:l},error:o}=s;if(o)throw o;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,s={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await $s(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(l){if(ue(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:a,error:n}=await this._useSession(async l=>{var o,i,c,d,u;const{data:m,error:f}=l;if(f)throw f;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",x,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return nr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(ue(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var a,n;const{data:l,error:o}=s;if(o)throw o;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await cw(async n=>(n>0&&await iw(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Er})),(n,l)=>{const o=200*Math.pow(2,n);return l&&Pi(l)&&Date.now()+o-a<As})}catch(a){if(this._debug(s,"error",a),ue(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",a),nr()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await fl(this.storage,this.storageKey);if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const n=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Si;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${Si}s`),n){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),Pi(l)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,a;if(!t)throw new Pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Uo;const{data:l,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!l.session)throw new Pr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const i={session:l.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(l){if(this._debug(n,"error",l),ue(l)){const o={session:null,error:l};return Pi(l)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,a=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:s});const l=[],o=Array.from(this.stateChangeEmitters.values()).map(async i=>{try{await i.callback(t,s)}catch(c){l.push(c)}});if(await Promise.all(o),l.length>0){for(let i=0;i<l.length;i+=1)console.error(l[i]);throw l[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Qf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await pl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),As);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-t)/As);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${As}ms, refresh threshold is ${Fc} ticks`),n<=Fc&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,a){const n=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,o]=await $s(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(i.toString())}if(a!=null&&a.queryParams){const l=new URLSearchParams(a.queryParams);n.push(l.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var a;const{data:n,error:l}=s;return l?{data:null,error:l}:await xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var a,n;const{data:l,error:o}=s;if(o)return{data:null,error:o};const i=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:l}=s;if(l)return{data:null,error:l};const{data:o,error:i}=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:i})})}catch(s){if(ue(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:l}=s;return l?{data:null,error:l}:await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(ue(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const a=(t==null?void 0:t.factors)||[],n=a.filter(o=>o.factor_type==="totp"&&o.status==="verified"),l=a.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:a,totp:n,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,a;const{data:{session:n},error:l}=t;if(l)return{data:null,error:l};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ei(n.access_token);let i=null;o.aal&&(i=o.aal);let c=i;((a=(s=n.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,s={keys:[]}){let a=s.keys.find(o=>o.kid===t);if(a||(a=this.jwks.keys.find(o=>o.kid===t),a&&this.jwks_cached_at+Kv>Date.now()))return a;const{data:n,error:l}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!n.keys||n.keys.length===0)throw new ln("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),a=n.keys.find(o=>o.kid===t),!a)throw new ln("No matching signing key found in JWKS");return a}async getClaims(t,s={keys:[]}){try{let a=t;if(!a){const{data:x,error:v}=await this.getSession();if(v||!x.session)return{data:null,error:v};a=x.session.access_token}const{header:n,payload:l,signature:o,raw:{header:i,payload:c}}=Ei(a);if(xw(l.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:l,header:n,signature:o},error:null}}const d=gw(n.alg),u=await this.fetchJwk(n.kid,s),m=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,o,sw(`${i}.${c}`)))throw new ln("Invalid JWT signature");return{data:{claims:l,header:n,signature:o},error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}}}In.nextInstanceID=0;const $w=In;class Iw extends $w{constructor(t){super(t)}}var Ow=function(e,t,s,a){function n(l){return l instanceof s?l:new s(function(o){o(l)})}return new(s||(s=Promise))(function(l,o){function i(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?l(u.value):n(u.value).then(i,c)}d((a=a.apply(e,t||[])).next())})};class Aw{constructor(t,s,a){var n,l,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const i=zv(t);this.realtimeUrl=`${i}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${i}/auth/v1`,this.storageUrl=`${i}/storage/v1`,this.functionsUrl=`${i}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:$v,realtime:Ov,auth:Object.assign(Object.assign({},Iv),{storageKey:c}),global:Dv},u=Bv(a??{},d);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(l=u.global.headers)!==null&&l!==void 0?l:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Uv(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ev(`${i}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ty(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ev(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},a={}){return this.rest.rpc(t,s,a)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return Ow(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:a,storage:n,storageKey:l,flowType:o,lock:i,debug:c},d,u){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Iw({url:this.authUrl,headers:Object.assign(Object.assign({},m),d),storageKey:l,autoRefreshToken:t,persistSession:s,detectSessionInUrl:a,storage:n,flowType:o,lock:i,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new pv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,s,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xf=(e,t,s)=>new Aw(e,t,s),Lw="https://jqtcngcoxjkgfvjoxwgv.supabase.co",Mw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpxdGNuZ2NveGprZ2Z2am94d2d2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAwNTMzMTQsImV4cCI6MjA2NTYyOTMxNH0.ejqlmVNgg_dCtjmCYULbO__HpRoihzf752U4sjkumgo",G=Xf(Lw,Mw),Zf=g.createContext(void 0),Nr=()=>{const e=g.useContext(Zf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Uw=({children:e})=>{const[t,s]=g.useState(null),[a,n]=g.useState(!0);g.useEffect(()=>{G.auth.getUser().then(({data:x,error:v})=>{var y,k,h,p;if(x.user){const b={id:x.user.id,email:x.user.email||"",name:((y=x.user.user_metadata)==null?void 0:y.name)||"",phone:((k=x.user.user_metadata)==null?void 0:k.phone)||"",website:((h=x.user.user_metadata)==null?void 0:h.website)||"",bio:((p=x.user.user_metadata)==null?void 0:p.bio)||"",isAdmin:x.user.email==="admin@example.com"};s(b)}else s(null);n(!1)});const{data:f}=G.auth.onAuthStateChange((x,v)=>{var k,h,p,b;const y=window.location.pathname.includes("/verify-email-change");if(v!=null&&v.user&&!y){const w={id:v.user.id,email:v.user.email||"",name:((k=v.user.user_metadata)==null?void 0:k.name)||"",phone:((h=v.user.user_metadata)==null?void 0:h.phone)||"",website:((p=v.user.user_metadata)==null?void 0:p.website)||"",bio:((b=v.user.user_metadata)==null?void 0:b.bio)||"",isAdmin:v.user.email==="admin@example.com"};s(w)}else s(null)});return()=>{f==null||f.subscription.unsubscribe()}},[]);const u={user:t,isAuthenticated:!!t,login:async(m,f)=>{var x,v,y,k;n(!0);try{const{data:h,error:p}=await G.auth.signInWithPassword({email:m,password:f});if(p||!h.user)return n(!1),!1;const b={id:h.user.id,email:h.user.email||"",name:((x=h.user.user_metadata)==null?void 0:x.name)||"",phone:((v=h.user.user_metadata)==null?void 0:v.phone)||"",website:((y=h.user.user_metadata)==null?void 0:y.website)||"",bio:((k=h.user.user_metadata)==null?void 0:k.bio)||"",isAdmin:h.user.email==="admin@example.com"};return s(b),n(!1),!0}catch(h){return console.error("Login error:",h),n(!1),!1}},logout:async()=>{await G.auth.signOut(),s(null)},updateProfile:async m=>{if(t)try{const{error:f}=await G.auth.updateUser({data:{name:m.name,phone:m.phone,website:m.website,bio:m.bio}});if(f)throw f;s(x=>x?{...x,...m}:null)}catch(f){throw console.error("Profile update error:",f),f}},updatePassword:async(m,f)=>{if(!t)throw new Error("No user logged in");try{const{error:x}=await G.auth.signInWithPassword({email:t.email,password:m});if(x)throw new Error("Current password is incorrect");const{error:v}=await G.auth.updateUser({password:f});if(v)throw new Error(v.message)}catch(x){throw console.error("Password update error:",x),x}},updateEmail:async(m,f)=>{if(!t)throw new Error("No user logged in");try{const{error:x}=await G.auth.signInWithPassword({email:t.email,password:f});if(x)throw new Error("Password is incorrect");const{error:v}=await G.auth.updateUser({email:m});if(v)throw new Error(v.message);console.log(" Email update initiated successfully"),console.log(" Global logout will occur after the user clicks the verification link in their email"),s(y=>y?{...y,email:m}:null)}catch(x){throw console.error("Email update error:",x),x}},loading:a};return r.jsx(Zf.Provider,{value:u,children:e})},ep=g.createContext(void 0),tp=()=>{const e=g.useContext(ep);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Fw=({children:e})=>{const t=()=>{if(typeof window<"u")try{const u=localStorage.getItem("theme");if(u&&["light","dark","system"].includes(u))return u}catch(u){console.error("Error reading theme from localStorage:",u)}return"light"},[s,a]=g.useState(t),[n,l]=g.useState("light"),o=u=>u==="system"?typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":u,i=u=>{const m=o(u);if(l(m),typeof window<"u"){const f=document.documentElement,x=document.body;f.classList.remove("light","dark"),x.classList.remove("light","dark"),f.classList.add(m),x.classList.add(m),f.setAttribute("data-theme",m);try{localStorage.setItem("theme",u),console.log(` Theme applied and saved: ${u} (resolved: ${m})`)}catch(v){console.error("Error saving theme to localStorage:",v)}}},c=u=>{a(u),i(u)};g.useEffect(()=>{i(s)},[s]),g.useEffect(()=>{if(s==="system"&&typeof window<"u"){const u=window.matchMedia("(prefers-color-scheme: dark)"),m=f=>{const x=f.matches?"dark":"light";l(x);const v=document.documentElement,y=document.body;v.classList.remove("light","dark"),y.classList.remove("light","dark"),v.classList.add(x),y.classList.add(x),v.setAttribute("data-theme",x),console.log(` System theme changed to: ${x}`)};return u.addEventListener("change",m),()=>{u.removeEventListener("change",m)}}},[s]),g.useEffect(()=>{const u=localStorage.getItem("theme")||"light",m=o(u);if(typeof window<"u"){const f=document.documentElement,x=document.body;f.classList.remove("light","dark"),x.classList.remove("light","dark"),f.classList.add(m),x.classList.add(m),f.setAttribute("data-theme",m)}},[]);const d={theme:s,setTheme:c,actualTheme:n};return r.jsx(ep.Provider,{value:d,children:e})},Ua={automaticDeliveryEnabled:!0,paymentProcessingEnabled:!0,emailNotificationsEnabled:!0,orderAutoConfirmation:!0,documentAutoGeneration:!0,showPricesOnProjects:!0,enableCheckoutProcess:!0,marketplaceMode:!0,colorPalette:"copper-brown",lastUpdated:new Date().toISOString(),githubUrl:"",linkedinUrl:"",email:"",phone:"",phoneAvailableOnRequest:!0,showReview1:!0,showReview2:!0,showReview3:!0,enableUPI:!1,enableCard:!0},zw={default:{primary:"#b45309",primaryDark:"#92400e",secondary:"#78350f",accent:"#451a03",bgPrimary:"#fefbf3",bgSecondary:"#fef3c7",textPrimary:"#1f2937",textSecondary:"#6b7280"},"emerald-green":{primary:"#10b981",primaryDark:"#059669",secondary:"#047857",accent:"#065f46",bgPrimary:"#f0fdf4",bgSecondary:"#dcfce7",textPrimary:"#1f2937",textSecondary:"#6b7280"},"violet-indigo":{primary:"#8b5cf6",primaryDark:"#7c3aed",secondary:"#6d28d9",accent:"#5b21b6",bgPrimary:"#faf5ff",bgSecondary:"#f3e8ff",textPrimary:"#1f2937",textSecondary:"#6b7280"},"rose-magenta":{primary:"#f43f5e",primaryDark:"#e11d48",secondary:"#be123c",accent:"#9f1239",bgPrimary:"#fff1f2",bgSecondary:"#ffe4e6",textPrimary:"#1f2937",textSecondary:"#6b7280"},"amber-caramel":{primary:"#f59e0b",primaryDark:"#d97706",secondary:"#b45309",accent:"#92400e",bgPrimary:"#fffbeb",bgSecondary:"#fef3c7",textPrimary:"#1f2937",textSecondary:"#6b7280"},"cool-cyan":{primary:"#06b6d4",primaryDark:"#0891b2",secondary:"#0e7490",accent:"#155e75",bgPrimary:"#f0fdfa",bgSecondary:"#ccfbf1",textPrimary:"#1f2937",textSecondary:"#6b7280"},"copper-brown":{primary:"#b45309",primaryDark:"#92400e",secondary:"#78350f",accent:"#451a03",bgPrimary:"#fefbf3",bgSecondary:"#fef3c7",textPrimary:"#1f2937",textSecondary:"#6b7280"},"mint-lime":{primary:"#84cc16",primaryDark:"#65a30d",secondary:"#4d7c0f",accent:"#365314",bgPrimary:"#f7fee7",bgSecondary:"#ecfccb",textPrimary:"#1f2937",textSecondary:"#6b7280"},"sky-blue":{primary:"#0ea5e9",primaryDark:"#0284c7",secondary:"#0369a1",accent:"#075985",bgPrimary:"#f0f9ff",bgSecondary:"#e0f2fe",textPrimary:"#1f2937",textSecondary:"#6b7280"},"charcoal-orange":{primary:"#ea580c",primaryDark:"#c2410c",secondary:"#9a3412",accent:"#7c2d12",bgPrimary:"#fafafa",bgSecondary:"#f5f5f5",textPrimary:"#1f2937",textSecondary:"#6b7280"},"platinum-aqua":{primary:"#06b6d4",primaryDark:"#0891b2",secondary:"#0e7490",accent:"#155e75",bgPrimary:"#f8fafc",bgSecondary:"#f1f5f9",textPrimary:"#1f2937",textSecondary:"#6b7280"},"ruby-gold":{primary:"#dc2626",primaryDark:"#b91c1c",secondary:"#991b1b",accent:"#7f1d1d",bgPrimary:"#fef2f2",bgSecondary:"#fee2e2",textPrimary:"#1f2937",textSecondary:"#6b7280"}},Ti=e=>{const t=zw[e];if(!t)return;const s=document.documentElement;s.style.setProperty("--color-primary",t.primary),s.style.setProperty("--color-primary-dark",t.primaryDark),s.style.setProperty("--color-secondary",t.secondary),s.style.setProperty("--color-accent",t.accent),s.style.setProperty("--bg-primary",t.bgPrimary),s.style.setProperty("--bg-secondary",t.bgSecondary),s.style.setProperty("--text-primary",t.textPrimary),s.style.setProperty("--text-secondary",t.textSecondary),document.body.className=document.body.className.replace(/palette-[\w-]+/g,""),document.body.classList.add(`palette-${e}`),console.log(` Applied color palette: ${e}`)},rp=g.createContext(void 0),as=()=>{const e=g.useContext(rp);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e},Bw=({children:e})=>{const[t,s]=g.useState(void 0),[a,n]=g.useState(!0),[l,o]=g.useState(null);g.useEffect(()=>{i()},[]),g.useEffect(()=>{(async()=>{if(!t||!t.colorPalette)return;const{data:{user:v}}=await G.auth.getUser();v?t.colorPalette&&t.colorPalette!==window.__GLOBAL_PALETTE__&&Ti(t.colorPalette):!window.__GLOBAL_PALETTE__&&t.colorPalette&&Ti(t.colorPalette)})()},[t==null?void 0:t.colorPalette]);const i=async()=>{var x,v;try{n(!0),o(null);const y=window.__GLOBAL_PALETTE__,k=localStorage.getItem("marketplace_settings");if(k){const h=JSON.parse(k);let p={...Ua,...h};y&&(!h.colorPalette||h.colorPalette==="default"||h.colorPalette==="copper-brown")&&(p.colorPalette=y),s(p)}try{const{data:{user:h}}=await G.auth.getUser();if(h){const{data:p}=await G.auth.getUser();if((v=(x=p.user)==null?void 0:x.user_metadata)!=null&&v.marketplace_settings){const b=p.user.user_metadata.marketplace_settings,w={...Ua,...b};s(w),localStorage.setItem("marketplace_settings",JSON.stringify(w))}}}catch{console.log("Could not load cloud settings, using local settings")}if(!k){let h={...Ua};y&&(h.colorPalette=y),s(h)}}catch(y){console.error("Error loading settings:",y),o("Failed to load settings")}finally{n(!1)}},c=async()=>{await i()},d=async x=>{try{o(null);const v={...t,...x,lastUpdated:new Date().toISOString()},y={...Ua,...t,...x,lastUpdated:new Date().toISOString()};s(y),x.colorPalette&&(!t||x.colorPalette!==t.colorPalette)&&Ti(x.colorPalette),localStorage.setItem("marketplace_settings",JSON.stringify(v));try{const{data:{user:k}}=await G.auth.getUser();k&&await G.auth.updateUser({data:{marketplace_settings:v}})}catch{console.log("Could not save to cloud, settings saved locally")}}catch(v){throw console.error("Error updating settings:",v),o("Failed to update settings"),v}},u=!(t!=null&&t.marketplaceMode),m=!!(t!=null&&t.marketplaceMode),f={settings:t||Ua,updateSettings:d,refreshSettings:c,loading:a,error:l,isPortfolioMode:u,isMarketplaceMode:m};return r.jsx(rp.Provider,{value:f,children:e})},qw=()=>{const[e,t]=g.useState(!1),[s,a]=g.useState(!1),[n,l]=g.useState(!1);g.useState(!1);const{isAuthenticated:o,logout:i}=Nr(),{theme:c,setTheme:d,actualTheme:u}=tp();as();const m=rs(),f=()=>t(!e),x=()=>t(!1),v=()=>a(!s),y=()=>l(!n),k=b=>m.pathname===b,h=[{id:"light",name:"Light",icon:$c,description:"Light theme"},{id:"dark",name:"Dark",icon:Rc,description:"Dark theme"},{id:"system",name:"System",icon:Tc,description:"Follow system preference"}],p=b=>{d(b),l(!1)};return r.jsx("nav",{className:"fixed w-full z-50 bg-slate-900 dark:bg-slate-800 shadow-lg py-4",children:r.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs(ce,{to:"/",className:"flex items-center space-x-2 text-xl font-bold text-white",onClick:x,children:[r.jsx(ta,{className:"h-8 w-8 text-blue-500"}),r.jsx("span",{children:"TechCreator"})]}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:y,className:"p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-slate-700","aria-label":"Theme options",children:c==="system"?r.jsx(Tc,{className:"h-5 w-5 text-slate-300"}):u==="dark"?r.jsx(Rc,{className:"h-5 w-5 text-slate-300"}):r.jsx($c,{className:"h-5 w-5 text-yellow-300"})}),n&&r.jsx("div",{className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white dark:bg-slate-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:r.jsxs("div",{className:"py-1",children:[r.jsx("div",{className:"px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 border-b border-slate-200 dark:border-slate-700",children:"Theme Preference"}),h.map(b=>{const w=b.icon,P=c===b.id;return r.jsxs("button",{onClick:()=>p(b.id),className:`w-full flex items-center px-4 py-3 text-sm hover:bg-slate-100 dark:hover:bg-slate-700 ${P?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300"}`,children:[r.jsx(w,{className:`h-5 w-5 mr-3 ${P?"text-blue-600 dark:text-blue-400":"text-slate-400"}`}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:b.name}),r.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:b.description})]}),P&&r.jsx("div",{className:"ml-auto",children:r.jsx("div",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full"})})]},b.id)})]})})]}),r.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[r.jsx(ce,{to:"/",className:`text-sm font-medium transition-colors duration-200 ${k("/")?"text-blue-500":"text-white hover:text-blue-400"}`,children:"Home"}),r.jsx(ce,{to:"/projects",className:`text-sm font-medium transition-colors duration-200 ${k("/projects")?"text-blue-500":"text-white hover:text-blue-400"}`,children:"Projects"}),r.jsx(ce,{to:"/contact",className:`text-sm font-medium transition-colors duration-200 ${k("/contact")?"text-blue-500":"text-white hover:text-blue-400"}`,children:"Contact"}),o?r.jsxs("div",{className:"relative inline-block text-left",children:[r.jsx("div",{children:r.jsxs("button",{type:"button",className:"inline-flex items-center gap-x-1 text-sm font-medium text-white hover:text-blue-400",onClick:v,children:["Admin",r.jsx(Ne,{className:`h-4 w-4 transition-transform ${s?"rotate-180":""}`})]})}),s&&r.jsx("div",{className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white dark:bg-slate-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:r.jsxs("div",{className:"py-1",children:[r.jsx(ce,{to:"/admin",className:"block px-4 py-2 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700",onClick:()=>{x(),a(!1)},children:"Dashboard"}),r.jsx(ce,{to:"/admin/project-requests",className:"block px-4 py-2 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700",onClick:()=>{x(),a(!1)},children:"Project Requests"}),r.jsx(ce,{to:"/admin/projects",className:"block px-4 py-2 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700",onClick:()=>{x(),a(!1)},children:"Manage Projects"}),r.jsx(ce,{to:"/admin/orders",className:"block px-4 py-2 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700",onClick:()=>{x(),a(!1)},children:"Orders"}),r.jsx(ce,{to:"/admin/settings",className:"block px-4 py-2 text-sm text-gray-700 dark:text-slate-200 hover:bg-gray-100 dark:hover:bg-slate-700",onClick:()=>{x(),a(!1)},children:"Settings"}),r.jsx("button",{onClick:()=>{i(),x(),a(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-700 dark:text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700",children:"Logout"})]})})]}):r.jsx(ce,{to:"/admin/login",className:"text-sm font-medium text-white hover:text-blue-400",children:"Admin Login"})]}),n&&r.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>{l(!1)}})]}),r.jsx("button",{className:"md:hidden text-white focus:outline-none",onClick:f,"aria-label":"Toggle menu",children:e?r.jsx(Qe,{className:"h-6 w-6"}):r.jsx(jf,{className:"h-6 w-6"})})]}),e&&r.jsx("div",{className:"md:hidden mt-4 bg-slate-800 rounded-lg shadow-xl p-4",children:r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx(ce,{to:"/",className:`text-base font-medium transition-colors duration-200 ${k("/")?"text-blue-500":"text-white hover:text-blue-400"}`,onClick:x,children:"Home"}),r.jsx(ce,{to:"/projects",className:`text-base font-medium transition-colors duration-200 ${k("/projects")?"text-blue-500":"text-white hover:text-blue-400"}`,onClick:x,children:"Projects"}),r.jsx(ce,{to:"/contact",className:`text-base font-medium transition-colors duration-200 ${k("/contact")?"text-blue-500":"text-white hover:text-blue-400"}`,onClick:x,children:"Contact"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium text-slate-400 uppercase tracking-wider",children:"Theme"}),h.map(b=>{const w=b.icon,P=c===b.id;return r.jsxs("button",{onClick:()=>{p(b.id),x()},className:`w-full flex items-center text-base font-medium transition-colors duration-200 ${P?"text-blue-400":"text-white hover:text-blue-400"}`,children:[r.jsx(w,{className:"h-5 w-5 mr-2"}),b.name,P&&r.jsx("div",{className:"ml-auto w-2 h-2 bg-blue-400 rounded-full"})]},b.id)})]}),r.jsx("hr",{className:"border-slate-700"}),o?r.jsxs(r.Fragment,{children:[r.jsx("hr",{className:"border-slate-700"}),r.jsx(ce,{to:"/admin",className:"text-base font-medium text-white hover:text-blue-400",onClick:x,children:"Dashboard"}),r.jsx(ce,{to:"/admin/project-requests",className:"text-base font-medium text-white hover:text-blue-400",onClick:x,children:"Project Requests"}),r.jsx(ce,{to:"/admin/projects",className:"text-base font-medium text-white hover:text-blue-400",onClick:x,children:"Manage Projects"}),r.jsx(ce,{to:"/admin/orders",className:"text-base font-medium text-white hover:text-blue-400",onClick:x,children:"Orders"}),r.jsx(ce,{to:"/admin/settings",className:"text-base font-medium text-white hover:text-blue-400",onClick:x,children:"Settings"}),r.jsx("button",{onClick:()=>{i(),x()},className:"text-left text-base font-medium text-red-500 hover:text-red-400",children:"Logout"})]}):r.jsx(ce,{to:"/admin/login",className:"text-base font-medium text-white hover:text-blue-400",onClick:x,children:"Admin Login"})]})})]})})},Vw=()=>{const e=new Date().getFullYear(),{settings:t}=as();return r.jsx("footer",{className:"bg-slate-900 text-white pt-12 pb-6",children:r.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(ta,{className:"h-6 w-6 text-blue-500"}),r.jsx("span",{className:"text-xl font-bold",children:"TechCreator"})]}),r.jsx("p",{className:"text-slate-400 mb-4",children:"Creating innovative technology solutions in IoT, blockchain, and web development. Available for custom projects and consultations."}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("a",{href:t.githubUrl||"https://github.com/",target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-blue-500 transition-colors duration-200",children:r.jsx(wf,{className:"h-5 w-5"})}),r.jsx("a",{href:t.linkedinUrl||"https://linkedin.com/in/",target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-blue-500 transition-colors duration-200",children:r.jsx(kf,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(ce,{to:"/",className:"text-slate-400 hover:text-blue-500 transition-colors duration-200",children:"Home"})}),r.jsx("li",{children:r.jsx(ce,{to:"/projects",className:"text-slate-400 hover:text-blue-500 transition-colors duration-200",children:"All Projects"})}),r.jsx("li",{children:r.jsx(ce,{to:"/projects?category=iot",className:"text-slate-400 hover:text-blue-500 transition-colors duration-200",children:"IoT Projects"})}),r.jsx("li",{children:r.jsx(ce,{to:"/projects?category=blockchain",className:"text-slate-400 hover:text-blue-500 transition-colors duration-200",children:"Blockchain Projects"})}),r.jsx("li",{children:r.jsx(ce,{to:"/projects?category=web",className:"text-slate-400 hover:text-blue-500 transition-colors duration-200",children:"Web Development"})}),r.jsx("li",{children:r.jsx(ce,{to:"/contact",className:"text-slate-400 hover:text-blue-500 transition-colors duration-200",children:"Contact"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Info"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{className:"flex items-start space-x-3",children:[r.jsx(ct,{className:"h-5 w-5 text-blue-500 mt-0.5"}),r.jsx("span",{className:"text-slate-400",children:r.jsx("a",{href:`mailto:${t.email||"your@email.com"}`,className:"hover:text-blue-500 transition-colors duration-200",children:t.email||"your@email.com"})})]}),r.jsxs("li",{className:"flex items-start space-x-3",children:[r.jsx(Rn,{className:"h-5 w-5 text-blue-500 mt-0.5"}),r.jsx("span",{className:"text-slate-400",children:t.phoneAvailableOnRequest?"Available upon request":t.phone||"+91-0000000000"})]})]})]})]}),r.jsx("div",{className:"border-t border-slate-800 mt-8 pt-6 text-center",children:r.jsxs("p",{className:"text-slate-500 text-sm",children:[" ",e," TechCreator. All rights reserved."]})})]})})},de={brevo:{apiUrl:"https://api.brevo.com/v3/smtp/email",apiKey:"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",senderEmail:"mohanselenophile@gmail.com",senderName:"Tech Creator"},emailjs:{serviceId:"service_qj44izj",publicKey:"aImlP6dotqO-E3y6h",templates:{contact:"template_k92zaj2",order:"purchase_confirmation",documentDelivery:"template_document_delivery"}},developerEmail:"mohanselenophile@gmail.com"},ir=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),Es=()=>{const e=new Date;return{date:e.toLocaleDateString(),time:e.toLocaleTimeString(),datetime:e.toISOString()}},sp=e=>{if(e===0)return"0 Bytes";const t=1024,s=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(2))+" "+s[a]},Na=async e=>{var t;try{console.log(" Brevo Email Request:",{to:e.to[0].email,sender:e.sender.email,subject:e.subject,apiKeyConfigured:!!de.brevo.apiKey,apiUrl:de.brevo.apiUrl});const s=await fetch(de.brevo.apiUrl,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","api-key":de.brevo.apiKey},body:JSON.stringify(e)});if(console.log(" Brevo API Response Status:",s.status),!s.ok){const n=await s.json().catch(()=>({}));throw console.error(" Brevo API Error Response:",{status:s.status,statusText:s.statusText,errorData:n}),s.status===400&&((t=n.message)!=null&&t.includes("sender"))?new Error("Sender validation failed - Please validate your email in Brevo dashboard at https://app.brevo.com/senders/list"):s.status===401?new Error("Invalid Brevo API key - Please check your VITE_BREVO_API_KEY"):new Error(`Brevo API error: ${s.status} - ${n.message||"Unknown error"}`)}const a=await s.json();return console.log(" Brevo Email Success:",{messageId:a.messageId,to:e.to[0].email,subject:e.subject}),a}catch(s){throw console.error(" Brevo Email Failed:",{error:s.message,to:e.to[0].email,apiKeyConfigured:!!de.brevo.apiKey}),s}},ap=async e=>{if(!ir(e.from_email))throw new Error("Invalid sender email address");const{date:t,time:s}=Es();try{const a=`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>New Contact Form Inquiry - TechCreator</title>
        <style>
          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; }
          .container { max-width: 600px; margin: 0 auto; padding: 20px; }
          .header { background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; padding: 30px; text-align: center; border-radius: 8px 8px 0 0; }
          .content { background: #ffffff; padding: 30px; border: 1px solid #e5e7eb; }
          .footer { background: #f9fafb; padding: 20px; text-align: center; border-radius: 0 0 8px 8px; border: 1px solid #e5e7eb; border-top: none; }
          .inquiry-details { background: #f8fafc; padding: 20px; border-radius: 8px; margin: 20px 0; }
          .highlight { color: #3b82f6; font-weight: bold; }
          .label { font-weight: bold; color: #374151; }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1> New Contact Form Inquiry</h1>
            <p>You have received a new project inquiry!</p>
          </div>
          
          <div class="content">
            <h2>Contact Details</h2>
            
            <div class="inquiry-details">
              <p><span class="label">Name:</span> <span class="highlight">${e.from_name}</span></p>
              <p><span class="label">Email:</span> <a href="mailto:${e.from_email}" class="highlight">${e.from_email}</a></p>
              <p><span class="label">Project Type:</span> ${e.project_type}</p>
              <p><span class="label">Budget Range:</span> ${e.budget}</p>
              <p><span class="label">Inquiry Date:</span> ${t} at ${s}</p>
            </div>
            
            <h3>Project Details</h3>
            <div style="background: #f3f4f6; padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6;">
              <p style="margin: 0; white-space: pre-wrap;">${e.message}</p>
            </div>
            
            <div style="margin-top: 30px; padding: 20px; background: #ecfdf5; border-radius: 8px; border: 1px solid #10b981;">
              <h3 style="color: #059669; margin-top: 0;"> Next Steps</h3>
              <ul style="margin: 0;">
                <li>Review the project requirements</li>
                <li>Prepare a detailed proposal</li>
                <li>Reply to the client within 24 hours</li>
                <li>Schedule a consultation call if needed</li>
              </ul>
            </div>
            
            <p style="margin-top: 30px;">
              <strong>Reply directly to this email to respond to the client.</strong>
            </p>
          </div>
          
          <div class="footer">
            <p>&copy; 2025 TechCreator. All rights reserved.</p>
            <p>This is an automated notification from your website contact form.</p>
          </div>
        </div>
      </body>
      </html>
    `,n={sender:{name:de.brevo.senderName,email:de.brevo.senderEmail},to:[{email:de.developerEmail,name:"Tech Creator"}],subject:` New Project Inquiry from ${e.from_name} - ${e.project_type}`,htmlContent:a,tags:["contact-form","inquiry","website"]};await Na(n),console.log("Contact form email sent successfully via Brevo")}catch(a){console.error("Brevo contact form failed, trying EmailJS fallback...",a);try{await(await er(()=>import("./index-CQgKCrt3.js"),[])).send(de.emailjs.serviceId,de.emailjs.templates.contact,{name:e.from_name,email:e.from_email,project_type:e.project_type,budget:e.budget,message:e.message,current_date:t,current_time:s,title:`New inquiry from ${e.from_name}`,to_email:de.developerEmail,reply_to:e.from_email},de.emailjs.publicKey),console.log("Contact form email sent successfully via EmailJS fallback")}catch(n){throw console.error("Both Brevo and EmailJS failed for contact form:",n),new Error("Failed to send your message. Please try again later or contact us directly.")}}},np=async(e,t)=>{if(!ir(t))throw new Error("Invalid recipient email address");const{date:s}=Es();try{const a=`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Order Confirmation - TechCreator</title>
        <style>
          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; }
          .container { max-width: 600px; margin: 0 auto; padding: 20px; }
          .header { background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; padding: 30px; text-align: center; border-radius: 8px 8px 0 0; }
          .content { background: #ffffff; padding: 30px; border: 1px solid #e5e7eb; }
          .footer { background: #f9fafb; padding: 20px; text-align: center; border-radius: 0 0 8px 8px; border: 1px solid #e5e7eb; border-top: none; }
          .order-details { background: #f8fafc; padding: 20px; border-radius: 8px; margin: 20px 0; }
          .highlight { color: #3b82f6; font-weight: bold; }
          .warning { background: #fef3c7; border: 1px solid #f59e0b; padding: 15px; border-radius: 6px; margin: 15px 0; }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1>Order Confirmation</h1>
            <p>Thank you for your purchase!</p>
          </div>
          
          <div class="content">
            <h2>Hello ${e.customer_name},</h2>
            
            <p>Your order has been confirmed and is being processed. Here are your order details:</p>
            
            <div class="order-details">
              <h3>Order Information</h3>
              <p><strong>Order ID:</strong> <span class="highlight">${e.order_id}</span></p>
              <p><strong>Project:</strong> ${e.project_title}</p>
              <p><strong>Amount Paid:</strong> <span class="highlight">${e.price}</span></p>
              <p><strong>Order Date:</strong> ${s}</p>
            </div>
            
            <div class="warning">
              <h3> Document Delivery</h3>
              <p><strong>You will receive a separate email within 5 minutes</strong> containing download links for all project documents.</p>
              <p><strong>Note:</strong> If no documents are currently available, you'll receive a "Documents Coming Soon" notification with delivery timeline.</p>
            </div>
            
            <h3>What's Included:</h3>
            <ul>
              <li>Complete source code and project files</li>
              <li>Comprehensive documentation across 3 review stages</li>
              <li>Installation and setup guides</li>
              <li>Technical specifications and implementation details</li>
              <li>Email support for technical questions</li>
            </ul>
            
            <p>If you have any questions or need assistance, please don't hesitate to contact us at <a href="mailto:${de.developerEmail}">${de.developerEmail}</a></p>
            
            <p>Thank you for choosing TechCreator!</p>
          </div>
          
          <div class="footer">
            <p>&copy; 2025 TechCreator. All rights reserved.</p>
            <p>This is an automated message. Please do not reply to this email.</p>
          </div>
        </div>
      </body>
      </html>
    `,n={sender:{name:de.brevo.senderName,email:de.brevo.senderEmail},to:[{email:t,name:e.customer_name}],subject:`Order Confirmation - ${e.project_title} (${e.order_id})`,htmlContent:a,tags:["order-confirmation","transactional"]};await Na(n)}catch(a){console.error("Order confirmation failed:",a),console.log("Order completed successfully, but email notification failed.")}},Qd=async e=>{if(!ir(e.customer_email))throw new Error("Invalid recipient email address");console.log(' Sending "Documents Coming Soon" notification...'),console.log(" Sending to:",e.customer_email);const{date:t}=Es();try{const s=`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Project Documents Coming Soon - TechCreator</title>
        <style>
          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; }
          .container { max-width: 600px; margin: 0 auto; padding: 20px; }
          .header { background: linear-gradient(135deg, #f59e0b, #d97706); color: white; padding: 30px; text-align: center; border-radius: 8px 8px 0 0; }
          .content { background: #ffffff; padding: 30px; border: 1px solid #e5e7eb; }
          .footer { background: #f9fafb; padding: 20px; text-align: center; border-radius: 0 0 8px 8px; border: 1px solid #e5e7eb; border-top: none; }
          .summary { background: #fef3c7; padding: 20px; border-radius: 8px; margin: 20px 0; border: 1px solid #f59e0b; }
          .highlight { color: #d97706; font-weight: bold; }
          .timeline { background: #ecfdf5; border: 1px solid #10b981; padding: 20px; border-radius: 8px; margin: 20px 0; }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1> Project Documents Coming Soon</h1>
            <p>Your order is confirmed and being prepared!</p>
          </div>
          
          <div class="content">
            <h2>Hello ${e.customer_name},</h2>
            
            <p>Thank you for purchasing <strong>${e.project_title}</strong>! Your order has been successfully processed.</p>
            
            <div class="summary">
              <h3> Order Summary</h3>
              <p><strong>Order ID:</strong> <span class="highlight">${e.order_id}</span></p>
              <p><strong>Project:</strong> ${e.project_title}</p>
              <p><strong>Order Date:</strong> ${t}</p>
              <p><strong>Status:</strong> <span class="highlight">Processing</span></p>
            </div>
            
            <div class="timeline">
              <h3> Document Delivery Timeline</h3>
              <p><strong>Your project documents will be delivered within 3 business days.</strong></p>
              
              <div style="margin: 20px 0;">
                <h4>What you'll receive:</h4>
                <ul>
                  <li> Complete source code and project files</li>
                  <li> Comprehensive documentation (3 review stages)</li>
                  <li> Installation and setup guides</li>
                  <li> Technical specifications</li>
                  <li> Implementation guidelines</li>
                  <li> Project review presentations</li>
                </ul>
              </div>
              
              <div style="background: white; padding: 15px; border-radius: 6px; border-left: 4px solid #10b981;">
                <p style="margin: 0;"><strong> Delivery Method:</strong> All documents will be sent to this email address with direct download links organized by review stages.</p>
              </div>
            </div>
            
            <div style="background: #dbeafe; border: 1px solid #3b82f6; padding: 20px; border-radius: 8px; margin: 20px 0;">
              <h3 style="color: #1e40af; margin-top: 0;"> What happens next?</h3>
              <ol style="margin: 0;">
                <li><strong>Document Preparation:</strong> Our team is organizing your project files</li>
                <li><strong>Quality Check:</strong> Ensuring all documents are complete and accessible</li>
                <li><strong>Email Delivery:</strong> You'll receive download links within 3 days</li>
                <li><strong>Lifetime Access:</strong> Save the email for future downloads</li>
              </ol>
            </div>
            
            <h3> Need Immediate Assistance?</h3>
            <p>If you have any questions or need urgent support, please contact us:</p>
            <p><strong>Email:</strong> <a href="mailto:${de.developerEmail}">${de.developerEmail}</a></p>
            <p><strong>Response Time:</strong> Within 24 hours</p>
            
            <p>Thank you for choosing TechCreator. We're preparing your project documents with care!</p>
          </div>
          
          <div class="footer">
            <p>&copy; 2025 TechCreator. All rights reserved.</p>
            <p>This is an automated notification. Your documents are being prepared.</p>
          </div>
        </div>
      </body>
      </html>
    `,a={sender:{name:de.brevo.senderName,email:de.brevo.senderEmail},to:[{email:e.customer_email,name:e.customer_name}],subject:` Documents Coming Soon - ${e.project_title} (${e.order_id})`,htmlContent:s,tags:["document-preparation","order-processing","coming-soon"]};await Na(a),console.log(' "Documents coming soon" email sent successfully via Brevo')}catch(s){throw console.error(' Failed to send "documents coming soon" email:',s),s}},Yd=async e=>{if(!ir(e.customer_email))throw new Error("Invalid recipient email address");console.log(" Starting SECURE document delivery process..."),console.log(" Secure documents available:",e.secureDocuments.length),console.log(" Sending to:",e.customer_email),Es();const t={review_1:e.secureDocuments.filter(d=>d.review_stage==="review_1"),review_2:e.secureDocuments.filter(d=>d.review_stage==="review_2"),review_3:e.secureDocuments.filter(d=>d.review_stage==="review_3")},s={review_1:"Review 1 - Initial Project Review",review_2:"Review 2 - Mid-Project Assessment",review_3:"Review 3 - Final Review & Completion"},a=new Date(e.expiresAt),n=Math.round((a.getTime()-Date.now())/(1e3*60*60)),l=e.admin_message&&(e.admin_message.includes("New download links")||e.admin_message.includes("generated")||e.admin_message.includes("replacement")||e.admin_message.includes("renewed")),i=`${l?" Renewed Secure Documents":" Secure Documents Ready"} - ${e.project_title} (Expires in ${n}h)`,c=d=>{const u=t[d];return u.length===0?"":`
      <div style="margin: 20px 0; padding: 20px; background: #f8fafc; border-radius: 8px; border-left: 4px solid #3b82f6;">
        <h3 style="color: #1e40af; margin: 0 0 15px 0;">${s[d]}</h3>
        <div style="display: grid; gap: 10px;">
          ${u.map(m=>`
            <div style="background: white; padding: 15px; border-radius: 6px; border: 1px solid #e5e7eb;">
              <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px;">
                <div>
                  <h4 style="margin: 0 0 5px 0; color: #1f2937;">${m.documentName}</h4>
                  <p style="margin: 0; font-size: 14px; color: #6b7280;">
                    Category: ${m.category.charAt(0).toUpperCase()+m.category.slice(1)}
                    ${m.size?`  Size: ${sp(m.size)}`:""}
                  </p>
                </div>
              </div>
              <a href="${m.secureUrl}" 
                 style="display: inline-block; padding: 8px 16px; background: #10b981; color: white; text-decoration: none; border-radius: 4px; font-size: 14px; font-weight: 500;"
                 target="_blank">
                 Secure Download
              </a>
            </div>
          `).join("")}
        </div>
      </div>
    `};try{const d=`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Secure Project Documents - ${e.project_title}</title>
        <style>
          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; }
          .container { max-width: 700px; margin: 0 auto; padding: 20px; }
          .header { background: linear-gradient(135deg, ${l?"#f59e0b, #d97706":"#10b981, #059669"}); color: white; padding: 30px; text-align: center; border-radius: 8px 8px 0 0; }
          .content { background: #ffffff; padding: 30px; border: 1px solid #e5e7eb; }
          .footer { background: #f9fafb; padding: 20px; text-align: center; border-radius: 0 0 8px 8px; border: 1px solid #e5e7eb; border-top: none; }
          .summary { background: #ecfdf5; padding: 20px; border-radius: 8px; margin: 20px 0; border: 1px solid #10b981; }
          .highlight { color: #059669; font-weight: bold; }
          .security-notice { background: #fef3c7; border: 1px solid #f59e0b; padding: 15px; border-radius: 6px; margin: 15px 0; }
          .urgent { background: #fee2e2; border: 1px solid #ef4444; padding: 15px; border-radius: 6px; margin: 15px 0; }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1>${l?" Renewed Project Documents":" Secure Project Documents"}</h1>
            <p>${l?"Your renewed, time-limited download links are ready!":"Your time-limited, secure download links are ready!"}</p>
          </div>
          
          <div class="content">
            <h2>Hello ${e.customer_name},</h2>

            <p>${l?"Your renewed secure project documents":"Your secure project documents"} for <strong>${e.project_title}</strong> are now available for download!</p>

            ${e.admin_message?`
            <div style="background: ${l?"#dbeafe":"#fef9c3"}; border: 1px solid ${l?"#3b82f6":"#f59e0b"}; padding: 20px; border-radius: 8px; margin: 20px 0;">
              <h3 style="color: ${l?"#1e40af":"#b45309"}; margin-top: 0;">${l?" Renewal Notice":" Message from Admin"}</h3>
              <p style="margin: 0; color: #92400e; white-space: pre-line;">${e.admin_message}</p>
            </div>
            `:""}

            <div class="urgent">
              <h3 style="color: #dc2626; margin-top: 0;"> IMPORTANT: Time-Limited Access</h3>
              <p style="margin: 0; color: #991b1b;">
                <strong>These download links expire in ${n} hours (${a.toLocaleString()}).</strong><br>
                Please download all files promptly to avoid losing access.
              </p>
            </div>
            
            <div class="summary">
              <h3> Document Summary</h3>
              <p><strong>Order ID:</strong> <span class="highlight">${e.order_id}</span></p>
              <p><strong>Total Documents:</strong> ${e.secureDocuments.length}</p>
              <p><strong>Download Limit:</strong> ${e.maxDownloads} downloads per document</p>
              <p><strong>Authorized Email:</strong> ${e.customer_email}</p>
              <p><strong>Expires:</strong> ${a.toLocaleString()}</p>
              ${l?'<p><strong>Type:</strong> <span style="color: #f59e0b; font-weight: bold;"> Renewed Links</span></p>':""}
            </div>
            
            <h3> Secure Documents by Review Stage</h3>
            <p>Click the secure download buttons below. Each link is personalized for your email address:</p>
            
            ${c("review_1")}
            ${c("review_2")}
            ${c("review_3")}
            
            <div class="security-notice">
              <h3 style="color: #d97706; margin-top: 0;"> Security Features</h3>
              <ul style="margin: 0;">
                <li><strong>Email Verification:</strong> Links only work for ${e.customer_email}</li>
                <li><strong>Time-Limited:</strong> Access expires in ${n} hours</li>
                <li><strong>Download Tracking:</strong> Limited to ${e.maxDownloads} downloads per document</li>
                <li><strong>No Sharing:</strong> Links cannot be forwarded to other users</li>
                <li><strong>Audit Trail:</strong> All access attempts are logged for security</li>
              </ul>
            </div>
            
            <div style="background: #dbeafe; border: 1px solid #3b82f6; padding: 20px; border-radius: 8px; margin: 20px 0;">
              <h3 style="color: #1e40af; margin-top: 0;"> Download Instructions</h3>
              <ol style="margin: 0;">
                <li>Click the " Secure Download" button for each document</li>
                <li>You'll be asked to verify your email address</li>
                <li>Once verified, the download will start automatically</li>
                <li>Save all files to your computer before the links expire</li>
              </ol>
            </div>
            
            <div style="background: #fee2e2; border: 1px solid #ef4444; padding: 20px; border-radius: 8px; margin: 20px 0;">
              <h3 style="color: #dc2626; margin-top: 0;"> What if links expire?</h3>
              <p style="margin: 0; color: #991b1b;">
                If your download links expire, you can request new ones by contacting us at 
                <a href="mailto:${de.developerEmail}" style="color: #dc2626;">${de.developerEmail}</a>
                with your order ID: <strong>${e.order_id}</strong>
              </p>
            </div>
            
            <h3> Need Help?</h3>
            <p>If you have any questions about downloading, implementation, or need technical support:</p>
            <p><strong>Email:</strong> <a href="mailto:${de.developerEmail}">${de.developerEmail}</a></p>
            <p><strong>Order ID:</strong> ${e.order_id}</p>
            
            <p>Thank you for choosing TechCreator. Download your files securely!</p>
          </div>
          
          <div class="footer">
            <p>&copy; 2025 TechCreator. All rights reserved.</p>
            <p>This email contains ${l?"renewed":""} secure, time-limited download links. Please keep it safe.</p>
          </div>
        </div>
      </body>
      </html>
    `,u={sender:{name:de.brevo.senderName,email:de.brevo.senderEmail},to:[{email:e.customer_email,name:e.customer_name}],subject:i,htmlContent:d,tags:["secure-document-delivery","time-limited","transactional",...l?["renewal","admin-approved"]:["original-delivery"]]};await Na(u),console.log(" SECURE document delivery email sent successfully via Brevo")}catch(d){console.log(" Brevo failed for secure document delivery, trying EmailJS fallback..."),console.error("Brevo error:",d);try{await Ww(e),console.log(" SECURE document delivery email sent successfully via EmailJS")}catch(u){throw console.error(" Both Brevo and EmailJS failed for secure document delivery"),console.error("EmailJS error:",u),new Error(`Failed to send secure document delivery email: ${d.message||u.message}`)}}},Ww=async e=>{try{const t=await er(()=>import("./index-CQgKCrt3.js"),[]),s=e.secureDocuments.map(l=>`${l.documentName} (${l.category}) - ${l.secureUrl}`).join(`
`),{date:a}=Es(),n=new Date(e.expiresAt);await t.send(de.emailjs.serviceId,de.emailjs.templates.contact,{name:"TechCreator Secure Document Delivery",email:de.developerEmail,project_type:"Secure Document Delivery",budget:"N/A",message:`SECURE document delivery for ${e.customer_name}

Order: ${e.order_id}
Project: ${e.project_title}

SECURE LINKS (Time-limited):
${s}

Expires: ${n.toLocaleString()}
Max Downloads: ${e.maxDownloads}
Authorized Email: ${e.customer_email}

Delivery Date: ${a}`,to_email:e.customer_email,reply_to:de.developerEmail},de.emailjs.publicKey),console.log("Secure document delivery email sent via EmailJS fallback")}catch(t){throw console.error("EmailJS secure document delivery failed:",t),t}},Xd=async e=>{if(console.warn(" Using legacy sendDocumentDelivery. Consider upgrading to sendSecureDocumentDelivery for enhanced security."),!ir(e.customer_email))throw new Error("Invalid recipient email address");if(console.log(" Starting LEGACY document delivery process..."),console.log(" Documents available:",e.documents.length),console.log(" Sending to:",e.customer_email),e.documents.length===0){console.log(' No documents available, sending "coming soon" email...'),await Qd(e);return}try{await Hw(e),console.log(" LEGACY document delivery email sent successfully via Brevo")}catch(t){console.log(" Brevo failed for document delivery, trying EmailJS fallback..."),console.error("Brevo error:",t);try{await Kw(e),console.log(" LEGACY document delivery email sent successfully via EmailJS")}catch(s){throw console.error(" Both Brevo and EmailJS failed for document delivery"),console.error("EmailJS error:",s),new Error(`Failed to send document delivery email: ${t.message||s.message}`)}}},Hw=async e=>{const{date:t}=Es(),s={review_1:e.documents.filter(i=>i.review_stage==="review_1"),review_2:e.documents.filter(i=>i.review_stage==="review_2"),review_3:e.documents.filter(i=>i.review_stage==="review_3")},a={review_1:"Review 1 - Initial Project Review",review_2:"Review 2 - Mid-Project Assessment",review_3:"Review 3 - Final Review & Completion"},n=i=>{const c=s[i];return c.length===0?"":`
      <div style="margin: 20px 0; padding: 20px; background: #f8fafc; border-radius: 8px; border-left: 4px solid #3b82f6;">
        <h3 style="color: #1e40af; margin: 0 0 15px 0;">${a[i]}</h3>
        <div style="display: grid; gap: 10px;">
          ${c.map(d=>`
            <div style="background: white; padding: 15px; border-radius: 6px; border: 1px solid #e5e7eb;">
              <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px;">
                <div>
                  <h4 style="margin: 0 0 5px 0; color: #1f2937;">${d.name}</h4>
                  <p style="margin: 0; font-size: 14px; color: #6b7280;">
                    Category: ${d.category.charAt(0).toUpperCase()+d.category.slice(1)}
                    ${d.size?`  Size: ${sp(d.size)}`:""}
                  </p>
                </div>
              </div>
              <a href="${d.url}" 
                 style="display: inline-block; padding: 8px 16px; background: #3b82f6; color: white; text-decoration: none; border-radius: 4px; font-size: 14px; font-weight: 500;"
                 target="_blank">
                 Download Document
              </a>
            </div>
          `).join("")}
        </div>
      </div>
    `},l=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Project Documents - ${e.project_title}</title>
      <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; }
        .container { max-width: 700px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 30px; text-align: center; border-radius: 8px 8px 0 0; }
        .content { background: #ffffff; padding: 30px; border: 1px solid #e5e7eb; }
        .footer { background: #f9fafb; padding: 20px; text-align: center; border-radius: 0 0 8px 8px; border: 1px solid #e5e7eb; border-top: none; }
        .summary { background: #ecfdf5; padding: 20px; border-radius: 8px; margin: 20px 0; border: 1px solid #10b981; }
        .highlight { color: #059669; font-weight: bold; }
        .warning { background: #fef3c7; border: 1px solid #f59e0b; padding: 15px; border-radius: 6px; margin: 15px 0; }
      </style>
    </head>
    <body>
      <div class="container">
        <div class="header">
          <h1> Project Documents Delivered</h1>
          <p>Your complete project package is ready!</p>
        </div>
        
        <div class="content">
          <h2>Hello ${e.customer_name},</h2>
          
          <p>Your project documents for <strong>${e.project_title}</strong> are now available for download!</p>
          
          <div class="summary">
            <h3> Document Summary</h3>
            <p><strong>Order ID:</strong> <span class="highlight">${e.order_id}</span></p>
            <p><strong>Total Documents:</strong> ${e.documents.length}</p>
            <p><strong>Access:</strong> ${e.access_expires||"Lifetime access"}</p>
            <p><strong>Delivery Date:</strong> ${t}</p>
          </div>
          
          <h3> Documents by Review Stage</h3>
          <p>Your documents are organized by project review stages for easy navigation:</p>
          
          ${n("review_1")}
          ${n("review_2")}
          ${n("review_3")}
          
          <div class="warning">
            <h3> Important Notes</h3>
            <ul>
              <li><strong>Save these links:</strong> Bookmark or save this email for future access</li>
              <li><strong>Download soon:</strong> While you have lifetime access, we recommend downloading files promptly</li>
              <li><strong>Technical support:</strong> Contact us if you have any questions about implementation</li>
              <li><strong>File issues:</strong> If any download links don't work, contact support immediately</li>
            </ul>
          </div>
          
          <h3> Need Help?</h3>
          <p>If you have any questions about the project, implementation, or need technical support, please contact us at:</p>
          <p><strong>Email:</strong> <a href="mailto:${de.developerEmail}">${de.developerEmail}</a></p>
          
          <p>Thank you for choosing TechCreator. We hope this project serves you well!</p>
        </div>
        
        <div class="footer">
          <p>&copy; 2025 TechCreator. All rights reserved.</p>
          <p>This email contains your purchased project documents. Please keep it safe.</p>
        </div>
      </div>
    </body>
    </html>
  `,o={sender:{name:de.brevo.senderName,email:de.brevo.senderEmail},to:[{email:e.customer_email,name:e.customer_name}],subject:` Project Documents Ready - ${e.project_title} (${e.order_id})`,htmlContent:l,tags:["document-delivery","transactional","project-files"]};await Na(o)},Kw=async e=>{try{const t=await er(()=>import("./index-CQgKCrt3.js"),[]),s={review_1:e.documents.filter(o=>o.review_stage==="review_1"),review_2:e.documents.filter(o=>o.review_stage==="review_2"),review_3:e.documents.filter(o=>o.review_stage==="review_3")},a={review_1:"Review 1 - Initial Project Review",review_2:"Review 2 - Mid-Project Assessment",review_3:"Review 3 - Final Review & Completion"},n=Object.entries(s).filter(([o,i])=>i.length>0).map(([o,i])=>{const c=a[o],d=i.map(u=>` ${u.name} (${u.category}) - ${u.url}`).join(`
`);return`${c}:
${d}`}).join(`

`),{date:l}=Es();await t.send(de.emailjs.serviceId,de.emailjs.templates.contact,{name:"TechCreator Document Delivery",email:de.developerEmail,project_type:"Document Delivery",budget:"N/A",message:`Document delivery for ${e.customer_name}

Order: ${e.order_id}
Project: ${e.project_title}

Documents:
${n}

Delivery Date: ${l}`,to_email:e.customer_email,reply_to:de.developerEmail},de.emailjs.publicKey),console.log("Document delivery email sent via EmailJS fallback")}catch(t){throw console.error("EmailJS document delivery failed:",t),t}},lp=(e,t)=>`
Thank you for purchasing "${e}"!

Your Order ID: ${t}

What happens next:
1. You will receive a separate email within 5 minutes containing download links for all project documents
2. If no documents are currently available, you'll receive a "Documents Coming Soon" notification
3. Documents are organized by review stages (Review 1, 2, and 3)
4. Each document includes presentations, documentation, and reports as applicable

The document delivery email will include:
 Direct download links or "Coming Soon" notification
 Documents grouped by review stage (when available)
 File size information
 Technical specifications
 Implementation guides

If you have any questions or need support, please contact us at ${de.developerEmail}

Thank you for your business!
  `.trim(),op=Object.freeze(Object.defineProperty({__proto__:null,CONFIG:de,generateDownloadInstructions:lp,sendBrevoEmail:Na,sendContactForm:ap,sendDocumentDelivery:Xd,sendNoDocumentsNotification:Qd,sendOrderConfirmation:np,sendSecureDocumentDelivery:Yd,validateEmail:ir},Symbol.toStringTag,{value:"Module"})),Gw={expirationHours:72,maxDownloads:5,requireEmailVerification:!0},Jw=()=>{const e="https://quiet-nougat-f9de42.netlify.app";if(typeof window<"u"){const t=window.location.host;return t.includes("localhost")||t.includes("webcontainer")||t.includes("local-credentialless")?e:window.location.origin}return e},Zd=async(e,t,s,a={})=>{const n={...Gw,...a},l=new Date;l.setHours(l.getHours()+n.expirationHours);const o=[];for(const i of e)try{const c=Yw(64),{data:d,error:u}=await G.from("secure_download_tokens").insert({token:c,document_id:i.id,recipient_email:t.toLowerCase(),order_id:s,expires_at:l.toISOString(),max_downloads:n.maxDownloads,download_count:0,is_active:!0}).select().single();if(u){console.error("Error storing token:",u);continue}const f=`${Jw()}/secure-download/${c}?email=${encodeURIComponent(t)}`;console.log(` Generated production-ready secure URL: ${f}`),o.push({documentId:i.id,documentName:i.name,secureUrl:f,expiresAt:l.toISOString()})}catch(c){console.error("Error generating secure URL for document:",i.id,c)}return o},Qw=async(e,t,s,a)=>{try{console.log(" Verifying download token:",e),console.log(" For email:",t);const{data:n,error:l}=await G.from("secure_download_tokens").select(`
        *,
        project_documents (
          id,
          name,
          url,
          type,
          size,
          document_category,
          review_stage
        )
      `).eq("token",e).eq("is_active",!0).single();if(l||!n)return console.error(" Token not found or error:",l),await Os(null,t,!1,"Invalid or expired token",s,a),{valid:!1,reason:"Invalid or expired token"};console.log(" Token found in database");const o=new Date,i=new Date(n.expires_at);return o>i?(console.log(" Token expired:",i),await Os(n.id,t,!1,"Token expired",s,a),await G.from("secure_download_tokens").update({is_active:!1,updated_at:new Date().toISOString()}).eq("id",n.id),{valid:!1,reason:"Download link has expired. Please contact support for new links."}):n.recipient_email.toLowerCase()!==t.toLowerCase()?(console.log(" Email mismatch:",n.recipient_email,"vs",t),await Os(n.id,t,!1,"Email mismatch",s,a),{valid:!1,reason:"This download link is not authorized for your email address"}):n.download_count>=n.max_downloads?(console.log(" Download limit exceeded:",n.download_count,">=",n.max_downloads),await Os(n.id,t,!1,"Download limit exceeded",s,a),{valid:!1,reason:"Download limit exceeded for this link. Please contact support if you need additional downloads."}):(console.log(" Token validation successful"),await Os(n.id,t,!0,null,s,a),await G.from("secure_download_tokens").update({download_count:n.download_count+1,updated_at:new Date().toISOString()}).eq("id",n.id),{valid:!0,document:n.project_documents,tokenData:n})}catch(n){return console.error(" Error verifying download token:",n),await Os(null,t,!1,"System error",s,a),{valid:!1,reason:"System error occurred. Please try again or contact support."}}},Os=async(e,t,s,a,n,l)=>{try{await G.from("download_attempts").insert({token_id:e,attempted_email:t.toLowerCase(),ip_address:n,user_agent:l,success:s,failure_reason:a,attempted_at:new Date().toISOString()})}catch(o){console.error("Error logging download attempt:",o)}},Yw=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let s="";for(let a=0;a<e;a++)s+=t.charAt(Math.floor(Math.random()*t.length));return s},Xw=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(e){console.error("Error getting client IP:",e);return}},Zw=async(e,t,s,a,n="expired_links",l,o)=>{try{const{error:i}=await G.from("download_link_requests").insert({order_id:e,customer_email:t.toLowerCase(),customer_name:s,project_title:a,original_token:o,reason:n,customer_message:l,status:"pending",priority:n==="expired_links"?"normal":"high"});return i?(console.error("Error submitting download link request:",i),!1):(console.log(" Download link request submitted successfully"),!0)}catch(i){return console.error("Error submitting download link request:",i),!1}},ek=async e=>{try{let t=G.from("download_link_requests").select("*").order("created_at",{ascending:!1});e&&(t=t.eq("status",e));const{data:s,error:a}=await t;return a?(console.error("Error fetching download link requests:",a),[]):s||[]}catch(t){return console.error("Error fetching download link requests:",t),[]}},xl=async(e,t,s,a,n)=>{try{const{error:l}=await G.rpc("update_download_request_status",{request_id_param:e,new_status_param:t,admin_email_param:s,response_message_param:a,links_generated_param:n||0});return l?(console.error("Error updating download link request status:",l),!1):!0}catch(l){return console.error("Error updating download link request status:",l),!1}},ip=g.createContext(void 0),rr=()=>{const e=g.useContext(ip);if(e===void 0)throw new Error("useProjects must be used within a ProjectProvider");return e},tk=e=>e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`),cn=e=>Array.isArray(e)?e.map(cn):e!==null&&typeof e=="object"?Object.keys(e).reduce((t,s)=>{const a=tk(s);return t[a]=cn(e[s]),t},{}):e,rk=({children:e})=>{const[t,s]=g.useState([]),[a,n]=g.useState([]),[l,o]=g.useState([]),[i,c]=g.useState([]),[d,u]=g.useState([]);g.useEffect(()=>{const $=async()=>{const{data:_,error:O}=await G.from("projects").select("*").order("created_at",{ascending:!1});if(O){console.error("Error fetching projects:",O);return}s(_||[])};$();const D=G.channel("projects_channel").on("postgres_changes",{event:"*",schema:"public",table:"projects"},_=>{$()}).subscribe();return()=>{D.unsubscribe()}},[]),g.useEffect(()=>{const $=async()=>{const{data:_,error:O}=await G.from("inquiries").select("*").order("created_at",{ascending:!1});if(O){console.error("Error fetching inquiries:",O);return}n(_||[])};$();const D=G.channel("inquiries_channel").on("postgres_changes",{event:"*",schema:"public",table:"inquiries"},_=>{$()}).subscribe();return()=>{D.unsubscribe()}},[]),g.useEffect(()=>{const $=async()=>{const{data:_,error:O}=await G.from("orders").select("*").order("created_at",{ascending:!1});if(O){console.error("Error fetching orders:",O);return}const N=(_||[]).map(C=>({...C,projectId:C.project_id,customerName:C.customer_name,customerEmail:C.customer_email,projectTitle:C.project_title,createdAt:C.created_at,updatedAt:C.updated_at}));o(N)};$();const D=G.channel("orders_channel").on("postgres_changes",{event:"*",schema:"public",table:"orders"},_=>{$()}).subscribe();return()=>{D.unsubscribe()}},[]),g.useEffect(()=>{const $=async()=>{const{data:_,error:O}=await G.from("project_documents").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(O){console.error("Error fetching project documents:",O);return}console.log("Fetched project documents:",_),c(_||[])};$();const D=G.channel("project_documents_channel").on("postgres_changes",{event:"*",schema:"public",table:"project_documents"},_=>{$()}).subscribe();return()=>{D.unsubscribe()}},[]),g.useEffect(()=>{const $=async()=>{const{data:_,error:O}=await G.from("project_requests").select("*").order("created_at",{ascending:!1});if(O){console.error("Error fetching project requests:",O);return}u(_||[])};$();const D=G.channel("project_requests_channel").on("postgres_changes",{event:"*",schema:"public",table:"project_requests"},_=>{$()}).subscribe();return()=>{D.unsubscribe()}},[]);const m=async $=>{const{imageUpload:D,..._}=$,O=cn(_),{data:N,error:C}=await G.from("projects").insert([O]).select().single();if(C){console.error("Error adding project:",C);return}s(U=>[...U,N])},f=async($,D)=>{const{imageUpload:_,...O}=D,N=cn(O),{error:C}=await G.from("projects").update(N).eq("id",$);if(C){console.error("Error updating project:",C);return}s(U=>U.map(W=>W.id===$?{...W,...D}:W))},x=async $=>{const{error:D}=await G.from("projects").delete().eq("id",$);if(D){console.error("Error deleting project:",D);return}s(_=>_.filter(O=>O.id!==$))},v=async $=>{const D=cn({clientName:$.name,email:$.email,projectType:$.projectType,budget:$.budget,message:$.message}),{data:_,error:O}=await G.from("inquiries").insert([D]).select().single();if(O){console.error("Error adding inquiry:",O);return}n(N=>[...N,_])},y=async $=>{const{error:D}=await G.from("inquiries").delete().eq("id",$);if(D){console.error("Error deleting inquiry:",D);return}n(_=>_.filter(O=>O.id!==$))},k=async $=>{const D={customer_name:$.customerName,customer_email:$.customerEmail,project_id:$.projectId,project_title:$.projectTitle,price:$.price,status:$.status},{data:_,error:O}=await G.from("orders").insert([D]).select().single();if(O)throw console.error("Error adding order:",O),O;const N={..._,projectId:_.project_id,customerName:_.customer_name,customerEmail:_.customer_email,projectTitle:_.project_title,createdAt:_.created_at,updatedAt:_.updated_at};if(o(U=>[...U,N]),A(N.projectId).length===0){console.log(' No documents available for project, sending "Documents Coming Soon" email...');try{await Qd({project_title:N.projectTitle,customer_name:N.customerName,customer_email:N.customerEmail,order_id:N.id,documents:[],access_expires:"Documents will be delivered within 3 business days"}),console.log(' "Documents Coming Soon" email sent successfully')}catch(U){console.error(' Error sending "Documents Coming Soon" email:',U)}}else{console.log(" Documents available for project, sending secure document delivery email...");try{await I(N,$.customerEmail,$.customerName,!0),console.log(" Secure document delivery email sent successfully")}catch(U){console.error(" Error sending secure document delivery email:",U)}}return N},h=async($,D)=>{const{error:_}=await G.from("orders").update({status:D,updated_at:new Date().toISOString()}).eq("id",$);if(_){console.error("Error updating order status:",_);return}o(O=>O.map(N=>N.id===$?{...N,status:D}:N))},p=async $=>{const{error:D}=await G.from("orders").delete().eq("id",$);if(D){console.error("Error deleting order:",D);return}o(_=>_.filter(O=>O.id!==$))},b=async $=>{const{data:D,error:_}=await G.from("project_documents").insert([$]).select().single();if(_)throw console.error("Error adding project document:",_),_;c(O=>[...O,D])},w=async($,D)=>{const{error:_}=await G.from("project_documents").update({...D,updated_at:new Date().toISOString()}).eq("id",$);if(_){console.error("Error updating project document:",_);return}c(O=>O.map(N=>N.id===$?{...N,...D}:N))},P=async $=>{const{error:D}=await G.from("project_documents").update({is_active:!1,updated_at:new Date().toISOString()}).eq("id",$);if(D){console.error("Error deleting project document:",D);return}c(_=>_.filter(O=>O.id!==$))},A=$=>{console.log("Getting documents for project ID:",$),console.log("Available documents:",i);const D=i.filter(_=>_.project_id===$&&_.is_active);return console.log("Filtered documents:",D),D},L=($,D)=>i.filter(_=>_.project_id===$&&_.review_stage===D&&_.is_active),I=async($,D,_,O=!0)=>{var N;try{const C=A($.projectId);if(C.length===0){console.log("No documents found for project, skipping email");return}if(O){console.log(" Using SECURE document delivery with time-limited links");const U=await Zd(C.map(ee=>({id:ee.id,name:ee.name,url:ee.url})),D,$.id,{expirationHours:72,maxDownloads:5,requireEmailVerification:!0}),W=U.map(ee=>{const ne=C.find(pe=>pe.id===ee.documentId);return{documentName:ee.documentName,secureUrl:ee.secureUrl,category:(ne==null?void 0:ne.document_category)||"document",review_stage:(ne==null?void 0:ne.review_stage)||"review_1",size:(ne==null?void 0:ne.size)||0}});await Yd({project_title:$.projectTitle,customer_name:_,customer_email:D,order_id:$.id,secureDocuments:W,expiresAt:((N=U[0])==null?void 0:N.expiresAt)||new Date(Date.now()+72*60*60*1e3).toISOString(),maxDownloads:5}),console.log(" Secure document delivery email sent successfully")}else{console.log(" Using LEGACY document delivery with direct links");const U=C.map(W=>({name:W.name,url:W.url,category:W.document_category,review_stage:W.review_stage}));await Xd({project_title:$.projectTitle,customer_name:_,customer_email:D,order_id:$.id,documents:U,access_expires:"Never (lifetime access)"}),console.log(" Legacy document delivery email sent successfully")}}catch(C){throw console.error("Error sending project documents:",C),C}},B=async($,D,_)=>{try{const O=l.find(N=>N.id===$);if(!O)throw new Error("Order not found");await I(O,D,_,!1)}catch(O){throw console.error("Error sending project documents:",O),O}},M=async($,D,_,O=!0)=>{try{const N=l.find(C=>C.id===$);if(!N)throw new Error("Order not found");await I(N,D,_,O)}catch(N){throw console.error("Error sending secure project documents:",N),N}},V=async $=>{const{data:D,error:_}=await G.from("project_requests").insert([{...$,status:"pending",source:"contact_form"}]).select().single();if(_)throw console.error("Error adding project request:",_),_;u(O=>[...O,D])},q=async($,D,_,O)=>{const{error:N}=await G.rpc("update_request_status",{request_id_param:$,new_status_param:D,changed_by_param:_,notes_param:O});if(N)throw console.error("Error updating project request status:",N),N;const{data:C}=await G.from("project_requests").select("*").order("created_at",{ascending:!1});C&&u(C)},me=async($,D)=>{const{data:_,error:O}=await G.rpc("convert_request_to_project",{request_id_param:$,admin_email:D});if(O)throw console.error("Error converting request to project:",O),O;const[N,C]=await Promise.all([G.from("project_requests").select("*").order("created_at",{ascending:!1}),G.from("projects").select("*").order("created_at",{ascending:!1})]);return N.data&&u(N.data),C.data&&s(C.data),_},we=async $=>{const{data:D,error:_}=await G.from("project_request_status_history").select("*").eq("request_id",$).order("created_at",{ascending:!1});return _?(console.error("Error fetching request status history:",_),[]):D||[]},Y=async $=>{const{error:D}=await G.from("project_requests").delete().eq("id",$);if(D){console.error("Error deleting project request:",D);return}u(_=>_.filter(O=>O.id!==$))};return r.jsx(ip.Provider,{value:{projects:t,addProject:m,updateProject:f,deleteProject:x,inquiries:a,addInquiry:v,deleteInquiry:y,orders:l,addOrder:k,updateOrderStatus:h,deleteOrder:p,projectDocuments:i,addProjectDocument:b,updateProjectDocument:w,deleteProjectDocument:P,getProjectDocuments:A,getDocumentsByReviewStage:L,sendProjectDocuments:B,sendSecureProjectDocuments:M,projectRequests:d,addProjectRequest:V,updateProjectRequestStatus:q,convertRequestToProject:me,getRequestStatusHistory:we,deleteProjectRequest:Y},children:e})},cp=({project:e})=>{const{isPortfolioMode:t,settings:s}=as(),a=l=>{switch(l.toLowerCase()){case"iot":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"blockchain":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"web":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},n=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e.price);return r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[e.imageUpload?r.jsx("img",{src:URL.createObjectURL(e.imageUpload),alt:e.title,className:"w-full h-48 object-cover"}):r.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex mb-3",children:[r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a(e.category)}`,children:[r.jsx(Cf,{className:"mr-1 h-3 w-3"}),e.category]}),e.featured&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 dark:bg-amber-700 text-amber-800 dark:text-amber-200",children:"Featured"}),t&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-700 text-blue-800 dark:text-blue-200",children:"Portfolio"})]}),r.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-200 mb-2",children:e.title}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4 line-clamp-3",children:e.description}),r.jsxs("div",{className:"flex justify-between items-center",children:[!t&&s.showPricesOnProjects&&r.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:n}),t&&r.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"View Project Details"}),r.jsx(ce,{to:`/projects/${e.id}`,className:"inline-flex items-center text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors duration-200",children:t?r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"mr-1 h-4 w-4"}),"View details"]}):r.jsxs(r.Fragment,{children:["View details",r.jsx(xs,{className:"ml-1 h-4 w-4"})]})})]})]})]})},sk=()=>{const{projects:e}=rr(),{isPortfolioMode:t}=as(),s=e.filter(n=>n.featured).slice(0,3),a=g.useRef(null);return g.useEffect(()=>{if(!a.current)return;const n=a.current,l=()=>{const i=document.createElement("div");i.className="absolute bg-blue-500 rounded-full opacity-0";const c=Math.random()*4+2;i.style.width=`${c}px`,i.style.height=`${c}px`;const d=Math.random()*100,u=Math.random()*100;i.style.left=`${d}%`,i.style.top=`${u}%`;const m=Math.random()*20+10;return i.style.animation=`float ${m}s linear infinite`,n.appendChild(i),setTimeout(()=>{i.classList.replace("opacity-0","opacity-30")},10),i},o=[];for(let i=0;i<50;i++)o.push(l());return()=>{o.forEach(i=>i.remove())}},[]),r.jsxs("div",{className:"flex flex-col min-h-screen bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-200",children:[r.jsxs("section",{className:"relative pt-32 pb-20 md:pt-40 md:pb-28 overflow-hidden bg-gradient-to-b from-slate-900 to-slate-800",children:[r.jsx("style",{children:`
            @keyframes float {
              0% { transform: translate(0, 0) scale(1); }
              25% { transform: translate(10px, 10px) scale(1.1); }
              50% { transform: translate(0, 20px) scale(1); }
              75% { transform: translate(-10px, 10px) scale(0.9); }
              100% { transform: translate(0, 0) scale(1); }
            }
          `}),r.jsx("div",{ref:a,className:"absolute inset-0 pointer-events-none overflow-hidden"}),r.jsx("div",{className:"container mx-auto px-4 md:px-6 relative z-10",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:t?r.jsxs("div",{className:"flex items-center bg-blue-500/20 text-blue-300 px-4 py-2 rounded-full backdrop-blur-sm",children:[r.jsx(it,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"font-medium",children:"Portfolio Showcase"})]}):r.jsxs("div",{className:"flex items-center bg-green-500/20 text-green-300 px-4 py-2 rounded-full backdrop-blur-sm",children:[r.jsx($n,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"font-medium",children:"Marketplace"})]})}),r.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:[r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-600",children:"Innovative Tech Solutions"})," ",t?"Showcase":"for Your Next Project"]}),r.jsx("p",{className:"text-xl text-slate-300 mb-8 leading-relaxed",children:t?"Explore our expertise in IoT, blockchain, and web development. See what we can build for you.":"Specializing in IoT, blockchain, and web development. Creating custom solutions and ready-to-use projects."}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[r.jsx(ce,{to:"/projects",className:"inline-flex items-center justify-center px-6 py-3 text-base font-medium text-white bg-blue-600 rounded-lg shadow-lg hover:bg-blue-700 transition-colors duration-200",children:t?r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"mr-2 h-5 w-5"}),"View Portfolio"]}):r.jsxs(r.Fragment,{children:["Browse Projects",r.jsx(xs,{className:"ml-2 h-5 w-5"})]})}),r.jsx(ce,{to:"/contact",className:"inline-flex items-center justify-center px-6 py-3 text-base font-medium text-blue-600 bg-white rounded-lg shadow-lg hover:bg-slate-100 transition-colors duration-200",children:"Request Custom Project"})]})]})})]}),r.jsx("section",{className:"py-16 bg-white dark:bg-slate-800",children:r.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-slate-200 mb-4",children:"Expertise Areas"}),r.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:t?"Showcasing innovative solutions across multiple technology domains":"Creating innovative solutions across multiple technology domains"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-700 p-8 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",children:[r.jsx(iy,{className:"h-12 w-12 text-blue-600 dark:text-blue-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200 mb-3",children:"IoT Solutions"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Smart devices, sensors, automation systems, and connected hardware for various applications."})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-700 p-8 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",children:[r.jsx(cy,{className:"h-12 w-12 text-blue-600 dark:text-blue-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200 mb-3",children:"Blockchain Development"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Decentralized applications, smart contracts, NFT platforms, and secure transaction systems."})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-700 p-8 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",children:[r.jsx(hy,{className:"h-12 w-12 text-blue-600 dark:text-blue-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200 mb-3",children:"Web Development"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Responsive websites, web applications, e-commerce platforms, and custom web solutions."})]})]})]})}),r.jsx("section",{className:"py-16 bg-slate-50 dark:bg-slate-900",children:r.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-12",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-slate-200 mb-4",children:t?"Featured Portfolio Projects":"Featured Projects"}),r.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl",children:t?"Explore some of our best work across different technology domains":"Explore some of my recent work across different technology domains"})]}),r.jsx(ce,{to:"/projects",className:"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium mt-4 md:mt-0 hover:text-blue-800 dark:hover:text-blue-300 transition-colors duration-200",children:t?r.jsxs(r.Fragment,{children:[r.jsx(it,{className:"mr-2 h-5 w-5"}),"View full portfolio"]}):r.jsxs(r.Fragment,{children:["View all projects",r.jsx(xs,{className:"ml-2 h-5 w-5"})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(n=>r.jsx(cp,{project:n},n.id))})]})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-blue-800 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-6",children:t?"Ready to Build Something Amazing Together?":"Need a Custom Technology Solution?"}),r.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:t?"Let's collaborate to create innovative solutions tailored to your specific needs. From concept to deployment, we've got you covered.":"Let's collaborate to build the perfect solution for your specific requirements. Custom development services available for IoT, blockchain, and web applications."}),r.jsxs(ce,{to:"/contact",className:"inline-flex items-center justify-center px-6 py-3 text-base font-medium text-blue-700 bg-white rounded-lg shadow-lg hover:bg-blue-50 transition-colors duration-200",children:[t?"Start Your Project":"Get in Touch",r.jsx(xs,{className:"ml-2 h-5 w-5"})]})]})})]})},ak=()=>{const{projects:e}=rr(),{isPortfolioMode:t,settings:s}=as(),[a,n]=To(),[l,o]=g.useState([]),[i,c]=g.useState(""),[d,u]=g.useState(null),[m,f]=g.useState([0,25e3]),[x,v]=g.useState(!1);g.useEffect(()=>{const w=a.get("category");w&&u(w);const P=a.get("search");P&&c(P);const A=a.get("minPrice"),L=a.get("maxPrice");A&&L&&f([parseInt(A),parseInt(L)])},[a]),g.useEffect(()=>{let w=[...e];i&&(w=w.filter(P=>P.title.toLowerCase().includes(i.toLowerCase())||P.description.toLowerCase().includes(i.toLowerCase()))),d&&(w=w.filter(P=>P.category.toLowerCase()===d.toLowerCase())),t||(w=w.filter(P=>P.price>=m[0]&&P.price<=m[1])),o(w)},[e,i,d,m,t]),g.useEffect(()=>{const w={};i&&(w.search=i),d&&(w.category=d),t||(w.minPrice=m[0].toString(),w.maxPrice=m[1].toString()),n(w)},[i,d,m,n,t]);const y=w=>u(w),k=w=>c(w.target.value),h=(w,P)=>{const A=parseInt(w.target.value),L=[...m];L[P]=A,P===0&&A>L[1]?L[1]=A:P===1&&A<L[0]&&(L[0]=A),f(L)},p=()=>{c(""),u(null),t||f([0,25e3])},b=["IoT","Blockchain","Web"];return r.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 pt-24 pb-16 text-slate-900 dark:text-slate-200",children:r.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:t?r.jsxs("div",{className:"flex items-center bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 px-4 py-2 rounded-full",children:[r.jsx(it,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"font-medium",children:"Portfolio Mode"})]}):r.jsxs("div",{className:"flex items-center bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-300 px-4 py-2 rounded-full",children:[r.jsx($n,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"font-medium",children:"Marketplace Mode"})]})}),r.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-200 mb-4",children:t?"Project Portfolio":"All Projects"}),r.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:t?"Browse through my collection of IoT, blockchain, and web development projects":"Explore our showcase of IoT, blockchain, and web development projects. Contact us for custom development."})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[r.jsx("div",{className:"lg:hidden mb-4",children:r.jsxs("button",{onClick:()=>v(!x),className:"flex items-center justify-center w-full px-4 py-2 bg-white dark:bg-slate-800 rounded-lg shadow text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700",children:[r.jsx(wa,{className:"h-4 w-4 mr-2"}),x?"Hide Filters":"Show Filters"]})}),r.jsx("div",{className:`lg:w-1/4 ${x?"block":"hidden lg:block"}`,children:r.jsxs("div",{className:"lg:sticky lg:top-24 bg-white dark:bg-slate-800 rounded-lg shadow-md p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:"Filters"}),r.jsxs("button",{onClick:p,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 flex items-center",children:[r.jsx(Qe,{className:"h-4 w-4 mr-1"}),"Clear all"]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",id:"search",value:i,onChange:k,placeholder:"Search projects...",className:"pl-10 pr-4 py-2 w-full border border-slate-300 dark:border-slate-700 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500"}),r.jsx(Do,{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Categories"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"category-all",name:"category",type:"radio",checked:d===null,onChange:()=>y(null),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 dark:ring-offset-slate-900"}),r.jsx("label",{htmlFor:"category-all",className:"ml-3 text-sm text-slate-600 dark:text-slate-400",children:"All Categories"})]}),b.map(w=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:`category-${w.toLowerCase()}`,name:"category",type:"radio",checked:d===w.toLowerCase(),onChange:()=>y(w.toLowerCase()),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 dark:ring-offset-slate-900"}),r.jsx("label",{htmlFor:`category-${w.toLowerCase()}`,className:"ml-3 text-sm text-slate-600 dark:text-slate-400",children:w})]},w))]})]}),!t&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Price Range"}),r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["",m[0]]}),r.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["",m[1]]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("input",{type:"range",min:"0",max:"25000",step:"1000",value:m[0],onChange:w=>h(w,0),className:"w-full"}),r.jsx("input",{type:"range",min:"0",max:"25000",step:"1000",value:m[1],onChange:w=>h(w,1),className:"w-full"})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"min-price",className:"block text-xs text-slate-600 dark:text-slate-400 mb-1",children:"Min Price"}),r.jsx("input",{type:"number",id:"min-price",min:"0",max:"25000",value:m[0],onChange:w=>h(w,0),className:"w-full px-3 py-1.5 text-sm border border-slate-300 dark:border-slate-700 rounded-md dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"max-price",className:"block text-xs text-slate-600 dark:text-slate-400 mb-1",children:"Max Price"}),r.jsx("input",{type:"number",id:"max-price",min:"0",max:"25000",value:m[1],onChange:w=>h(w,1),className:"w-full px-3 py-1.5 text-sm border border-slate-300 dark:border-slate-700 rounded-md dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500"})]})]})]})]})}),r.jsx("div",{className:"lg:w-3/4 lg:max-h-[calc(100vh-12rem)] lg:overflow-y-auto",children:l.length===0?r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-10 text-center",children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200 mb-2",children:"No projects found"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Try adjusting your filters to find what you're looking for."}),r.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Clear filters"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map(w=>r.jsx(cp,{project:w},w.id))})})]})]})})},nk=()=>{const{id:e}=Vd(),t=Cs(),{projects:s,getDocumentsByReviewStage:a}=rr(),{isPortfolioMode:n,settings:l}=as(),o=s.find(h=>h.id===e),[i,c]=g.useState(null);if(!o)return r.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 pt-28 pb-16 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-8 max-w-md mx-auto text-center",children:[r.jsx(Dt,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200 mb-4",children:"Project Not Found"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"The project you are looking for doesn't exist or has been removed."}),r.jsxs(ce,{to:"/projects",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[r.jsx(ao,{className:"mr-2 h-5 w-5"}),"Back to Projects"]})]})});const d=h=>{switch(h.toLowerCase()){case"iot":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"blockchain":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"web":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},u=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(o.price),m=()=>{t(`/checkout/${o.id}`)},f=[l.showReview1!==!1&&{value:"review_1",label:"Review 1",description:"Initial project review and requirements",icon:Me,color:"blue"},l.showReview2!==!1&&{value:"review_2",label:"Review 2",description:"Mid-project review and progress assessment",icon:sn,color:"purple"},l.showReview3!==!1&&{value:"review_3",label:"Review 3",description:"Final review and project completion",icon:rn,color:"green"}].filter(Boolean),x=h=>{c(i===h?null:h)},v=h=>{if(h===0)return"0 Bytes";const p=1024,b=["Bytes","KB","MB","GB"],w=Math.floor(Math.log(h)/Math.log(p));return parseFloat((h/Math.pow(p,w)).toFixed(2))+" "+b[w]},y=h=>{switch(h){case"presentation":return sn;case"document":return Me;case"report":return rn;default:return lo}},k=f.reduce((h,p)=>{const b=a(o.id,p.value);return h+b.length},0);return r.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 pt-24 pb-16",children:r.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center text-slate-600 dark:text-slate-300 hover:text-blue-600 transition-colors duration-200",children:[r.jsx(ao,{className:"mr-2 h-5 w-5"}),"Back to projects"]})}),n&&r.jsx("div",{className:"mb-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(it,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-blue-800 dark:text-blue-300",children:"Portfolio Mode"}),r.jsx("p",{className:"text-blue-700 dark:text-blue-400 text-sm",children:"This project is displayed for showcase purposes. Contact us for custom development."})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md overflow-hidden",children:[r.jsxs("div",{className:"relative h-64 md:h-80 bg-slate-200 dark:bg-slate-700",children:[r.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute top-4 left-4 flex space-x-2",children:[r.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${d(o.category)}`,children:[r.jsx(Cf,{className:"mr-1.5 h-4 w-4"}),o.category]}),o.featured&&r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 dark:bg-amber-700 text-amber-800 dark:text-amber-200",children:[r.jsx(Sf,{className:"mr-1.5 h-4 w-4"}),"Featured"]}),n&&r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 dark:bg-blue-700 text-blue-800 dark:text-blue-200",children:[r.jsx(it,{className:"mr-1.5 h-4 w-4"}),"Portfolio"]})]})]}),r.jsx("div",{className:"p-6 md:p-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-8",children:[r.jsxs("div",{className:"lg:w-2/3",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-200 mb-4",children:o.title}),r.jsxs("div",{className:"flex items-center text-slate-500 dark:text-slate-400 mb-6",children:[r.jsx(Fn,{className:"h-5 w-5 mr-2"}),r.jsxs("span",{children:["Last updated: ",new Date(o.updated_at||Date.now()).toLocaleDateString()]})]}),r.jsxs("div",{className:"prose max-w-none text-slate-700 dark:text-slate-300 mb-8",children:[r.jsx("p",{className:"mb-4 text-lg",children:o.description}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200 mb-3",children:"Features"}),r.jsx("ul",{className:"space-y-2 mb-6",children:o.features.map((h,p)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(Ie,{className:"h-5 w-5 text-green-500 dark:text-green-400 mr-2 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:h})]},p))}),o.technical_details&&r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200 mb-3",children:"Technical Details"}),r.jsx("p",{className:"mb-6",children:o.technical_details})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx(Tn,{className:"h-6 w-6 text-blue-600 dark:text-blue-400 mr-3"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:n?"Project Documentation":"Project Documents & Deliverables"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:n?"Overview of project documentation and deliverables":"Complete documentation package organized by review stages"})]})]}),r.jsx("div",{className:`border rounded-lg p-4 mb-6 ${n?"bg-slate-50 dark:bg-slate-700 border-slate-200 dark:border-slate-600":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"}`,children:r.jsxs("div",{className:"flex items-start",children:[n?r.jsx(ta,{className:"h-5 w-5 text-slate-600 dark:text-slate-400 mr-3 mt-0.5"}):r.jsx(aa,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-3 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`font-medium mb-2 ${n?"text-slate-800 dark:text-slate-300":"text-blue-800 dark:text-blue-300"}`,children:n?" Project Includes":" What You'll Receive"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:`flex items-center ${n?"text-slate-700 dark:text-slate-400":"text-blue-700 dark:text-blue-400"}`,children:[r.jsx(Me,{className:"h-4 w-4 mr-2"}),"Complete source code"]}),r.jsxs("div",{className:`flex items-center ${n?"text-slate-700 dark:text-slate-400":"text-blue-700 dark:text-blue-400"}`,children:[r.jsx(sn,{className:"h-4 w-4 mr-2"}),"Project presentations"]}),r.jsxs("div",{className:`flex items-center ${n?"text-slate-700 dark:text-slate-400":"text-blue-700 dark:text-blue-400"}`,children:[r.jsx(rn,{className:"h-4 w-4 mr-2"}),"Technical documentation"]}),r.jsxs("div",{className:`flex items-center ${n?"text-slate-700 dark:text-slate-400":"text-blue-700 dark:text-blue-400"}`,children:[r.jsx(lo,{className:"h-4 w-4 mr-2"}),"Implementation guides"]})]}),k>0&&r.jsxs("div",{className:`mt-3 p-2 rounded text-sm ${n?"bg-slate-100 dark:bg-slate-600":"bg-blue-100 dark:bg-blue-800"}`,children:[r.jsxs("strong",{children:[k," documents"]})," available across all review stages"]})]})]})}),r.jsx("div",{className:"space-y-4",children:f.map(h=>{const p=a(o.id,h.value),b=i===h.value,w=h.icon,P={blue:n?"border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700":"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20",purple:n?"border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700":"border-purple-200 dark:border-purple-800 bg-purple-50 dark:bg-purple-900/20",green:n?"border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700":"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20"};return r.jsxs("div",{className:`border rounded-lg ${P[h.color]}`,children:[r.jsxs("button",{onClick:()=>x(h.value),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-white/50 dark:hover:bg-slate-800/50 transition-colors rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(w,{className:`h-6 w-6 mr-4 ${n?"text-slate-600 dark:text-slate-400":h.color==="blue"?"text-blue-600 dark:text-blue-400":h.color==="purple"?"text-purple-600 dark:text-purple-400":"text-green-600 dark:text-green-400"}`}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-200",children:h.label}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:h.description})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p.length>0?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:[p.length," ",p.length===1?"doc":"docs"]}),b?r.jsx(Dr,{className:"h-5 w-5 text-slate-400"}):r.jsx(Ne,{className:"h-5 w-5 text-slate-400"})]})]}),b&&r.jsx("div",{className:"px-6 pb-4 border-t border-slate-200 dark:border-slate-700",children:p.length===0?r.jsxs("div",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:[r.jsx(Me,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:n?"Documentation available for custom development":"Documents will be available after purchase"}),r.jsx("p",{className:"text-xs mt-1",children:"This stage includes presentations, documentation, and reports"})]}):r.jsx("div",{className:"space-y-3 mt-4",children:p.map(A=>{const L=y(A.document_category);return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(L,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200",children:A.name}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-slate-400",children:[r.jsx("span",{children:v(A.size)}),r.jsx("span",{children:""}),r.jsx("span",{className:"capitalize",children:A.document_category})]}),A.description&&r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:A.description})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:`text-xs px-2 py-1 rounded ${n?"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-200":"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"}`,children:n?"Portfolio item":"Available after purchase"})})]},A.id)})})})]},h.value)})}),!n&&r.jsx("div",{className:"mt-6 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Yr,{className:"h-5 w-5 text-amber-600 dark:text-amber-400 mr-3 mt-0.5"}),r.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-300",children:[r.jsx("h4",{className:"font-medium mb-1",children:" Document Delivery"}),r.jsxs("ul",{className:"space-y-1",children:[r.jsx("li",{children:" Documents are delivered via secure email links after purchase"}),r.jsx("li",{children:" All files are organized by review stages for easy navigation"}),r.jsx("li",{children:" Download links are time-limited and email-specific for security"}),r.jsx("li",{children:" If documents aren't ready, you'll receive them within 3 business days"})]})]})]})})]})]}),r.jsx("div",{className:"lg:w-1/3",children:r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-6 shadow-sm sticky top-24",children:[!n&&l.showPricesOnProjects&&r.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-slate-200 mb-4",children:u}),n&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-200 mb-2",children:"Portfolio Project"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"This project showcases our capabilities. Contact us for similar custom development."})]}),!n&&l.enableCheckoutProcess?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:m,className:"w-full mb-4 inline-flex items-center justify-center px-5 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[r.jsx($n,{className:"mr-2 h-5 w-5"}),"Purchase Project"]}),r.jsxs(ce,{to:"/contact",className:"w-full inline-flex items-center justify-center px-5 py-3 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-800 transition-colors duration-200",children:[r.jsx(k0,{className:"mr-2 h-5 w-5"}),"Request Customization"]})]}):r.jsxs(ce,{to:"/contact",className:"w-full inline-flex items-center justify-center px-5 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[r.jsx(k0,{className:"mr-2 h-5 w-5"}),n?"Request Similar Project":"Contact for Details"]}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex items-start mb-4",children:[r.jsx(py,{className:"h-5 w-5 text-slate-500 dark:text-slate-400 mr-2 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[r.jsx("p",{className:"font-medium mb-1",children:n?"Project includes:":"What you'll receive:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 pl-1",children:[r.jsx("li",{children:"Complete source code"}),r.jsx("li",{children:"Documentation across 3 review stages"}),r.jsx("li",{children:"Installation guide"}),r.jsx("li",{children:"Technical specifications"}),r.jsx("li",{children:"Project presentations"}),!n&&r.jsx("li",{children:"Email support"}),n&&r.jsx("li",{children:"Custom development consultation"})]})]})]}),k>0&&r.jsx("div",{className:`border rounded-lg p-3 mt-4 ${n?"bg-slate-100 dark:bg-slate-700 border-slate-200 dark:border-slate-600":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"}`,children:r.jsxs("div",{className:`flex items-center ${n?"text-slate-800 dark:text-slate-300":"text-green-800 dark:text-green-300"}`,children:[r.jsx(Tn,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{className:"text-sm font-medium",children:[k," documents ",n?"showcase available":"ready for delivery"]})]})})]})]})})]})})]})]})})};var dp={exports:{}},lk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ok=lk,ik=ok;function up(){}function mp(){}mp.resetWarningCache=up;var ck=function(){function e(a,n,l,o,i,c){if(c!==ik){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mp,resetWarningCache:up};return s.PropTypes=s,s};dp.exports=ck();var dk=dp.exports;const Ae=J0(dk);function F0(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function z0(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?F0(Object(s),!0).forEach(function(a){hp(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):F0(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Rl(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rl=function(t){return typeof t}:Rl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function hp(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function uk(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,l;for(l=0;l<a.length;l++)n=a[l],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function mk(e,t){if(e==null)return{};var s=uk(e,t),a,n;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function fp(e,t){return hk(e)||fk(e,t)||pk(e,t)||xk()}function hk(e){if(Array.isArray(e))return e}function fk(e,t){var s=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(s!=null){var a=[],n=!0,l=!1,o,i;try{for(s=s.call(e);!(n=(o=s.next()).done)&&(a.push(o.value),!(t&&a.length===t));n=!0);}catch(c){l=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(l)throw i}}return a}}function pk(e,t){if(e){if(typeof e=="string")return B0(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return B0(e,t)}}function B0(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function xk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Et=function(t,s,a){var n=!!a,l=be.useRef(a);be.useEffect(function(){l.current=a},[a]),be.useEffect(function(){if(!n||!t)return function(){};var o=function(){l.current&&l.current.apply(l,arguments)};return t.on(s,o),function(){t.off(s,o)}},[n,s,t,l])},qc=function(t){var s=be.useRef(t);return be.useEffect(function(){s.current=t},[t]),s.current},pa=function(t){return t!==null&&Rl(t)==="object"},gk=function(t){return pa(t)&&typeof t.then=="function"},bk=function(t){return pa(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},q0="[object Object]",yk=function e(t,s){if(!pa(t)||!pa(s))return t===s;var a=Array.isArray(t),n=Array.isArray(s);if(a!==n)return!1;var l=Object.prototype.toString.call(t)===q0,o=Object.prototype.toString.call(s)===q0;if(l!==o)return!1;if(!l&&!a)return t===s;var i=Object.keys(t),c=Object.keys(s);if(i.length!==c.length)return!1;for(var d={},u=0;u<i.length;u+=1)d[i[u]]=!0;for(var m=0;m<c.length;m+=1)d[c[m]]=!0;var f=Object.keys(d);if(f.length!==i.length)return!1;var x=t,v=s,y=function(h){return e(x[h],v[h])};return f.every(y)},pp=function(t,s,a){return pa(t)?Object.keys(t).reduce(function(n,l){var o=!pa(s)||!yk(t[l],s[l]);return a.includes(l)?(o&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),n):o?z0(z0({},n||{}),{},hp({},l,t[l])):n},null):null},xp="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",V0=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xp;if(t===null||bk(t))return t;throw new Error(s)},vk=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xp;if(gk(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(n){return V0(n,s)})};var a=V0(t,s);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},wk=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},Fo=be.createContext(null);Fo.displayName="ElementsContext";var gp=function(t,s){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return t},bp=function(t){var s=t.stripe,a=t.options,n=t.children,l=be.useMemo(function(){return vk(s)},[s]),o=be.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(a):null}}),i=fp(o,2),c=i[0],d=i[1];be.useEffect(function(){var f=!0,x=function(y){d(function(k){return k.stripe?k:{stripe:y,elements:y.elements(a)}})};return l.tag==="async"&&!c.stripe?l.stripePromise.then(function(v){v&&f&&x(v)}):l.tag==="sync"&&!c.stripe&&x(l.stripe),function(){f=!1}},[l,c,a]);var u=qc(s);be.useEffect(function(){u!==null&&u!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,s]);var m=qc(a);return be.useEffect(function(){if(c.elements){var f=pp(a,m,["clientSecret","fonts"]);f&&c.elements.update(f)}},[a,m,c.elements]),be.useEffect(function(){wk(c.stripe)},[c.stripe]),be.createElement(Fo.Provider,{value:c},n)};bp.propTypes={stripe:Ae.any,options:Ae.object};var kk=function(t){var s=be.useContext(Fo);return gp(s,t)},jk=function(){var t=kk("calls useElements()"),s=t.elements;return s};Ae.func.isRequired;var yp=be.createContext(null);yp.displayName="CheckoutSdkContext";var Nk=function(t,s){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(s," in an <CheckoutProvider> provider."));return t},_k=be.createContext(null);_k.displayName="CheckoutContext";Ae.any,Ae.shape({fetchClientSecret:Ae.func.isRequired,elementsOptions:Ae.object}).isRequired;var Vc=function(t){var s=be.useContext(yp),a=be.useContext(Fo);if(s&&a)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return s?Nk(s,t):gp(a,t)},Sk=["mode"],Ck=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Xe=function(t,s){var a="".concat(Ck(t),"Element"),n=function(c){var d=c.id,u=c.className,m=c.options,f=m===void 0?{}:m,x=c.onBlur,v=c.onFocus,y=c.onReady,k=c.onChange,h=c.onEscape,p=c.onClick,b=c.onLoadError,w=c.onLoaderStart,P=c.onNetworksChange,A=c.onConfirm,L=c.onCancel,I=c.onShippingAddressChange,B=c.onShippingRateChange,M=Vc("mounts <".concat(a,">")),V="elements"in M?M.elements:null,q="checkoutSdk"in M?M.checkoutSdk:null,me=be.useState(null),we=fp(me,2),Y=we[0],$=we[1],D=be.useRef(null),_=be.useRef(null);Et(Y,"blur",x),Et(Y,"focus",v),Et(Y,"escape",h),Et(Y,"click",p),Et(Y,"loaderror",b),Et(Y,"loaderstart",w),Et(Y,"networkschange",P),Et(Y,"confirm",A),Et(Y,"cancel",L),Et(Y,"shippingaddresschange",I),Et(Y,"shippingratechange",B),Et(Y,"change",k);var O;y&&(t==="expressCheckout"?O=y:O=function(){y(Y)}),Et(Y,"ready",O),be.useLayoutEffect(function(){if(D.current===null&&_.current!==null&&(V||q)){var C=null;if(q)switch(t){case"payment":C=q.createPaymentElement(f);break;case"address":if("mode"in f){var U=f.mode,W=mk(f,Sk);if(U==="shipping")C=q.createShippingAddressElement(W);else if(U==="billing")C=q.createBillingAddressElement(W);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":C=q.createExpressCheckoutElement(f);break;case"currencySelector":C=q.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else V&&(C=V.create(t,f));D.current=C,$(C),C&&C.mount(_.current)}},[V,q,f]);var N=qc(f);return be.useEffect(function(){if(D.current){var C=pp(f,N,["paymentRequest"]);C&&"update"in D.current&&D.current.update(C)}},[f,N]),be.useLayoutEffect(function(){return function(){if(D.current&&typeof D.current.destroy=="function")try{D.current.destroy(),D.current=null}catch{}}},[]),be.createElement("div",{id:d,className:u,ref:_})},l=function(c){Vc("mounts <".concat(a,">"));var d=c.id,u=c.className;return be.createElement("div",{id:d,className:u})},o=s?l:n;return o.propTypes={id:Ae.string,className:Ae.string,onChange:Ae.func,onBlur:Ae.func,onFocus:Ae.func,onReady:Ae.func,onEscape:Ae.func,onClick:Ae.func,onLoadError:Ae.func,onLoaderStart:Ae.func,onNetworksChange:Ae.func,onConfirm:Ae.func,onCancel:Ae.func,onShippingAddressChange:Ae.func,onShippingRateChange:Ae.func,options:Ae.object},o.displayName=a,o.__elementType=t,o},Ze=typeof window>"u",Pk=be.createContext(null);Pk.displayName="EmbeddedCheckoutProviderContext";var Ek=function(){var t=Vc("calls useStripe()"),s=t.stripe;return s};Xe("auBankAccount",Ze);Xe("card",Ze);var W0=Xe("cardNumber",Ze),Tk=Xe("cardExpiry",Ze),Rk=Xe("cardCvc",Ze);Xe("fpxBank",Ze);Xe("iban",Ze);Xe("idealBank",Ze);Xe("p24Bank",Ze);Xe("epsBank",Ze);Xe("payment",Ze);Xe("expressCheckout",Ze);Xe("currencySelector",Ze);Xe("paymentRequestButton",Ze);Xe("linkAuthentication",Ze);Xe("address",Ze);Xe("shippingAddress",Ze);Xe("paymentMethodMessaging",Ze);Xe("affirmMessage",Ze);Xe("afterpayClearpayMessage",Ze);async function Dk({user_id:e,old_email:t,new_email:s,changed_at:a,ip_address:n}){const{data:l,error:o}=await G.from("email_change_audit").insert([{user_id:e,old_email:t,new_email:s,changed_at:a,ip_address:n}]);if(o)throw o;return l}async function $k({order_id:e,payment_id:t,amount:s,project_id:a,customer_name:n,customer_email:l,status:o,created_at:i,updated_at:c,user_agent:d}){const u={order_id:e,payment_id:t,amount:s,project_id:a,customer_name:n,customer_email:l,status:o,created_at:i,updated_at:c};d&&(u.user_agent=d);const{data:m,error:f}=await G.from("payments").insert([u]);if(f)throw f;return m}var vp="basil",Ik=function(t){return t===3?"v3":t},wp="https://js.stripe.com",Ok="".concat(wp,"/").concat(vp,"/stripe.js"),Ak=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Lk=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,H0="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Mk=function(t){return Ak.test(t)||Lk.test(t)},Uk=function(){for(var t=document.querySelectorAll('script[src^="'.concat(wp,'"]')),s=0;s<t.length;s++){var a=t[s];if(Mk(a.src))return a}return null},K0=function(t){var s="",a=document.createElement("script");a.src="".concat(Ok).concat(s);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(a),a},Fk=function(t,s){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.4.0",startTime:s})},Fa=null,gl=null,bl=null,zk=function(t){return function(s){t(new Error("Failed to load Stripe.js",{cause:s}))}},Bk=function(t,s){return function(){window.Stripe?t(window.Stripe):s(new Error("Stripe.js not available"))}},qk=function(t){return Fa!==null?Fa:(Fa=new Promise(function(s,a){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe&&t&&console.warn(H0),window.Stripe){s(window.Stripe);return}try{var n=Uk();if(n&&t)console.warn(H0);else if(!n)n=K0(t);else if(n&&bl!==null&&gl!==null){var l;n.removeEventListener("load",bl),n.removeEventListener("error",gl),(l=n.parentNode)===null||l===void 0||l.removeChild(n),n=K0(t)}bl=Bk(s,a),gl=zk(a),n.addEventListener("load",bl),n.addEventListener("error",gl)}catch(o){a(o);return}}),Fa.catch(function(s){return Fa=null,Promise.reject(s)}))},Vk=function(t,s,a){if(t===null)return null;var n=s[0],l=n.match(/^pk_test/),o=Ik(t.version),i=vp;l&&o!==i&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.4.0"," expected Stripe.js@").concat(i,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,s);return Fk(c,a),c},za,kp=!1,jp=function(){return za||(za=qk(null).catch(function(t){return za=null,Promise.reject(t)}),za)};Promise.resolve().then(function(){return jp()}).catch(function(e){kp||console.warn(e)});var Wk=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];kp=!0;var n=Date.now();return jp().then(function(l){return Vk(l,s,n)})};const Hk="pk_test_51ROUTePBTeX4TeMEySv3092ntShUUhw0S2xJRS1mnAM6fvszh8fT00jkMXpw6GM4Aps2cC3oJzQ3lWQvbLmCEbvG00wwKwyzFc",Np=Wk(Hk,{locale:"en"}),Kk=async()=>{try{const e=await Np;if(!e)throw new Error("Stripe failed to load");return e}catch(e){throw console.error("Stripe loading error:",e),e}},Gk=({amount:e,currency:t,onSuccess:s,onError:a,customerInfo:n,disabled:l=!1})=>{const o=Ek(),i=jk(),[c,d]=g.useState(!1),[u,m]=g.useState(n.name),[f,x]=g.useState({}),[v,y]=g.useState({cardNumber:!1,cardExpiry:!1,cardCvc:!1}),k={style:{base:{fontSize:"16px",color:"#1f2937",fontFamily:"Inter, system-ui, sans-serif",fontSmoothing:"antialiased","::placeholder":{color:"#9ca3af"},iconColor:"#6b7280"},invalid:{color:"#ef4444",iconColor:"#ef4444"},complete:{color:"#059669",iconColor:"#059669"}},hidePostalCode:!0},h={style:{base:{fontSize:"16px",color:"#f1f5f9",fontFamily:"Inter, system-ui, sans-serif",fontSmoothing:"antialiased",backgroundColor:"#0f172a","::placeholder":{color:"#64748b"},iconColor:"#94a3b8"},invalid:{color:"#f87171",iconColor:"#f87171"},complete:{color:"#34d399",iconColor:"#34d399"}},hidePostalCode:!0},p=document.documentElement.classList.contains("dark"),b=p?h:k;g.useEffect(()=>{m(n.name)},[n.name]);const w=async A=>{if(A.preventDefault(),!o||!i){a("Stripe has not loaded yet. Please try again.");return}if(!u.trim()){x({cardholderName:"Cardholder name is required"});return}if(!v.cardNumber||!v.cardExpiry||!v.cardCvc){a("Please complete all card details");return}d(!0),x({});const L=i.getElement(W0);if(!L){a("Card element not found"),d(!1);return}try{const{error:I,paymentMethod:B}=await o.createPaymentMethod({type:"card",card:L,billing_details:{name:u,email:n.email,phone:n.phone}});if(I){a(I.message||"Failed to create payment method"),d(!1);return}console.log(" Test Mode: Simulating successful payment"),await new Promise(V=>setTimeout(V,2e3));const M={id:"pi_test_"+Date.now(),status:"succeeded",amount:Math.round(e*100),currency:t.toLowerCase(),payment_method:B.id,created:Math.floor(Date.now()/1e3),metadata:{customer_name:n.name,customer_email:n.email,test_mode:"true"}};s(M)}catch(I){a(I instanceof Error?I.message:"An unexpected error occurred")}finally{d(!1)}},P=A=>L=>{L.error?x(I=>({...I,[A]:L.error.message})):x(I=>{const B={...I};return delete B[A],B}),y(I=>({...I,[A]:L.complete}))};return r.jsxs("form",{onSubmit:w,className:"space-y-6",children:[r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ie,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2 mt-0.5"}),r.jsxs("div",{className:"text-sm text-green-800 dark:text-green-300",children:[r.jsx("p",{className:"font-medium mb-1",children:" Test Mode - Use Test Cards"}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Success:"})," 4242 4242 4242 4242"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Declined:"})," 4000 0000 0000 0002"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"3D Secure:"})," 4000 0000 0000 3220"]}),r.jsx("p",{children:"Use any future expiry date and any 3-digit CVC"})]})]})]})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cardholderName",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cardholder Name *"}),r.jsx("input",{type:"text",id:"cardholderName",value:u,onChange:A=>m(A.target.value),className:`w-full px-3 py-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-slate-900 dark:text-slate-200 ${f.cardholderName?"border-red-300 dark:border-red-700":"border-slate-300 dark:border-slate-700"}`,placeholder:"John Doe",disabled:l||c}),f.cardholderName&&r.jsxs("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1 flex items-center",children:[r.jsx(Ve,{className:"h-4 w-4 mr-1"}),f.cardholderName]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Card Number *"}),r.jsx("div",{className:`w-full px-3 py-3 border rounded-md focus-within:ring-2 focus-within:ring-blue-500 ${f.cardNumber?"border-red-300 dark:border-red-700":"border-slate-300 dark:border-slate-700"} ${p?"bg-slate-900":"bg-white"}`,children:r.jsx(W0,{options:b,onChange:P("cardNumber")})}),f.cardNumber&&r.jsxs("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1 flex items-center",children:[r.jsx(Ve,{className:"h-4 w-4 mr-1"}),f.cardNumber]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Expiry Date *"}),r.jsx("div",{className:`w-full px-3 py-3 border rounded-md focus-within:ring-2 focus-within:ring-blue-500 ${f.cardExpiry?"border-red-300 dark:border-red-700":"border-slate-300 dark:border-slate-700"} ${p?"bg-slate-900":"bg-white"}`,children:r.jsx(Tk,{options:b,onChange:P("cardExpiry")})}),f.cardExpiry&&r.jsxs("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1 flex items-center",children:[r.jsx(Ve,{className:"h-4 w-4 mr-1"}),f.cardExpiry]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"CVC *"}),r.jsx("div",{className:`w-full px-3 py-3 border rounded-md focus-within:ring-2 focus-within:ring-blue-500 ${f.cardCvc?"border-red-300 dark:border-red-700":"border-slate-300 dark:border-slate-700"} ${p?"bg-slate-900":"bg-white"}`,children:r.jsx(Rk,{options:b,onChange:P("cardCvc")})}),f.cardCvc&&r.jsxs("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1 flex items-center",children:[r.jsx(Ve,{className:"h-4 w-4 mr-1"}),f.cardCvc]})]})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ro,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-3 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[r.jsx("p",{className:"font-medium mb-1",children:"Secure Test Payment"}),r.jsx("p",{children:"This is a test environment. No real charges will be made to your card."})]})]})}),r.jsx("button",{type:"submit",disabled:!o||l||c||!v.cardNumber||!v.cardExpiry||!v.cardCvc,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center ${c||l||!v.cardNumber||!v.cardExpiry||!v.cardCvc?"bg-gray-400 cursor-not-allowed text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing Test Payment..."]}):r.jsxs(r.Fragment,{children:[r.jsx(yf,{className:"h-5 w-5 mr-2"}),"Pay Securely (Test Mode)"]})})]})},Jk=({amount:e,currency:t,onSuccess:s,onError:a,customerInfo:n,disabled:l=!1})=>{const[o,i]=g.useState(""),[c,d]=g.useState(""),[u,m]=g.useState(!1),[f,x]=g.useState(""),[v,y]=g.useState(!1),[k,h]=g.useState(""),[p,b]=g.useState(600),w="918205445@ibl",P="TechCreator Test",A=[{id:"phonepe",name:"PhonePe",packageName:"com.phonepe.app",icon:""},{id:"googlepay",name:"Google Pay",packageName:"com.google.android.apps.nbu.paisa.user",icon:""},{id:"paytm",name:"Paytm",packageName:"net.one97.paytm",icon:""},{id:"bhim",name:"BHIM",packageName:"in.org.npci.upiapp",icon:""},{id:"amazonpay",name:"Amazon Pay",packageName:"in.amazon.mShop.android.shopping",icon:""}],L=()=>"TEST_UPI_"+Date.now()+Math.random().toString(36).substr(2,5).toUpperCase(),I=(Y,$)=>`upi://pay?${new URLSearchParams({pa:w,pn:P,am:Y.toString(),cu:t,tn:"Test Payment for TechCreator Project",tr:$}).toString()}`,B=Y=>`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(Y)}`,M=(Y,$)=>{/Android/i.test(navigator.userAgent)?window.location.href=`intent://pay?${$.split("?")[1]}#Intent;scheme=upi;package=${Y};end`:window.location.href=$},V=Y=>{navigator.clipboard.writeText(Y).then(()=>{console.log("Copied to clipboard")})},q=Y=>{const $=Math.floor(Y/60),D=Y%60;return`${$}:${D.toString().padStart(2,"0")}`},me=async Y=>{if(Y.preventDefault(),!o&&!c){a("Please enter UPI ID or select a UPI app");return}m(!0);try{const $=L();h($);const D=I(e,$);if(x(D),y(!0),b(600),c){const O=A.find(N=>N.id===c);O&&M(O.packageName,D)}const _=setInterval(()=>{b(O=>O<=1?(clearInterval(_),0):O-1)},1e3);setTimeout(()=>{clearInterval(_),Math.random()>.3?(y(!1),s({transactionId:$,paymentMethod:"upi",amount:e,currency:t,status:"succeeded",testMode:!0})):(y(!1),a("UPI payment failed. Please try again."),m(!1))},15e3)}catch($){console.error("UPI payment initiation failed:",$),a("Failed to initiate UPI payment. Please try again."),m(!1)}},we=()=>{y(!1),m(!1),x(""),h("")};return r.jsxs(r.Fragment,{children:[r.jsxs("form",{onSubmit:me,className:"space-y-6",children:[r.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ve,{className:"h-5 w-5 text-amber-600 dark:text-amber-400 mr-2 mt-0.5"}),r.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-300",children:[r.jsx("p",{className:"font-medium mb-1",children:" Test Mode"}),r.jsx("p",{children:"This is a test UPI payment. No real money will be charged. Use any UPI ID for testing."})]})]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium text-slate-900 dark:text-slate-200 mb-4",children:"Pay with your favorite UPI app:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:A.map(Y=>r.jsxs("button",{type:"button",onClick:()=>d(c===Y.id?"":Y.id),disabled:l||u,className:`p-3 border rounded-lg flex items-center space-x-2 transition-colors duration-200 ${c===Y.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-700 hover:border-slate-400"} ${l||u?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx("span",{className:"text-lg",children:Y.icon}),r.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-200",children:Y.name})]},Y.id))})]}),r.jsx("div",{className:"text-center text-slate-500 dark:text-slate-400 my-4",children:"OR"}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"upiId",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Enter UPI ID manually (Test Mode - Use any ID)"}),r.jsx("input",{type:"text",id:"upiId",value:o,onChange:Y=>i(Y.target.value),placeholder:"test@paytm (or any test UPI ID)",disabled:l||u,className:"w-full px-3 py-3 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-slate-900 dark:text-slate-200"})]}),r.jsx("button",{type:"submit",disabled:l||u||!o&&!c,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center ${l||u||!o&&!c?"bg-gray-400 cursor-not-allowed text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Initiating Test Payment..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Dc,{className:"h-5 w-5 mr-2"}),"Pay with UPI (Test Mode)"]})})]}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(vy,{className:"h-6 w-6 text-blue-600 dark:text-blue-400 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-200",children:"Complete UPI Payment"})]}),r.jsx("button",{onClick:we,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:r.jsx(Qe,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"mb-6 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ve,{className:"h-5 w-5 text-amber-600 dark:text-amber-400 mr-2"}),r.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-300",children:[r.jsx("p",{className:"font-medium",children:" Test Payment Mode"}),r.jsx("p",{children:"This will simulate a UPI payment. No real money will be charged."})]})]})}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 rounded-full",children:[r.jsx(Yr,{className:"h-4 w-4"}),r.jsx("span",{className:"font-mono text-lg font-bold",children:q(p)})]}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-2",children:"Time remaining to complete payment"})]}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg inline-block mb-4 border",children:r.jsx("img",{src:B(f),alt:"UPI QR Code",className:"w-64 h-64 mx-auto"})}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Scan this QR code with any UPI app to pay"})]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[r.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Transaction ID:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm font-mono text-slate-900 dark:text-slate-200",children:k}),r.jsx("button",{onClick:()=>V(k),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800",children:r.jsx(no,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[r.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Amount:"}),r.jsxs("span",{className:"text-sm font-semibold text-slate-900 dark:text-slate-200",children:["",e.toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[r.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Pay to:"}),r.jsx("span",{className:"text-sm font-mono text-slate-900 dark:text-slate-200",children:w})]})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Dc,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[r.jsx("p",{className:"font-medium mb-1",children:"Payment Instructions:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Open your UPI app and scan the QR code"}),r.jsx("li",{children:"Or use the transaction details above"}),r.jsx("li",{children:"Complete the payment in your UPI app"}),r.jsx("li",{children:"This is a test - payment will be simulated automatically"})]})]})]})}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:we,className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-md hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancel"}),r.jsxs("button",{onClick:()=>V(f),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center justify-center",children:[r.jsx(no,{className:"h-4 w-4 mr-2"}),"Copy UPI Link"]})]})]})})})]})},Qk=()=>{const{id:e}=Vd(),t=Cs(),{projects:s,addOrder:a,getProjectDocuments:n}=rr(),{settings:l}=as(),o=s.find(C=>C.id===e),[i,c]=g.useState(""),[d,u]=g.useState(""),[m,f]=g.useState(""),[x,v]=g.useState("stripe"),[y,k]=g.useState(!1),[h,p]=g.useState("idle"),[b,w]=g.useState(""),[P,A]=g.useState(""),[L,I]=g.useState(!0);if(g.useEffect(()=>{o||t("/projects")},[o,t]),g.useEffect(()=>{(async()=>{try{await Kk(),I(!1)}catch(U){console.error("Stripe failed to load:",U)}})()},[]),!o)return r.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 pt-28 pb-16 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-8 max-w-md mx-auto text-center",children:[r.jsx(Dt,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200 mb-4",children:"Project Not Found"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"The project you are trying to purchase doesn't exist."}),r.jsxs(ce,{to:"/projects",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[r.jsx(ao,{className:"mr-2 h-5 w-5"}),"Back to Projects"]})]})});let B=!!(l!=null&&l.enableUPI),M=!!(l!=null&&l.enableCard);!!(l!=null&&l.paymentProcessingEnabled)&&(B=!0,M=!0);const q=[{id:"stripe",name:M?"Credit/Debit Card":"Credit/Debit Card (Coming Soon)",icon:r.jsx(yf,{className:"h-6 w-6"}),description:M?"Pay securely with your card via Stripe":"Pay securely with your card",enabled:M},{id:"upi",name:B?"UPI Payment":"UPI Payment (Coming Soon)",icon:r.jsx(Dc,{className:"h-6 w-6"}),description:"Pay using any UPI app like PhonePe, Google Pay, Paytm",enabled:B}],me=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(o.price),we=async C=>{p("success"),w(C.id||C.transactionId);try{const U=await a({projectId:o.id,projectTitle:o.title,customerName:i,customerEmail:d,price:o.price,status:"completed"});await $k({order_id:(U==null?void 0:U.id)||C.id||C.transactionId,payment_id:C.id||C.transactionId,amount:o.price,project_id:o.id,customer_name:i,customer_email:d,status:"completed",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});const W=lp(o.title,C.id||C.transactionId);await np({project_title:o.title,customer_name:i,price:me,order_id:C.id||C.transactionId,download_instructions:W},d)}catch(U){console.error("Error processing order or payment insert:",U),alert("Payment was successful, but saving payment data failed: "+((U==null?void 0:U.message)||U))}},Y=C=>{p("failed"),A(C)},$=()=>{p("idle"),A(""),w("")},D=()=>{t("/projects")},O=n(o.id).length,N={name:i,email:d,phone:m};return r.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 pt-24 pb-16",children:r.jsxs("div",{className:"container mx-auto px-4 md:px-6 max-w-4xl",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center text-slate-600 dark:text-slate-300 hover:text-blue-600 transition-colors duration-200",children:[r.jsx(ao,{className:"mr-2 h-5 w-5"}),"Back"]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-6 sticky top-24",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200 mb-4",children:"Order Summary"}),r.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[r.jsx("img",{src:o.image,alt:o.title,className:"w-16 h-16 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-200",children:o.title}),r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:o.category})]})]}),r.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Project Price"}),r.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:me})]}),r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Processing Fee"}),r.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:"0"})]}),r.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-2 mt-2",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-lg font-semibold text-slate-900 dark:text-slate-200",children:"Total"}),r.jsx("span",{className:"text-lg font-semibold text-slate-900 dark:text-slate-200",children:me})]})})]}),r.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(aa,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[r.jsx("p",{className:"font-medium mb-1",children:"Secure Payment"}),r.jsx("p",{children:"Your payment is protected by industry-standard encryption."})]})]})}),O>0&&r.jsx("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Me,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2 mt-0.5"}),r.jsxs("div",{className:"text-sm text-green-800 dark:text-green-300",children:[r.jsx("p",{className:"font-medium mb-1",children:"Project Documents Included"}),r.jsxs("p",{children:[O," documents across all review stages will be delivered via email."]})]})]})})]})}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-6",children:[h==="idle"&&r.jsxs(r.Fragment,{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200 mb-6",children:"Checkout"}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-200 mb-4",children:"Customer Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Full Name *"}),r.jsx("input",{type:"text",id:"name",value:i,onChange:C=>c(C.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Phone Number *"}),r.jsx("input",{type:"tel",id:"phone",value:m,onChange:C=>f(C.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",required:!0})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email Address *"}),r.jsx("input",{type:"email",id:"email",value:d,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",required:!0}),r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Project documents will be sent to this email address"})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-200 mb-4",children:"Payment Method"}),r.jsx("div",{className:"space-y-3",children:q.map(C=>r.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors duration-200 ${x===C.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":C.enabled?"border-slate-300 dark:border-slate-700 hover:border-slate-400":"border-slate-200 dark:border-slate-800 opacity-50 cursor-not-allowed"}`,onClick:()=>C.enabled&&v(C.id),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"radio",id:C.id,name:"paymentMethod",value:C.id,checked:x===C.id,onChange:()=>v(C.id),disabled:!C.enabled,className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"ml-3 flex items-center",children:[r.jsx("div",{className:"text-blue-600 dark:text-blue-400 mr-3",children:C.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-200",children:C.name}),r.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:C.description})]})]})]})},C.id))})]}),i&&d&&m&&r.jsxs("div",{children:[x==="stripe"&&M&&r.jsx(bp,{stripe:Np,options:{appearance:{theme:"stripe",variables:{colorPrimary:"#3b82f6",colorBackground:document.documentElement.classList.contains("dark")?"#0f172a":"#ffffff",colorText:document.documentElement.classList.contains("dark")?"#f1f5f9":"#1f2937",fontFamily:"Inter, system-ui, sans-serif"}}},children:L?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Loading payment form..."})]}):r.jsx(Gk,{amount:o.price,currency:"INR",onSuccess:we,onError:Y,customerInfo:N,disabled:y})}),x==="upi"&&B&&r.jsx(Jk,{amount:o.price,currency:"INR",onSuccess:we,onError:Y,customerInfo:N,disabled:y})]}),(!i||!d||!m)&&r.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ve,{className:"h-5 w-5 text-amber-600 dark:text-amber-400 mr-2 mt-0.5"}),r.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-300",children:[r.jsx("p",{className:"font-medium mb-1",children:"Complete Customer Information"}),r.jsx("p",{children:"Please fill in all customer details above to proceed with payment."})]})]})})]}),h==="success"&&r.jsxs("div",{className:"text-center",children:[r.jsx(Ie,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200 mb-2",children:"Payment Successful!"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Thank you for your purchase. You'll receive emails with order confirmation and download links shortly."}),r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg mb-6",children:r.jsxs("div",{className:"text-sm text-green-800 dark:text-green-300",children:[r.jsx("p",{className:"font-medium mb-2",children:"Order Details:"}),r.jsxs("p",{children:["Transaction ID: ",b]}),r.jsxs("p",{children:["Project: ",o.title]}),r.jsxs("p",{children:["Amount: ",me]}),r.jsxs("p",{children:["Payment Method: ",x==="stripe"?"Credit/Debit Card":"UPI"]}),O>0&&r.jsxs("p",{className:"mt-2 flex items-center justify-center",children:[r.jsx(Me,{className:"h-4 w-4 mr-1"}),O," project documents will be delivered via email"]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:D,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Browse More Projects"}),r.jsx(ce,{to:"/contact",className:"block w-full py-2 px-4 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors duration-200 text-center",children:"Need Help?"})]})]}),h==="failed"&&r.jsxs("div",{className:"text-center",children:[r.jsx(Dt,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200 mb-2",children:"Payment Failed"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:P||"There was an issue processing your payment. Please try again."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:$,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Try Again"}),r.jsx(ce,{to:"/contact",className:"block w-full py-2 px-4 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors duration-200 text-center",children:"Contact Support"})]})]})]})})]})]})})},Yk=()=>{const{addInquiry:e,addProjectRequest:t}=rr(),[s,a]=g.useState(""),[n,l]=g.useState(""),[o,i]=g.useState(""),[c,d]=g.useState(""),[u,m]=g.useState(""),[f,x]=g.useState(""),[v,y]=g.useState(""),[k,h]=g.useState(""),[p,b]=g.useState(""),[w,P]=g.useState("medium"),[A,L]=g.useState(!1),[I,B]=g.useState(!1),M=async V=>{V.preventDefault(),L(!0);try{await ap({from_name:s,from_email:n,project_type:c,budget:u,message:`${v}

Project Title: ${f}
Requirements: ${k}
Timeline: ${p}
Priority: ${w}`}),e({name:s,email:n,projectType:c,budget:u,message:v}),f.trim()&&await t({customer_name:s,customer_email:n,customer_phone:o,project_title:f,project_type:c,budget_range:u,description:v,requirements:k||void 0,timeline:p||void 0,priority:w,admin_notes:"",estimated_price:void 0,estimated_timeline:void 0,assigned_to:void 0}),B(!0),a(""),l(""),i(""),d(""),m(""),x(""),y(""),h(""),b(""),P("medium"),setTimeout(()=>{B(!1)},5e3)}catch(q){console.error("Failed to send inquiry:",q),alert("Failed to send your request. Please try again or contact us directly.")}finally{L(!1)}};return r.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 pt-24 pb-16 text-slate-900 dark:text-slate-200",children:r.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Get In Touch"}),r.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Have a project idea or need a custom solution? Fill out the form below and I'll get back to you as soon as possible."})]}),r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md overflow-hidden",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[r.jsxs("div",{className:"bg-blue-600 text-white p-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Contact Information"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx(ct,{className:"h-6 w-6 mr-3 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Email"}),r.jsx("a",{href:"mailto:mohanselemophile@gmail.com",className:"text-blue-200 hover:text-white transition-colors duration-200",children:"mohanselemophile@gmail.com"})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx(wf,{className:"h-6 w-6 mr-3 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"GitHub"}),r.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-200 hover:text-white transition-colors duration-200",children:"github.com/techcreator"})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx(kf,{className:"h-6 w-6 mr-3 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"LinkedIn"}),r.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-200 hover:text-white transition-colors duration-200",children:"linkedin.com/in/techcreator"})]})]})]}),r.jsxs("div",{className:"mt-12",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Expertise Areas"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-200",children:[r.jsx("li",{children:"IoT Solutions"}),r.jsx("li",{children:"Blockchain Development"}),r.jsx("li",{children:"Web Applications"}),r.jsx("li",{children:"Mobile Apps"}),r.jsx("li",{children:"Custom Software"})]})]})]}),r.jsxs("div",{className:"col-span-2 p-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Send a Project Request"}),I?r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[r.jsx(Ie,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-green-800 mb-2",children:"Request Sent Successfully!"}),r.jsx("p",{className:"text-green-600",children:"Thank you for reaching out. Your project request has been submitted and I'll get back to you as soon as possible."})]}):r.jsxs("form",{onSubmit:M,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact-name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Your Name *"}),r.jsx("input",{type:"text",id:"contact-name",name:"contact-name",value:s,onChange:V=>a(V.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact-email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email Address *"}),r.jsx("input",{type:"email",id:"contact-email",name:"contact-email",value:n,onChange:V=>l(V.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact-phone",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Phone Number"}),r.jsx("input",{type:"tel",id:"contact-phone",name:"contact-phone",value:o,onChange:V=>i(V.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"project-type",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Project Type *"}),r.jsxs("select",{id:"project-type",name:"project-type",value:c,onChange:V=>d(V.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500",required:!0,children:[r.jsx("option",{value:"",children:"Select project type"}),r.jsx("option",{value:"IoT",children:"IoT Solution"}),r.jsx("option",{value:"Blockchain",children:"Blockchain Development"}),r.jsx("option",{value:"Web",children:"Web Development"}),r.jsx("option",{value:"Mobile",children:"Mobile App"}),r.jsx("option",{value:"Other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"project-title",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Project Title *"}),r.jsx("input",{type:"text",id:"project-title",name:"project-title",value:f,onChange:V=>x(V.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500",placeholder:"Give your project a descriptive title",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"budget-range",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Budget Range *"}),r.jsxs("select",{id:"budget-range",name:"budget-range",value:u,onChange:V=>m(V.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500",required:!0,children:[r.jsx("option",{value:"",children:"Select budget range"}),r.jsx("option",{value:"5,000-10,000",children:"5,000 - 10,000"}),r.jsx("option",{value:"10,000-15,000",children:"10,000 - 15,000"}),r.jsx("option",{value:"15,000-20,000",children:"15,000 - 20,000"}),r.jsx("option",{value:"20,000-25,000",children:"20,000 - 25,000"}),r.jsx("option",{value:"25,000+",children:"25,000+"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Priority Level"}),r.jsxs("select",{id:"priority",name:"priority",value:w,onChange:V=>P(V.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500",children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"project-description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Project Description *"}),r.jsx("textarea",{id:"project-description",name:"project-description",value:v,onChange:V=>y(V.target.value),rows:4,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500",placeholder:"Describe your project goals, target audience, and key features...",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"requirements",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Technical Requirements"}),r.jsx("textarea",{id:"requirements",name:"requirements",value:k,onChange:V=>h(V.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500",placeholder:"Specific technologies, integrations, or technical requirements..."})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"timeline",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Expected Timeline"}),r.jsx("input",{type:"text",id:"timeline",name:"timeline",value:p,onChange:V=>b(V.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500",placeholder:"e.g., 2-3 weeks, 1 month, ASAP"})]}),r.jsx("button",{type:"submit",disabled:A,className:`inline-flex items-center justify-center px-6 py-3 text-base font-medium text-white bg-blue-600 rounded-lg shadow-sm hover:bg-blue-700 transition-colors duration-200 ${A?"opacity-70 cursor-not-allowed":""}`,children:A?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):r.jsxs(r.Fragment,{children:["Send Project Request",r.jsx(wy,{className:"ml-2 h-5 w-5"})]})})]})]})]})})})]})})},Xk=()=>{const[e]=To(),[t,s]=g.useState(""),[a,n]=g.useState(""),[l,o]=g.useState(!1),[i,c]=g.useState(""),[d,u]=g.useState(!1),m=Cs(),{login:f,isAuthenticated:x}=Nr(),v=e.get("email_changed")==="1",y=e.get("new_email"),k=e.get("verification_failed")==="1";be.useEffect(()=>{x&&m("/admin")},[x,m]),be.useEffect(()=>{if(y&&!k){const b=decodeURIComponent(y);s(b),console.log(" Auto-filled email from URL:",b)}},[y,k]);const h=async b=>{b.preventDefault(),c(""),u(!0);try{console.log(" Attempting login with email:",t),await f(t,a)?(console.log(" Login successful, redirecting to admin dashboard"),m("/admin")):(console.log(" Login failed"),c("Invalid email or password"))}catch(w){console.error(" Login error:",w),c("Login failed. Please try again.")}finally{u(!1)}},p=()=>{o(!l)};return r.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 pt-24 pb-16 flex items-center justify-center",children:r.jsx("div",{className:"max-w-md w-full mx-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md overflow-hidden",children:[r.jsxs("div",{className:"bg-blue-600 p-6 text-white text-center",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),r.jsx("p",{className:"text-blue-100 mt-1",children:v&&!k?"Your email has been verified and changed. Please log in with your new email and password.":"Login to manage your projects"})]}),r.jsxs("div",{className:"p-8",children:[v&&!k&&r.jsx("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(it,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-green-800 dark:text-green-300",children:"Email Successfully Changed!"}),r.jsxs("p",{className:"text-green-700 dark:text-green-400 text-sm",children:["Your email verification was successful! Please log in with your new email address",y?`: ${decodeURIComponent(y)}`:"",". For security, you have been automatically signed out from all devices and browsers. Your password remains the same."]})]})]})}),i&&r.jsx("div",{className:"mb-6 bg-red-50 text-red-700 p-4 rounded-md border border-red-200",children:i}),r.jsxs("form",{onSubmit:h,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Ns,{className:"h-5 w-5 text-slate-400"})}),r.jsx("input",{id:"email",type:"email",value:t,onChange:b=>s(b.target.value),className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 ${v&&!k?"border-green-300 dark:border-green-700 bg-green-50 dark:bg-green-900/20":"border-slate-300 dark:border-slate-700"}`,placeholder:"admin@example.com",required:!0})]}),r.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:v&&!k&&y?` New email auto-filled after verification: ${decodeURIComponent(y)}`:"Demo: admin@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Ro,{className:"h-5 w-5 text-slate-400"})}),r.jsx("input",{id:"password",type:l?"text":"password",value:a,onChange:b=>n(b.target.value),className:"block w-full pl-10 pr-10 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500",placeholder:"",required:!0}),r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx("button",{type:"button",onClick:p,className:"text-slate-400 hover:text-slate-600 focus:outline-none",children:l?r.jsx(vf,{className:"h-5 w-5"}):r.jsx(it,{className:"h-5 w-5"})})})]}),r.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"Demo: admin123"}),v&&!k&&r.jsx("p",{className:"mt-1 text-xs text-green-600 dark:text-green-400",children:" Your password remains the same as before the email verification"})]}),r.jsx("button",{type:"submit",disabled:d,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${d?"opacity-70 cursor-not-allowed":""}`,children:d?r.jsxs("div",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})]})]})]})})})},tr=({children:e})=>{const[t,s]=g.useState(!1),a=rs(),{logout:n}=Nr(),l=i=>a.pathname===i,o=[{name:"Dashboard",path:"/admin",icon:xy},{name:"Project Requests",path:"/admin/project-requests",icon:oy},{name:"Projects",path:"/admin/projects",icon:Ec},{name:"Orders",path:"/admin/orders",icon:co},{name:"Download Requests",path:"/admin/download-requests",icon:js},{name:"Email Change Audit",path:"/admin/email-change-audit",icon:ta},{name:"Payments",path:"/admin/payments",icon:co}];return r.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50 dark:bg-slate-900",children:[r.jsx("header",{className:"sticky top-0 bg-white shadow-sm z-30",children:r.jsxs("div",{className:"flex h-16 items-center px-4",children:[r.jsx("button",{className:"lg:hidden text-slate-500 hover:text-slate-700 focus:outline-none",onClick:()=>s(!0),children:r.jsx(jf,{className:"h-6 w-6"})}),r.jsxs(ce,{to:"/",className:"ml-3 lg:ml-0 flex items-center space-x-2 text-xl font-bold text-slate-900",children:[r.jsx(ta,{className:"h-6 w-6 text-blue-600"}),r.jsx("span",{children:"TechCreator"})]})]})}),r.jsxs("div",{className:"flex-1 flex",children:[t&&r.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50 z-20 lg:hidden",onClick:()=>s(!1)}),r.jsx("aside",{className:`fixed lg:sticky top-16 h-[calc(100vh-4rem)] w-64 bg-white dark:bg-slate-800 shadow-md z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${t?"translate-x-0":"-translate-x-full"}`,children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-slate-200 lg:hidden",children:[r.jsxs(ce,{to:"/",className:"flex items-center space-x-2 text-xl font-bold text-slate-900",children:[r.jsx(ta,{className:"h-6 w-6 text-blue-600"}),r.jsx("span",{children:"TechCreator"})]}),r.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>s(!1),children:r.jsx(Qe,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h2",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Admin Panel"}),r.jsx("nav",{className:"space-y-1",children:o.map(i=>r.jsxs(ce,{to:i.path,onClick:()=>s(!1),className:`flex items-center px-3 py-2 rounded-md text-sm font-medium ${l(i.path)?"bg-blue-50 dark:bg-slate-700 text-blue-700 dark:text-white":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-white"}`,children:[r.jsx(i.icon,{className:`h-5 w-5 mr-3 ${l(i.path)?"text-blue-600 dark:text-white":"text-slate-400 dark:text-slate-400"}`}),i.name]},i.name))}),r.jsx("hr",{className:"my-6 border-slate-200"}),r.jsxs(ce,{to:"/admin/settings",onClick:()=>s(!1),className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-slate-600 hover:bg-slate-100 hover:text-slate-900",children:[r.jsx(ky,{className:"h-5 w-5 mr-3 text-slate-400"}),"Settings"]}),r.jsxs("button",{onClick:n,className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-slate-600 hover:bg-slate-100 hover:text-slate-900 w-full text-left mt-2",children:[r.jsx(gy,{className:"h-5 w-5 mr-3 text-slate-400"}),"Log Out"]})]})}),r.jsx("div",{className:"p-4 border-t border-slate-200 mt-auto",children:r.jsx(ce,{to:"/",className:"text-sm text-slate-600 hover:text-blue-600",onClick:()=>s(!1),children:" Back to Website"})})]})}),r.jsx("main",{className:"flex-1 overflow-y-auto relative bg-white dark:bg-slate-900",children:r.jsx("div",{className:"absolute inset-0 overflow-y-auto",children:e})})]})]})},Zk=()=>{var L;const{projects:e,inquiries:t,orders:s}=rr(),{user:a}=Nr(),[n,l]=g.useState("This Year"),[o,i]=g.useState(null),[c,d]=g.useState(!1),u=s.reduce((I,B)=>I+B.price,0),m=s.filter(I=>I.status==="pending").length,f=t.length;s.filter(I=>I.status==="completed").length;const x=I=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(I),y=(I=>Array.from({length:12},(M,V)=>{const q=Math.floor(Math.random()*5e4*(V+1)/4);return{month:V,amount:q,orders:Math.floor(q/15e3)+Math.floor(Math.random()*5),growth:V>0?(q-q*.8)/(q*.8)*100:0}}))(),k=Math.max(...y.map(I=>I.amount)),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=y.reduce((I,B)=>I+B.amount,0),b=p/12,w=new Date().getMonth(),P=((L=y[w])==null?void 0:L.growth)||0,A=["This Year","Last Year","Last 6 Months","Last 3 Months"];return r.jsx(tr,{children:r.jsxs("div",{className:"px-4 sm:px-6 py-8 dark:bg-gray-900 min-h-screen",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200",children:["Welcome back, ",(a==null?void 0:a.name)||(a==null?void 0:a.email.split("@")[0])]}),r.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Here's your business overview for ",new Date().toLocaleDateString("en-IN",{month:"long",year:"numeric"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-blue-300 dark:from-blue-900 dark:to-blue-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ec,{className:"h-8 w-8 text-blue-700 dark:text-blue-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Total Projects"}),r.jsx("h3",{className:"text-2xl font-bold text-blue-900 dark:text-blue-200",children:e.length}),r.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Active listings"})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-amber-100 to-amber-300 dark:from-amber-900 dark:to-amber-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ra,{className:"h-8 w-8 text-amber-700 dark:text-amber-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-amber-700 dark:text-amber-300",children:"New Inquiries"}),r.jsx("h3",{className:"text-2xl font-bold text-amber-900 dark:text-amber-200",children:f}),r.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Requires response"})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-purple-300 dark:from-purple-900 dark:to-purple-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(co,{className:"h-8 w-8 text-purple-700 dark:text-purple-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:"Pending Orders"}),r.jsx("h3",{className:"text-2xl font-bold text-purple-900 dark:text-purple-200",children:m}),r.jsx("span",{className:"text-xs text-purple-600 dark:text-purple-400",children:"Waiting fulfillment"})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-100 to-green-300 dark:from-green-900 dark:to-green-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(fy,{className:"h-8 w-8 text-green-700 dark:text-green-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Total Revenue"}),r.jsx("h3",{className:"text-2xl font-bold text-green-900 dark:text-green-200",children:x(u)}),r.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400",children:["From ",s.length," orders"]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 lg:col-span-2",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6",children:[r.jsxs("div",{className:"flex items-center mb-4 sm:mb-0",children:[r.jsx(Pc,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-200",children:"Revenue Overview ()"})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("div",{className:"relative min-w-[170px] w-full md:w-auto",children:[r.jsxs("button",{type:"button",className:"pl-4 pr-8 py-2 border border-slate-300 dark:border-slate-700 rounded-md bg-white dark:bg-slate-900 w-full flex items-center justify-between focus:ring-2 focus:ring-blue-500 transition-colors duration-200 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-slate-900 dark:text-slate-200 font-medium",onClick:()=>d(I=>!I),"aria-haspopup":"listbox","aria-expanded":c?"true":"false",id:"timeframeFilterDropdown",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(wa,{className:"h-5 w-5 text-slate-400 mr-2"}),r.jsx("span",{className:"text-blue-600 font-bold",children:n})]}),r.jsx("span",{className:"flex items-center ml-2",children:r.jsx(Ne,{className:"h-4 w-4 text-slate-400"})})]}),c&&r.jsx("ul",{className:"absolute left-0 mt-2 min-w-full z-10 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-700 rounded-md shadow-lg py-1",role:"listbox","aria-labelledby":"timeframeFilterDropdown",tabIndex:-1,children:A.map(I=>r.jsx("li",{role:"option","aria-selected":n===I?"true":"false",tabIndex:0,onClick:()=>{l(I),d(!1)},onKeyDown:B=>{(B.key==="Enter"||B.key===" ")&&(l(I),d(!1))},className:`cursor-pointer px-8 py-2 flex items-center transition-colors duration-150 ${n===I?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 font-bold":"hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600"}`,children:I},I))})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-blue-300 dark:from-blue-900 dark:to-blue-700 rounded-lg p-4 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:"Total Revenue"}),r.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-200",children:x(p)})]}),r.jsx(Ic,{className:"h-8 w-8 text-blue-700 dark:text-blue-300"})]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-100 to-green-300 dark:from-green-900 dark:to-green-700 rounded-lg p-4 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 font-medium",children:"Monthly Avg"}),r.jsx("p",{className:"text-xl font-bold text-green-900 dark:text-green-200",children:x(b)})]}),r.jsx(Fn,{className:"h-8 w-8 text-green-700 dark:text-green-300"})]})}),r.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-purple-300 dark:from-purple-900 dark:to-purple-700 rounded-lg p-4 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 font-medium",children:"Growth"}),r.jsxs("p",{className:"text-xl font-bold text-purple-900 dark:text-purple-200 flex items-center",children:[P>=0?r.jsx(Ic,{className:"h-4 w-4 mr-1"}):r.jsx(j0,{className:"h-4 w-4 mr-1"}),Math.abs(P).toFixed(1),"%"]})]}),r.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${P>=0?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"}`,children:P>=0?r.jsx(ay,{className:"h-4 w-4 text-green-700 dark:text-green-300"}):r.jsx(j0,{className:"h-4 w-4 text-red-700 dark:text-red-300"})})]})})]}),r.jsx("div",{className:"h-64 flex items-end space-x-1 bg-gradient-to-r from-blue-100 to-blue-300 dark:from-blue-900 dark:to-blue-700 rounded-lg p-4 shadow-sm",children:y.map((I,B)=>{const M=I.amount/k*100,V=o===B,q=B===w;return r.jsxs("div",{className:"flex-1 flex flex-col items-center relative group",children:[V&&r.jsxs("div",{className:"absolute bottom-full mb-2 bg-slate-800 dark:bg-slate-700 text-white text-xs rounded-lg px-3 py-2 shadow-lg z-10 whitespace-nowrap",children:[r.jsxs("div",{className:"font-medium",children:[h[B]," 2025"]}),r.jsxs("div",{children:["Revenue: ",x(I.amount)]}),r.jsxs("div",{children:["Orders: ",I.orders]}),r.jsxs("div",{children:["Growth: ",I.growth.toFixed(1),"%"]}),r.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-slate-800 dark:border-t-slate-700"})]}),r.jsx("div",{className:`w-full rounded-t-sm transition-all duration-300 cursor-pointer ${q?"bg-gradient-to-t from-blue-600 to-blue-400":V?"bg-gradient-to-t from-blue-500 to-blue-300":"bg-gradient-to-t from-blue-500 to-blue-400"} ${V?"shadow-lg transform scale-105":""}`,style:{height:`${Math.max(M,2)}%`},onMouseEnter:()=>i(B),onMouseLeave:()=>i(null),title:`${h[B]}: ${x(I.amount)}`}),r.jsx("div",{className:`text-xs mt-2 transition-colors duration-200 ${q?"text-blue-600 dark:text-blue-400 font-semibold":V?"text-slate-700 dark:text-slate-300":"text-slate-600 dark:text-slate-400"}`,children:h[B]}),q&&r.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"})})]},B)})}),r.jsxs("div",{className:"flex items-center justify-center mt-4 space-x-6 text-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded mr-2"}),r.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Monthly Revenue"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded mr-2"}),r.jsx("span",{className:"text-blue-900 dark:text-blue-200 font-semibold",children:"Current Month"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-amber-100 to-amber-300 dark:from-amber-900 dark:to-amber-700 rounded-lg shadow-sm p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ra,{className:"h-6 w-6 text-amber-700 dark:text-amber-300 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-amber-900 dark:text-amber-200",children:"Recent Inquiries"})]}),r.jsx(ce,{to:"/admin/project-requests",className:"text-sm text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-200",children:"View all"})]}),r.jsxs("div",{className:"space-y-4",children:[t.slice(0,3).map(I=>r.jsx(ej,{inquiry:I},I.id)),t.length===0&&r.jsx("div",{className:"text-center text-amber-600 dark:text-amber-300 py-4",children:"No inquiries yet"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:[r.jsx(Ri,{to:"/admin/projects",title:"Manage Projects",description:"Add, edit, or remove projects",icon:r.jsx(Ec,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),bgColor:"blue"}),r.jsx(Ri,{to:"/admin/project-requests",title:"Project Requests",description:"Review and manage project requests",icon:r.jsx(ra,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"}),bgColor:"amber"}),r.jsx(Ri,{to:"/admin/orders",title:"Manage Orders",description:"Track and fulfill project orders",icon:r.jsx(co,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),bgColor:"purple"})]})]})})},ej=({inquiry:e})=>r.jsxs("div",{className:"border-b border-slate-100 dark:border-slate-700 pb-4 last:border-0 last:pb-0",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("p",{className:"font-medium text-slate-900 dark:text-slate-200",children:e.name}),r.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(e.created_at||e.date||Date.now()).toLocaleDateString("en-IN")})]}),r.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[e.projectType," Project"]}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1 line-clamp-2",children:e.message})]}),Ri=({to:e,title:t,description:s,icon:a,bgColor:n})=>r.jsxs(ce,{to:e,className:`bg-gradient-to-r from-${n}-100 to-${n}-300 dark:from-${n}-900 dark:to-${n}-700 rounded-lg shadow-sm p-6 flex items-center hover:shadow-lg transition-shadow duration-200`,children:[r.jsx("div",{className:`p-3 bg-${n}-50 dark:bg-${n}-900 rounded-lg mr-4`,children:a}),r.jsxs("div",{children:[r.jsx("h3",{className:`font-semibold text-${n}-900 dark:text-${n}-200`,children:t}),r.jsx("p",{className:`text-sm text-${n}-700 dark:text-${n}-300`,children:s})]})]}),dn=e=>{const s=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];return e.size>10485760?{valid:!1,error:"File size must be less than 10MB"}:s.includes(e.type)?{valid:!0}:{valid:!1,error:"File type not supported. Please use PDF, DOC, PPT, or XLS files."}},Wc=async(e,t)=>{const s=dn(e);if(!s.valid)throw new Error(s.error);const a=Date.now(),n=Math.random().toString(36).substring(2,15),l=e.name.split(".").pop(),o=`${a}_${n}.${l}`,i=`${t}/${o}`;try{const{data:c,error:d}=await G.storage.from("project-documents").upload(i,e,{cacheControl:"3600",upsert:!1});if(d)throw console.error("Storage upload error:",d),new Error(`Upload failed: ${d.message}`);const{data:u}=G.storage.from("project-documents").getPublicUrl(i);return{url:u.publicUrl,path:i,size:e.size}}catch(c){throw console.error("File upload error:",c),c}},tj=async e=>{try{const{error:t}=await G.storage.from("project-documents").remove([e]);if(t)throw console.error("Storage delete error:",t),new Error(`Delete failed: ${t.message}`)}catch(t){throw console.error("File delete error:",t),t}},mo=e=>{if(e===0)return"0 Bytes";const t=1024,s=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(2))+" "+s[a]},rj=({project:e})=>{var O;const{getProjectDocuments:t,getDocumentsByReviewStage:s,addProjectDocument:a,updateProjectDocument:n,deleteProjectDocument:l}=rr(),[o,i]=g.useState(!1),[c,d]=g.useState(!1),[u,m]=g.useState("review_1"),[f,x]=g.useState(null),[v,y]=g.useState(null),[k,h]=g.useState([]),[p,b]=g.useState(!1),[w,P]=g.useState({name:"",url:"",type:"",size:0,review_stage:"review_1",document_category:"presentation",description:"",storage_path:""}),A=[{value:"review_1",label:"Review 1",description:"Initial project review and requirements"},{value:"review_2",label:"Review 2",description:"Mid-project review and progress assessment"},{value:"review_3",label:"Review 3",description:"Final review and project completion"}],L=[{value:"presentation",label:"Presentation (PPT)",icon:sn},{value:"document",label:"Document (Word/PDF)",icon:Me},{value:"report",label:"Report",icon:rn},{value:"other",label:"Other",icon:lo}],I=N=>{const C=L.find(U=>U.value===N);return C?C.icon:lo},B=N=>{const C=Array.from(N.target.files||[]);if(C.length===0)return;const U=C.map(W=>{const ee=dn(W);return{file:W,name:W.name,reviewStage:u,category:"document",description:"",status:ee.valid?"pending":"error",progress:0,error:ee.error}});h(W=>[...W,...U]),N.target.value=""},M=N=>{const C=Array.from(N.target.files||[]);if(C.length===0)return;const U=[];C.forEach((W,ee)=>{const ne=ee%3,pe=["review_1","review_2","review_3"][ne],te=dn(W);U.push({file:W,name:W.name,reviewStage:pe,category:"document",description:`Auto-assigned to ${pe.replace("_"," ")}`,status:te.valid?"pending":"error",progress:0,error:te.error})}),h(W=>[...W,...U]),N.target.value=""},V=(N,C)=>{h(U=>U.map((W,ee)=>ee===N?{...W,...C}:W))},q=N=>{h(C=>C.filter((U,W)=>W!==N))},me=async()=>{if(k.length===0)return;b(!0),x(null),y(null);let N=0,C=0;for(let U=0;U<k.length;U++){const W=k[U];if(W.status==="error"){C++;continue}try{V(U,{status:"uploading",progress:0});const ee=setInterval(()=>{V(U,{progress:pe=>Math.min(pe+Math.random()*20,90)})},200),ne=await Wc(W.file,`${e.id}/${W.reviewStage}`);clearInterval(ee),V(U,{progress:100}),await a({project_id:e.id,name:W.name,url:ne.url,type:W.file.type,size:ne.size,review_stage:W.reviewStage,document_category:W.category,description:W.description,is_active:!0}),V(U,{status:"success",url:ne.url}),N++}catch(ee){V(U,{status:"error",error:ee instanceof Error?ee.message:"Upload failed"}),C++}}b(!1),N>0&&y(`Successfully uploaded ${N} document(s)`),C>0&&x(`Failed to upload ${C} document(s)`),setTimeout(()=>{h(U=>U.filter(W=>W.status!=="success")),y(null)},3e3)},we=()=>{h([]),x(null),y(null)},Y=async N=>{var W;const C=(W=N.target.files)==null?void 0:W[0];if(!C)return;const U=dn(C);if(!U.valid){x(U.error||"Invalid file");return}x(null),y(null);try{const ee=await Wc(C,`${e.id}/${w.review_stage}`);P(ne=>({...ne,name:C.name,url:ee.url,type:C.type,size:ee.size,storage_path:ee.path})),y("File uploaded successfully!")}catch(ee){x(ee instanceof Error?ee.message:"Failed to upload file")}},$=async N=>{if(N.preventDefault(),!w.name||!w.url){x("Please provide a file name and URL");return}try{await a({project_id:e.id,name:w.name,url:w.url,type:w.type,size:w.size,review_stage:w.review_stage,document_category:w.document_category,description:w.description,is_active:!0}),P({name:"",url:"",type:"",size:0,review_stage:"review_1",document_category:"presentation",description:"",storage_path:""}),i(!1),x(null),y(null)}catch{x("Failed to add document")}},D=async N=>{if(window.confirm("Are you sure you want to delete this document?"))try{if(N.url.includes("supabase")){const C=N.url.match(/\/storage\/v1\/object\/public\/project-documents\/(.+)$/);C&&await tj(C[1])}await l(N.id)}catch(C){console.error("Error deleting document:",C),x("Failed to delete document")}},_=N=>{const C=s(e.id,N),U=A.find(W=>W.value===N);return r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-200",children:U==null?void 0:U.label}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:U==null?void 0:U.description})]}),r.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full text-sm",children:[C.length," documents"]})]}),C.length===0?r.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[r.jsx(Me,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No documents uploaded for this review stage"})]}):r.jsx("div",{className:"space-y-3",children:C.map(W=>{const ee=I(W.document_category);return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ee,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200",children:W.name}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-slate-400",children:[r.jsx("span",{children:mo(W.size)}),r.jsx("span",{children:""}),r.jsx("span",{className:"capitalize",children:W.document_category}),W.url.includes("supabase")&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Stored in Supabase"})]})]}),W.description&&r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:W.description})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("a",{href:W.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900 rounded-lg transition-colors",title:"Download document",children:r.jsx(js,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>D(W),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900 rounded-lg transition-colors",title:"Delete document",children:r.jsx(ha,{className:"h-4 w-4"})})]})]},W.id)})})]},N)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:"Project Documents"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Upload and manage documents for different review stages. Files are securely stored in Supabase."})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(v0,{className:"h-4 w-4 mr-2"}),"Bulk Upload"]}),r.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(sa,{className:"h-4 w-4 mr-2"}),"Add Document"]})]})]}),r.jsx("div",{className:"space-y-6",children:A.map(N=>_(N.value))}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:"Add Project Document"}),r.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:r.jsx(Qe,{className:"h-6 w-6"})})]})}),r.jsxs("form",{onSubmit:$,className:"p-6 space-y-6",children:[f&&r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-4 rounded-lg flex items-center",children:[r.jsx(Ve,{className:"h-5 w-5 mr-2"}),f]}),v&&r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300 p-4 rounded-lg flex items-center",children:[r.jsx(Ie,{className:"h-5 w-5 mr-2"}),v]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Upload File to Supabase Storage"}),r.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 text-center",children:[r.jsx(an,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("span",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Choose a file"}),r.jsx("input",{type:"file",className:"hidden",onChange:Y,accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx"})]}),r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"or drag and drop"}),r.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:"PDF, DOC, PPT, XLS files up to 10MB"})]})]})]}),r.jsx("div",{className:"text-center text-slate-500 dark:text-slate-400",children:r.jsx("span",{children:"OR"})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Document URL (External Link)"}),r.jsx("input",{type:"url",value:w.url,onChange:N=>P({...w,url:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"https://example.com/document.pdf"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Document Name"}),r.jsx("input",{type:"text",value:w.name,onChange:N=>P({...w,name:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter document name",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Review Stage"}),r.jsx("select",{value:w.review_stage,onChange:N=>P({...w,review_stage:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",children:A.map(N=>r.jsx("option",{value:N.value,children:N.label},N.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Document Category"}),r.jsx("select",{value:w.document_category,onChange:N=>P({...w,document_category:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",children:L.map(N=>r.jsx("option",{value:N.value,children:N.label},N.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Optional)"}),r.jsx("textarea",{value:w.description,onChange:N=>P({...w,description:N.target.value}),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Brief description of the document"})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-slate-300 dark:border-slate-700 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:!w.name||!w.url,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Document"})]})]})]})}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:[r.jsx(v0,{className:"h-5 w-5 inline mr-2"}),"Bulk Document Upload"]}),r.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:r.jsx(Qe,{className:"h-6 w-6"})})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[f&&r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-4 rounded-lg flex items-center",children:[r.jsx(Ve,{className:"h-5 w-5 mr-2"}),f]}),v&&r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300 p-4 rounded-lg flex items-center",children:[r.jsx(Ie,{className:"h-5 w-5 mr-2"}),v]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-6",children:[r.jsxs("h4",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-4",children:[r.jsx(my,{className:"h-5 w-5 inline mr-2"}),"Upload to Specific Review Stage"]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Select Review Stage"}),r.jsx("select",{value:u,onChange:N=>m(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",children:A.map(N=>r.jsx("option",{value:N.value,children:N.label},N.value))})]}),r.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 text-center",children:[r.jsx(an,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("span",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium",children:"Choose multiple files"}),r.jsx("input",{type:"file",className:"hidden",onChange:B,accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx",multiple:!0})]}),r.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:["Select multiple files for ",(O=A.find(N=>N.value===u))==null?void 0:O.label]})]})]}),r.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-6",children:[r.jsxs("h4",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-4",children:[r.jsx(N0,{className:"h-5 w-5 inline mr-2"}),"Auto-Distribute Across All Stages"]}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Files will be automatically distributed across Review 1, 2, and 3 in sequence."}),r.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 text-center",children:[r.jsx(N0,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("span",{className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 font-medium",children:"Choose files for all stages"}),r.jsx("input",{type:"file",className:"hidden",onChange:M,accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx",multiple:!0})]}),r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Files will be distributed automatically"})]})]})]}),k.length>0&&r.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h4",{className:"text-lg font-medium text-slate-900 dark:text-slate-200",children:["Upload Queue (",k.length," files)"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:me,disabled:p||k.every(N=>N.status==="error"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:p?r.jsxs(r.Fragment,{children:[r.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"h-4 w-4 mr-2"}),"Upload All"]})}),r.jsx("button",{onClick:we,disabled:p,className:"px-4 py-2 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700",children:"Clear All"})]})]}),r.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:k.map((N,C)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[r.jsx(Me,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"font-medium text-slate-900 dark:text-slate-200 truncate",children:N.name}),r.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:N.reviewStage.replace("_"," ")})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-slate-400",children:[r.jsx("span",{children:mo(N.file.size)}),r.jsx("span",{children:""}),r.jsx("span",{className:"capitalize",children:N.category})]}),N.status==="uploading"&&r.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2 mt-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${N.progress}%`}})}),N.status==="error"&&N.error&&r.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:N.error})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[N.status==="pending"&&r.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),N.status==="uploading"&&r.jsx(lt,{className:"h-4 w-4 text-blue-600 animate-spin"}),N.status==="success"&&r.jsx(Ie,{className:"h-4 w-4 text-green-600"}),N.status==="error"&&r.jsx(Ve,{className:"h-4 w-4 text-red-600"}),r.jsx("button",{onClick:()=>q(C),disabled:p,className:"p-1 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900 rounded",children:r.jsx(Qe,{className:"h-4 w-4"})})]})]},C))})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700",children:"Close"})})]})]})})]})},sj=()=>{const{projects:e,addProject:t,updateProject:s,deleteProject:a,getProjectDocuments:n,getDocumentsByReviewStage:l}=rr(),[o,i]=g.useState(!1),[c,d]=g.useState(!1),[u,m]=g.useState(!1),[f,x]=g.useState(!1),[v,y]=g.useState(!1),[k,h]=g.useState(null),[p,b]=g.useState(null),[w,P]=g.useState("title"),[A,L]=g.useState("asc"),[I,B]=g.useState(""),[M,V]=g.useState(null),[q,me]=g.useState(!1),[we,Y]=g.useState(null),[$,D]=g.useState({title:"",description:"",category:"IoT",price:0,image:"",imageUpload:null,features:[],technical_details:"",featured:!1,is_active:!0,updated_at:new Date().toISOString()}),_=["All","IoT","Blockchain","Web","Mobile","Other"],O=_.filter(R=>R!=="All").map(R=>({category:R,count:e.filter(K=>K.category===R).length})),N=e.length,C=e.filter(R=>R.is_active).length,U=e.filter(R=>R.featured).length,W=e.filter(R=>!R.is_active).length,ee=e.filter(R=>{const K=R.title.toLowerCase().includes(I.toLowerCase())||R.description.toLowerCase().includes(I.toLowerCase()),se=!M||M==="All"||R.category===M;return K&&se}).sort((R,K)=>{const se=R[w],Ce=K[w];return typeof se=="string"&&typeof Ce=="string"?A==="asc"?se.localeCompare(Ce):Ce.localeCompare(se):typeof se=="number"&&typeof Ce=="number"?A==="asc"?se-Ce:Ce-se:typeof se=="boolean"&&typeof Ce=="boolean"?A==="asc"?(se?1:0)-(Ce?1:0):(Ce?1:0)-(se?1:0):0}),ne=R=>{V(R==="All"?null:R),me(!1)},pe=R=>{R===w?L(A==="asc"?"desc":"asc"):(P(R),L("asc"))},te=R=>n(R).length,ke=R=>[{value:"review_1",label:"Review 1",description:"Initial project review",icon:Me,color:"blue"},{value:"review_2",label:"Review 2",description:"Mid-project assessment",icon:sn,color:"purple"},{value:"review_3",label:"Review 3",description:"Final review & completion",icon:rn,color:"green"}].map(se=>({...se,count:l(R,se.value).length})),$e=R=>{h(R),y(!0)},ie=()=>{D({title:"",description:"",category:"IoT",price:0,image:"",imageUpload:null,features:[""],technical_details:"",featured:!1,is_active:!0,updated_at:new Date().toISOString()}),i(!0)},le=R=>{b(R),D({title:R.title,description:R.description,category:R.category,price:R.price,image:R.image,imageUpload:R.imageUpload,features:[...R.features],technical_details:R.technical_details||"",featured:R.featured||!1,is_active:typeof R.is_active=="boolean"?R.is_active:!0,updated_at:new Date().toISOString()}),d(!0)},Je=R=>{b(R),m(!0)},he=R=>{b(R),x(!0)},T=R=>{const{name:K,value:se,type:Ce}=R.target;if(Ce==="checkbox"){const ze=R.target;D({...$,[K]:ze.checked})}else if(Ce==="file"){const ze=R.target;ze.files&&ze.files[0]&&D({...$,imageUpload:ze.files[0]})}else D({...$,[K]:se})},z=(R,K)=>{const se=[...$.features];se[R]=K,D({...$,features:se})},X=()=>{D({...$,features:[...$.features,""]})},S=R=>{const K=[...$.features];K.splice(R,1),D({...$,features:K})},Z=R=>{R.preventDefault();const K=$.features.filter(se=>se.trim()!=="");t({...$,features:K,updated_at:new Date().toISOString()}),i(!1)},re=R=>{if(R.preventDefault(),!p)return;const K=$.features.filter(se=>se.trim()!=="");s(p.id,{...$,features:K,updated_at:new Date().toISOString()}),d(!1)},ve=()=>{p&&(a(p.id),m(!1))};return r.jsxs(tr,{children:[r.jsxs("div",{className:"px-4 sm:px-6 py-8 dark:bg-gray-900 min-h-screen",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manage Projects"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add, edit, or remove projects from your portfolio."})]}),r.jsxs("button",{onClick:ie,className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 dark:bg-blue-700 dark:hover:bg-blue-800",children:[r.jsx(sa,{className:"h-5 w-5 mr-2"}),"Add New Project"]})]}),r.jsxs("div",{className:"flex flex-row gap-4 overflow-x-auto mb-8 pb-2 hide-scrollbar",children:[r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg shadow-sm px-6 py-4 flex flex-col items-center min-w-[140px]",children:[r.jsx("span",{className:"text-xs font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Total Projects"}),r.jsx("span",{className:"text-xl font-bold text-blue-700 dark:text-blue-300",children:N})]}),r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700 rounded-lg shadow-sm px-6 py-4 flex flex-col items-center min-w-[140px]",children:[r.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300 mb-1",children:"Active Projects"}),r.jsx("span",{className:"text-xl font-bold text-green-700 dark:text-green-300",children:C})]}),r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded-lg shadow-sm px-6 py-4 flex flex-col items-center min-w-[140px]",children:[r.jsx("span",{className:"text-xs font-medium text-yellow-700 dark:text-yellow-300 mb-1",children:"Featured Projects"}),r.jsx("span",{className:"text-xl font-bold text-yellow-700 dark:text-yellow-300",children:U})]}),r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg shadow-sm px-6 py-4 flex flex-col items-center min-w-[140px]",children:[r.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-300 mb-1",children:"Inactive Projects"}),r.jsx("span",{className:"text-xl font-bold text-red-700 dark:text-red-300",children:W})]}),O.map(R=>{let K="";switch(R.category){case"IoT":K="bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-700 text-green-800 dark:text-green-300";break;case"Blockchain":K="bg-purple-100 dark:bg-purple-900/30 border border-purple-200 dark:border-purple-700 text-purple-800 dark:text-purple-300";break;case"Web":K="bg-blue-100 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 text-blue-800 dark:text-blue-300";break;case"Mobile":K="bg-pink-100 dark:bg-pink-900/30 border border-pink-200 dark:border-pink-700 text-pink-800 dark:text-pink-300";break;case"Other":K="bg-gray-100 dark:bg-gray-900/30 border border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-300";break;default:K="bg-slate-100 dark:bg-slate-900/30 border border-slate-200 dark:border-slate-700 text-slate-800 dark:text-slate-300"}return r.jsxs("div",{className:`rounded-lg shadow-sm px-6 py-4 flex flex-col items-center min-w-[140px] ${K}`,children:[r.jsx("span",{className:"text-xs font-medium mb-1",children:R.category}),r.jsx("span",{className:"text-xl font-bold",children:R.count})]},R.category)})]}),r.jsx("div",{className:"mb-6 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm dark:shadow-gray-700",children:r.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:r.jsxs("div",{className:"flex flex-row gap-4 w-full justify-between items-center",children:[r.jsx("div",{className:"flex-grow min-w-0",children:r.jsx("input",{type:"text",id:"project-search",name:"project-search",placeholder:"Search projects...",value:I,onChange:R=>B(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400"})}),r.jsxs("div",{className:"relative flex-shrink-0 min-w-[170px] max-w-[320px] ml-4",children:[r.jsxs("button",{type:"button",className:"px-4 py-2 border border-slate-300 dark:border-slate-700 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-200 w-full flex items-center justify-between gap-2 focus:ring-2 focus:ring-blue-500 transition-colors duration-200 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>me(R=>!R),"aria-haspopup":"listbox","aria-expanded":q?"true":"false",id:"categoryFilterDropdown",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(wa,{className:"h-5 w-5 text-slate-400"}),r.jsx("span",{className:!M||M==="All"||["IoT","Blockchain","Web","Mobile","Other"].includes(M)?"text-blue-600 font-bold":"",children:!M||M==="All"?"All Categories":M})]}),r.jsx(Ne,{className:"h-4 w-4 text-slate-400"})]}),q&&r.jsx("ul",{className:"absolute left-0 mt-2 w-full z-10 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-700 rounded-md shadow-lg py-1",role:"listbox","aria-labelledby":"categoryFilterDropdown",tabIndex:-1,children:_.map(R=>{const K=!M&&R==="All"||M===R;return r.jsx("li",{role:"option","aria-selected":K?"true":"false",tabIndex:0,onClick:()=>ne(R),onKeyDown:se=>{(se.key==="Enter"||se.key===" ")&&ne(R)},className:"cursor-pointer px-8 py-2 flex items-center transition-colors duration-150 "+(K?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 font-bold":"hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600"),children:R==="All"?"All Categories":R},R)})})]})]})})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm dark:shadow-gray-700 overflow-hidden mb-8",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>pe("title"),children:r.jsxs("div",{className:"flex items-center",children:["Project Title",w==="title"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 ${A==="desc"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>pe("category"),children:r.jsxs("div",{className:"flex items-center",children:["Category",w==="category"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 ${A==="desc"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",onClick:()=>pe("price"),children:r.jsxs("div",{className:"flex items-center",children:["Price",w==="price"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 ${A==="desc"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Me,{className:"h-4 w-4 mr-1"}),"Documents"]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:r.jsx("div",{className:"flex items-center",children:"Status"})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:ee.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"No projects found"})}):ee.map(R=>{const K=te(R.id);return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:r.jsx("img",{className:"h-10 w-10 rounded-md object-cover",src:R.imageUpload?URL.createObjectURL(R.imageUpload):R.image,alt:R.title})}),r.jsx("div",{className:"ml-4",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white cursor-pointer",style:we===R.id?{whiteSpace:"normal",overflow:"visible",display:"block"}:{display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",whiteSpace:"normal",textOverflow:"ellipsis",maxWidth:"180px",cursor:"pointer"},title:we===R.id?"Click to collapse":"Click to expand",onClick:()=>Y(we===R.id?null:R.id),children:R.title})})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R.category.toLowerCase()==="iot"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":R.category.toLowerCase()==="blockchain"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:R.category})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:["",R.price.toLocaleString("en-IN")]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex items-center",children:r.jsxs("button",{onClick:()=>$e(R),className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium transition-colors hover:shadow-md ${K>0?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 hover:bg-green-200 dark:hover:bg-green-800":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:"Click to see document breakdown by review stage",children:[r.jsx(Me,{className:"h-3 w-3 mr-1"}),K," ",K===1?"doc":"docs",r.jsx(Pc,{className:"h-3 w-3 ml-1 opacity-60"})]})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:R.is_active===!1?r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Inactive"}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 mr-2",children:"Active"}),R.featured===!0&&r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Featured"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>he(R),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 p-1",title:"Manage Documents",children:r.jsx(Me,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>s(R.id,{featured:!R.featured}),className:`p-1 ${R.featured?"text-yellow-500 hover:text-yellow-600 dark:text-yellow-400 dark:hover:text-yellow-300":"text-gray-400 hover:text-yellow-500 dark:text-gray-500 dark:hover:text-yellow-400"}`,title:R.featured?"Unmark as Featured":"Mark as Featured",children:R.featured?r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 17.75l-6.172 3.245 1.179-6.881-5-4.868 6.9-1.002L12 2.25l3.093 6.994 6.9 1.002-5 4.868 1.179 6.881z"})}):r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 17.75l-6.172 3.245 1.179-6.881-5-4.868 6.9-1.002L12 2.25l3.093 6.994 6.9 1.002-5 4.868 1.179 6.881z"})})}),r.jsx("button",{onClick:()=>s(R.id,{is_active:!R.is_active}),className:`p-1 ${R.is_active?"text-green-500 hover:text-green-600 dark:text-green-400 dark:hover:text-green-300":"text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300"}`,title:R.is_active?"Mark as Inactive":"Mark as Active",children:R.is_active?r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M8 12l2 2 4-4",stroke:"#fff",strokeWidth:"2",fill:"none"})]}):r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12",stroke:"#fff",strokeWidth:"2"})]})}),r.jsx("button",{onClick:()=>le(R),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 p-1",children:r.jsx(_f,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>Je(R),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 p-1",children:r.jsx(ha,{className:"h-4 w-4"})}),r.jsxs("div",{className:"relative group",children:[r.jsx("button",{className:"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300 p-1",children:r.jsx(by,{className:"h-4 w-4"})}),r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-md shadow-lg py-1 z-10 hidden group-hover:block",children:[r.jsx(ce,{to:`/projects/${R.id}`,target:"_blank",rel:"noopener noreferrer",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",children:"View Project"}),r.jsx("button",{onClick:()=>s(R.id,{featured:!R.featured}),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",children:R.featured?"Remove from Featured":"Mark as Featured"})]})]})]})})]},R.id)})})]})})})]}),v&&k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Tn,{className:"h-6 w-6 text-blue-600 dark:text-blue-400 mr-3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Document Breakdown"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:k.title})]})]}),r.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Qe,{className:"h-6 w-6"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"space-y-4",children:ke(k.id).map(R=>{const K=R.icon,se={blue:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-300",purple:"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800 text-purple-800 dark:text-purple-300",green:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-300"},Ce={blue:"text-blue-600 dark:text-blue-400",purple:"text-purple-600 dark:text-purple-400",green:"text-green-600 dark:text-green-400"};return r.jsx("div",{className:`border rounded-lg p-4 ${se[R.color]}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(K,{className:`h-6 w-6 mr-3 ${Ce[R.color]}`}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:R.label}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:R.description})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${R.count>0?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:[R.count," ",R.count===1?"document":"documents"]}),R.count>0?r.jsx("div",{className:"flex items-center text-green-600 dark:text-green-400",children:r.jsx(ly,{className:"h-4 w-4"})}):r.jsx("div",{className:"flex items-center text-gray-400",children:r.jsx(Qe,{className:"h-4 w-4"})})]})]})},R.value)})}),r.jsxs("div",{className:"mt-6 bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pc,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 mr-2"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Total Documents"})]}),r.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:te(k.id)})]}),r.jsx("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:te(k.id)>0?"Ready for customer delivery after purchase":'No documents available - customers will receive "coming soon" notification'})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsxs("button",{onClick:()=>{y(!1),he(k)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[r.jsx(Me,{className:"h-4 w-4 mr-2"}),"Manage Documents"]}),r.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Close"})]})]})]})}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add New Project"}),r.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Qe,{className:"h-6 w-6"})})]})}),r.jsxs("form",{onSubmit:Z,className:"p-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"project-title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Title"}),r.jsx("input",{type:"text",id:"project-title",name:"title",value:$.title,onChange:T,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"project-category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),r.jsxs("select",{id:"project-category",name:"category",value:$.category,onChange:T,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0,children:[r.jsx("option",{value:"IoT",children:"IoT"}),r.jsx("option",{value:"Blockchain",children:"Blockchain"}),r.jsx("option",{value:"Web",children:"Web Development"}),r.jsx("option",{value:"Mobile",children:"Mobile App"}),r.jsx("option",{value:"Other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"project-description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),r.jsx("textarea",{id:"project-description",name:"description",value:$.description,onChange:T,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"project-price",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price ()"}),r.jsx("input",{type:"number",id:"project-price",name:"price",value:$.price,onChange:T,min:"0",step:"1",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"project-image",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Image"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"url",id:"project-image-url",name:"image",value:$.image,onChange:T,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Image URL"}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"or"}),r.jsx("input",{type:"file",id:"project-image-upload",name:"imageUpload",onChange:T,accept:"image/*",className:"w-full text-gray-700 dark:text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-gray-600 dark:file:text-white dark:hover:file:bg-gray-500"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Features"}),$.features.map((R,K)=>r.jsxs("div",{className:"flex mb-2",children:[r.jsx("input",{type:"text",id:`project-feature-${K}`,name:`feature-${K}`,value:R,onChange:se=>z(K,se.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:`Feature ${K+1}`}),r.jsx("button",{type:"button",onClick:()=>S(K),className:"ml-2 flex items-center justify-center h-10 w-10 rounded-md bg-red-50 text-red-500 hover:bg-red-100 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/40",children:r.jsx(Qe,{className:"h-4 w-4"})})]},K)),r.jsxs("button",{type:"button",onClick:X,className:"inline-flex items-center px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",children:[r.jsx(sa,{className:"h-4 w-4 mr-1"}),"Add Feature"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"project-technical-details",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Technical Details"}),r.jsx("textarea",{id:"project-technical-details",name:"technical_details",value:$.technical_details,onChange:T,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Technologies used, implementation details, etc."})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"project-featured",name:"featured",checked:$.featured,onChange:R=>T(R),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600"}),r.jsx("label",{htmlFor:"project-featured",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Mark as featured project"})]})]}),r.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-white bg-white hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800",children:"Add Project"})]})]})]})}),c&&p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Project"}),r.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Qe,{className:"h-6 w-6"})})]})}),r.jsxs("form",{onSubmit:re,className:"p-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"edit-project-title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Title"}),r.jsx("input",{type:"text",id:"edit-project-title",name:"title",value:$.title,onChange:T,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"edit-project-category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),r.jsxs("select",{id:"edit-project-category",name:"category",value:$.category,onChange:T,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0,children:[r.jsx("option",{value:"IoT",children:"IoT"}),r.jsx("option",{value:"Blockchain",children:"Blockchain"}),r.jsx("option",{value:"Web",children:"Web Development"}),r.jsx("option",{value:"Mobile",children:"Mobile App"}),r.jsx("option",{value:"Other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"edit-project-description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),r.jsx("textarea",{id:"edit-project-description",name:"description",value:$.description,onChange:T,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"edit-project-price",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price ()"}),r.jsx("input",{type:"number",id:"edit-project-price",name:"price",value:$.price,onChange:T,min:"0",step:"1",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"edit-project-image",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Image"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"url",id:"edit-project-image-url",name:"image",value:$.image,onChange:T,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Image URL"}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"or"}),r.jsx("input",{type:"file",id:"edit-project-image-upload",name:"imageUpload",onChange:T,accept:"image/*",className:"w-full text-gray-700 dark:text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-gray-600 dark:file:text-white dark:hover:file:bg-gray-500"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Features"}),$.features.map((R,K)=>r.jsxs("div",{className:"flex mb-2",children:[r.jsx("input",{type:"text",id:`edit-project-feature-${K}`,name:`feature-${K}`,value:R,onChange:se=>z(K,se.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:`Feature ${K+1}`}),r.jsx("button",{type:"button",onClick:()=>S(K),className:"ml-2 flex items-center justify-center h-10 w-10 rounded-md bg-red-50 text-red-500 hover:bg-red-100 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/40",children:r.jsx(Qe,{className:"h-4 w-4"})})]},K)),r.jsxs("button",{type:"button",onClick:X,className:"inline-flex items-center px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",children:[r.jsx(sa,{className:"h-4 w-4 mr-1"}),"Add Feature"]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"edit-project-technical-details",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Technical Details"}),r.jsx("textarea",{id:"edit-project-technical-details",name:"technical_details",value:$.technical_details,onChange:T,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Technologies used, implementation details, etc."})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"edit-project-featured",name:"featured",checked:$.featured,onChange:R=>T(R),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600"}),r.jsx("label",{htmlFor:"edit-project-featured",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Mark as featured project"})]})]}),r.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-white bg-white hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800",children:"Save Changes"})]})]})]})}),u&&p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[r.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-full mb-4",children:r.jsx(ha,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:"Delete Project"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:['Are you sure you want to delete "',p.title,'"? This action cannot be undone.']})]}),r.jsxs("div",{className:"flex justify-center space-x-3",children:[r.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-white bg-white hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Cancel"}),r.jsx("button",{onClick:ve,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800",children:"Delete"})]})]})}),f&&p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Documents - ",p.title]}),r.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Qe,{className:"h-6 w-6"})})]})}),r.jsx("div",{className:"p-6",children:r.jsx(rj,{project:p})})]})})]})},aj=()=>{var Vn,Wn;const{projectRequests:e,updateProjectRequestStatus:t,convertRequestToProject:s,getRequestStatusHistory:a,deleteProjectRequest:n,addProject:l,fetchProjectRequests:o}=rr(),[i,c]=g.useState(!1),d=async()=>{c(!0);try{await new Promise(j=>setTimeout(j,500))}catch(j){console.error("Error refreshing data:",j)}finally{c(!1)}},{user:u}=Nr(),[m,f]=g.useState(""),[x,v]=g.useState(null),[y,k]=g.useState(null),[h,p]=g.useState(null),[b,w]=g.useState(!1),[P,A]=g.useState(!1),[L,I]=g.useState(!1),[B,M]=g.useState([]),[V,q]=g.useState(!1),[me,we]=g.useState(!1),[Y,$]=g.useState(""),[D,_]=g.useState([]),[O,N]=g.useState(!1),[C,U]=g.useState("acknowledgment"),[W,ee]=g.useState(""),[ne,pe]=g.useState(!1),[te,ke]=g.useState(!1),[$e,ie]=g.useState(!1),[le,Je]=g.useState(null),[he,T]=g.useState({title:"",description:"",category:"IoT",price:0,image:"https://images.pexels.com/photos/3183153/pexels-photo-3183153.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",imageUpload:null,features:[""],technical_details:"",featured:!1,updated_at:new Date().toISOString()}),z=e.filter(j=>{const Q=j.customer_name.toLowerCase().includes(m.toLowerCase())||j.customer_email.toLowerCase().includes(m.toLowerCase())||j.project_title.toLowerCase().includes(m.toLowerCase())||j.project_type.toLowerCase().includes(m.toLowerCase()),oe=x?j.status===x:!0,We=y?j.priority===y:!0;return Q&&oe&&We}),X=j=>{let Q="ascending";le&&le.key===j&&le.direction==="ascending"&&(Q="descending"),Je({key:j,direction:Q})},Z=le?[...z].sort((j,Q)=>{var Sr,ht,Be,Pa;let oe,We;if(le.key==="date")oe=new Date(j.created_at||0).getTime(),We=new Date(Q.created_at||0).getTime();else if(le.key==="customer")oe=((Sr=j.customer_name)==null?void 0:Sr.toLowerCase())||"",We=((ht=Q.customer_name)==null?void 0:ht.toLowerCase())||"";else if(le.key==="project")oe=((Be=j.project_title)==null?void 0:Be.toLowerCase())||"",We=((Pa=Q.project_title)==null?void 0:Pa.toLowerCase())||"";else if(le.key==="priority"){const sr=["low","medium","high","urgent"];oe=sr.indexOf(j.priority||""),We=sr.indexOf(Q.priority||"")}else if(le.key==="status"){const sr=["pending","reviewing","approved","rejected","converted"];oe=sr.indexOf(j.status||""),We=sr.indexOf(Q.status||"")}return oe<We?le.direction==="ascending"?-1:1:oe>We?le.direction==="ascending"?1:-1:0}):z,re={total:e.length,pending:e.filter(j=>j.status==="pending").length,reviewing:e.filter(j=>j.status==="reviewing").length,approved:e.filter(j=>j.status==="approved").length,rejected:e.filter(j=>j.status==="rejected").length,converted:e.filter(j=>j.status==="converted").length,thisMonth:e.filter(j=>{const Q=new Date(j.created_at),oe=new Date;return Q.getMonth()===oe.getMonth()&&Q.getFullYear()===oe.getFullYear()}).length},ve=[{value:"pending",label:"Pending",color:"yellow"},{value:"reviewing",label:"Reviewing",color:"blue"},{value:"approved",label:"Approved",color:"green"},{value:"rejected",label:"Rejected",color:"red"},{value:"converted",label:"Converted",color:"purple"}],R=[{value:"low",label:"Low",color:"gray"},{value:"medium",label:"Medium",color:"blue"},{value:"high",label:"High",color:"orange"},{value:"urgent",label:"Urgent",color:"red"}],K=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),se=j=>{const Q=ve.find(We=>We.value===j);if(!Q)return{bg:"bg-gray-100",text:"text-gray-800",icon:Ve};const oe={yellow:{bg:"bg-yellow-100 dark:bg-yellow-900",text:"text-yellow-800 dark:text-yellow-300",icon:Yr},blue:{bg:"bg-blue-100 dark:bg-blue-900",text:"text-blue-800 dark:text-blue-300",icon:it},green:{bg:"bg-green-100 dark:bg-green-900",text:"text-green-800 dark:text-green-300",icon:Ie},red:{bg:"bg-red-100 dark:bg-red-900",text:"text-red-800 dark:text-red-300",icon:Dt},purple:{bg:"bg-purple-100 dark:bg-purple-900",text:"text-purple-800 dark:text-purple-300",icon:xs}};return oe[Q.color]||oe.blue},Ce=j=>{const Q=R.find(We=>We.value===j);if(!Q)return{bg:"bg-gray-100",text:"text-gray-800"};const oe={gray:{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-800 dark:text-gray-300"},blue:{bg:"bg-blue-100 dark:bg-blue-900",text:"text-blue-800 dark:text-blue-300"},orange:{bg:"bg-orange-100 dark:bg-orange-900",text:"text-orange-800 dark:text-orange-300"},red:{bg:"bg-red-100 dark:bg-red-900",text:"text-red-800 dark:text-red-300"}};return oe[Q.color]||oe.blue},ze=j=>{switch(j.toLowerCase()){case"iot":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"blockchain":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"web":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"mobile":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},rt=j=>{D.includes(j)?_(D.filter(Q=>Q!==j)):_([...D,j])},_r=()=>{D.length===z.length?_([]):_(z.map(j=>j.id))},_a=()=>{if(D.length===0)return;const j=e.filter(Be=>D.includes(Be.id));let Q=`Customer Name,Email,Phone,Project Title,Project Type,Budget Range,Priority,Status,Description,Requirements,Timeline,Created Date,Updated Date
`;j.forEach(Be=>{var E,ae,ge,je;const Pa=K(Be.created_at),sr=K(Be.updated_at),Ea=`"${((E=Be.description)==null?void 0:E.replace(/"/g,'""'))||""}"`,Go=`"${((ae=Be.requirements)==null?void 0:ae.replace(/"/g,'""'))||""}"`,Jo=`"${((ge=Be.customer_name)==null?void 0:ge.replace(/"/g,'""'))||""}"`,Qo=`"${((je=Be.project_title)==null?void 0:je.replace(/"/g,'""'))||""}"`;Q+=`${Jo},${Be.customer_email||""},${Be.customer_phone||""},${Qo},${Be.project_type||""},${Be.budget_range||""},${Be.priority||""},${Be.status||""},${Ea},${Go},${Be.timeline||""},${Pa},${sr}
`});const oe="\uFEFF",We=new Blob([oe+Q],{type:"text/csv;charset=utf-8"}),Sr=URL.createObjectURL(We),ht=document.createElement("a");ht.href=Sr,ht.download=`project-requests-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(ht),ht.click(),document.body.removeChild(ht)},Sa=()=>{if(D.length===0)return;const Q=e.filter(oe=>D.includes(oe.id)).map(oe=>oe.customer_email).join(",");window.open(`mailto:${Q}`)},Mt=(j,Q)=>{switch(p(j),U(Q),N(!0),Q){case"acknowledgment":ee(`Dear ${j.customer_name},

Thank you for submitting your project request for "${j.project_title}".

 Request Details:
 Project: ${j.project_title}
 Type: ${j.project_type}
 Budget Range: ${j.budget_range}
 Priority: ${j.priority.charAt(0).toUpperCase()+j.priority.slice(1)}
 Submitted: ${new Date(j.created_at).toLocaleDateString()}

 What's Next:
 Review Time: 24-48 hours
 Technical Assessment: Our team will evaluate your requirements
 Quote Preparation: We'll prepare a detailed proposal
 Response: You'll receive our proposal within 2-3 business days

 Our Process:
1. Technical feasibility analysis
2. Resource allocation planning
3. Timeline estimation
4. Detailed quote preparation
5. Project proposal delivery

We're excited about the possibility of working on your project and will be in touch soon with our detailed proposal.

Best regards,
TechCreator Development Team`);break;case"quote":ee(`Dear ${j.customer_name},

Thank you for your interest in "${j.project_title}". We've completed our technical assessment and are pleased to provide you with our project proposal.

 Project Analysis:
 Project Type: ${j.project_type}
 Complexity: Based on your requirements
 Estimated Timeline: ${j.estimated_timeline||"To be determined"}
 Proposed Budget: ${j.estimated_price?`${j.estimated_price.toLocaleString()}`:"Custom quote attached"}

 What's Included:
 Complete source code and documentation
 3-stage review process with deliverables
 Technical specifications and architecture
 Installation and deployment guides
 Post-delivery support and maintenance
 Quality assurance and testing

 Next Steps:
1. Review the attached detailed proposal
2. Schedule a consultation call if needed
3. Confirm project scope and timeline
4. Sign the project agreement
5. Begin development with 30% advance payment

 Why Choose TechCreator:
 Proven expertise in ${j.project_type} development
 Transparent communication throughout the project
 Quality deliverables with comprehensive documentation
 Ongoing support and maintenance options

We're confident this solution will meet your needs perfectly. Please let us know if you have any questions or would like to discuss the proposal further.

Best regards,
TechCreator Development Team`);break;case"approval":ee(`Dear ${j.customer_name},

Excellent news! Your project request for "${j.project_title}" has been approved and we're ready to begin development.

 Project Approved:
 Project: ${j.project_title}
 Approved Budget: ${j.estimated_price?`${j.estimated_price.toLocaleString()}`:"As quoted"}
 Estimated Timeline: ${j.estimated_timeline||"4-6 weeks"}
 Start Date: Within 3 business days
 Project Manager: ${j.assigned_to||"To be assigned"}

 Development Process:
 Phase 1: Requirements analysis and architecture design
 Phase 2: Core development and initial review
 Phase 3: Feature completion and testing
 Phase 4: Final review and deployment preparation
 Phase 5: Delivery and documentation handover

 Timeline & Milestones:
 Week 1-2: Architecture and setup
 Week 3-4: Core development
 Week 5-6: Testing and refinement
 Week 7: Final delivery and documentation

 Payment Schedule:
 30% advance payment to begin development
 40% payment after Phase 2 completion
 30% final payment upon project delivery

 Next Steps:
1. Review and sign the project agreement (attached)
2. Process the advance payment
3. Join our project communication channel
4. Attend the project kickoff meeting
5. Begin development immediately

We're thrilled to work on your project and deliver an exceptional solution that exceeds your expectations!

Best regards,
TechCreator Development Team`);break;case"rejection":ee(`Dear ${j.customer_name},

Thank you for submitting your project request for "${j.project_title}". After careful consideration, we regret to inform you that we cannot proceed with this project at this time.

 Request Details:
 Project: ${j.project_title}
 Type: ${j.project_type}
 Submitted: ${new Date(j.created_at).toLocaleDateString()}

 Reason for Decline:
Unfortunately, this project falls outside our current expertise area or capacity. We want to ensure we only take on projects where we can deliver exceptional results.

 Alternative Suggestions:
 Consider simplifying the project scope for future consideration
 We may be able to help with specific components of your project
 We'd be happy to recommend other developers who specialize in this area
 Feel free to reach out for future projects that align with our expertise

 Future Opportunities:
While we cannot proceed with this specific request, we'd love to work with you on future projects that better match our capabilities in:
 IoT Solutions and Smart Device Development
 Blockchain and Cryptocurrency Applications
 Web Applications and E-commerce Platforms
 Mobile App Development
 Custom Software Solutions

Thank you for considering TechCreator for your development needs. We appreciate your understanding and hope to collaborate on a future project.

Best regards,
TechCreator Development Team`);break}},ns=async()=>{if(!(!h||!W.trim())){pe(!0);try{const{sendBrevoEmail:j}=await er(async()=>{const{sendBrevoEmail:Be}=await Promise.resolve().then(()=>op);return{sendBrevoEmail:Be}},void 0),oe=(()=>{switch(C){case"acknowledgment":return{subject:` Project Request Received - ${h.project_title}`,headerColor:"#3b82f6, #1d4ed8",headerTitle:" Project Request Received",headerSubtitle:"We're reviewing your project requirements"};case"quote":return{subject:` Project Proposal - ${h.project_title}`,headerColor:"#7c3aed, #5b21b6",headerTitle:" Project Proposal Ready",headerSubtitle:"Your custom development quote is attached"};case"approval":return{subject:` Project Approved - ${h.project_title}`,headerColor:"#10b981, #059669",headerTitle:" Project Approved!",headerSubtitle:"We're ready to begin development"};case"rejection":return{subject:` Project Update - ${h.project_title}`,headerColor:"#ef4444, #dc2626",headerTitle:" Project Status Update",headerSubtitle:"Regarding your project request"};default:return{subject:` Project Update - ${h.project_title}`,headerColor:"#3b82f6, #1d4ed8",headerTitle:" Project Update",headerSubtitle:"Update regarding your project request"}}})(),We={sender:{name:"TechCreator Development Team",email:"mohanselenophile@gmail.com"},to:[{email:h.customer_email,name:h.customer_name}],subject:oe.subject,htmlContent:`
          <!DOCTYPE html>
          <html>
          <head>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>${oe.headerTitle} - TechCreator</title>
                <select
                  name="category"
                  value={formData.category}
                  onChange={handleInputChange}
                  className="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"
                  required
                >
                  <option value="All">All Categories</option>
                  <option value="All">All Categories</option>
                  <option value="IoT">IoT</option>
                  <option value="Blockchain">Blockchain</option>
                  <option value="Web">Web</option>
                  <option value="Mobile">Mobile</option>
                  <option value="Other">Other</option>
                </select>
                <p>${oe.headerSubtitle}</p>
              </div>
              
              <div class="content">
                <div class="message">
                  ${W.replace(/\n/g,"<br>")}
                </div>
              </div>
              
              <div class="footer">
                <p>&copy; 2025 TechCreator. All rights reserved.</p>
                <p>Professional development services for your business needs.</p>
              </div>
            </div>
          </body>
          </html>
        `,tags:["project-request",C,"customer-communication"]};console.log(" Sending project request email via Brevo...",{to:h.customer_email,subject:oe.subject,type:C}),await j(We),console.log(" Project request email sent successfully via Brevo");const Sr=`${C.charAt(0).toUpperCase()+C.slice(1)} email sent successfully to ${h.customer_email}!`,ht=document.createElement("div");ht.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300",ht.textContent=Sr,document.body.appendChild(ht),setTimeout(()=>{ht.style.opacity="0",setTimeout(()=>{document.body.removeChild(ht)},300)},5e3),N(!1),p(null),ee("")}catch(j){console.error(" Error sending project request email via Brevo:",j);const Q=`Failed to send ${C} email: ${j.message||"Unknown error"}`,oe=document.createElement("div");oe.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300",oe.textContent=Q,document.body.appendChild(oe),setTimeout(()=>{oe.style.opacity="0",setTimeout(()=>{document.body.removeChild(oe)},300)},7e3)}finally{pe(!1)}}},Ts=async(j,Q)=>{q(!0);try{await t(j,Q,u==null?void 0:u.email,Y),$(""),(h==null?void 0:h.id)===j&&p(oe=>oe?{...oe,status:Q}:null)}catch(oe){console.error("Error updating status:",oe),alert("Failed to update status. Please try again.")}finally{q(!1)}},Ca=j=>{T({title:j.project_title,description:j.description,category:j.project_type,price:j.estimated_price||0,image:"https://images.pexels.com/photos/3183153/pexels-photo-3183153.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",imageUpload:null,features:j.requirements?[j.requirements]:["Custom development based on requirements"],technical_details:j.requirements||"Custom project based on client requirements",featured:!1,updated_at:new Date().toISOString()}),p(j),I(!0)},zo=async()=>{if(h){we(!0);try{await l(he),await t(h.id,"converted",u==null?void 0:u.email,`Converted to project: ${he.title}`),I(!1),p(null),alert("Successfully converted to project!")}catch(j){console.error("Error converting to project:",j),alert("Failed to convert to project. Please try again.")}finally{we(!1)}}},Bo=async j=>{p(j),$(j.admin_notes||""),w(!0)},qn=async j=>{try{const Q=await a(j.id);M(Q),A(!0)}catch(Q){console.error("Error fetching status history:",Q)}},qo=async j=>{if(window.confirm("Are you sure you want to delete this request? This action cannot be undone."))try{await n(j),(h==null?void 0:h.id)===j&&w(!1)}catch(Q){console.error("Error deleting request:",Q),alert("Failed to delete request. Please try again.")}},Vo=(j,Q)=>{const oe=[...he.features];oe[j]=Q,T({...he,features:oe})},Wo=()=>{T({...he,features:[...he.features,""]})},Ho=j=>{const Q=[...he.features];Q.splice(j,1),T({...he,features:Q})},Ko=[{value:"IoT",label:"IoT"},{value:"Blockchain",label:"Blockchain"},{value:"Web",label:"Web Development"},{value:"Mobile",label:"Mobile App"},{value:"Other",label:"Other"}];return r.jsxs(tr,{children:[r.jsxs("div",{className:"px-4 sm:px-6 py-8 dark:bg-gray-900 min-h-screen",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200",children:"Project Requests"}),r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage customer project requests and convert them to projects."})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-blue-300 dark:from-blue-900 dark:to-blue-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Me,{className:"h-8 w-8 text-blue-700 dark:text-blue-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Total"}),r.jsx("h3",{className:"text-2xl font-bold text-blue-900 dark:text-blue-200",children:re.total})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-yellow-300 dark:from-yellow-900 dark:to-yellow-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Yr,{className:"h-8 w-8 text-yellow-700 dark:text-yellow-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:"Pending"}),r.jsx("h3",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-200",children:re.pending})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-cyan-100 to-cyan-300 dark:from-cyan-900 dark:to-cyan-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(it,{className:"h-8 w-8 text-cyan-700 dark:text-cyan-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-cyan-700 dark:text-cyan-300",children:"Reviewing"}),r.jsx("h3",{className:"text-2xl font-bold text-cyan-900 dark:text-cyan-200",children:re.reviewing})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-100 to-green-300 dark:from-green-900 dark:to-green-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ie,{className:"h-8 w-8 text-green-700 dark:text-green-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Approved"}),r.jsx("h3",{className:"text-2xl font-bold text-green-900 dark:text-green-200",children:re.approved})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-purple-300 dark:from-purple-900 dark:to-purple-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xs,{className:"h-8 w-8 text-purple-700 dark:text-purple-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:"Converted"}),r.jsx("h3",{className:"text-2xl font-bold text-purple-900 dark:text-purple-200",children:re.converted})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-indigo-100 to-indigo-300 dark:from-indigo-900 dark:to-indigo-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ic,{className:"h-8 w-8 text-indigo-700 dark:text-indigo-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-indigo-700 dark:text-indigo-300",children:"This Month"}),r.jsx("h3",{className:"text-2xl font-bold text-indigo-900 dark:text-indigo-200",children:re.thisMonth})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm mb-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:r.jsx(Do,{className:"h-5 w-5 text-slate-400 dark:text-slate-500"})}),r.jsx("input",{type:"text",placeholder:"Search by customer name, email, or project title...",value:m,onChange:j=>f(j.target.value),className:"w-full pl-10 pr-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 dark:placeholder-slate-500"})]}),r.jsxs("button",{onClick:_a,disabled:D.length===0,className:`inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium ${D.length>0?"border-blue-600 text-blue-600 hover:bg-blue-50 dark:hover:bg-slate-700":"border-slate-300 text-slate-400 cursor-not-allowed dark:border-slate-700 dark:text-slate-500"}`,children:[r.jsx(js,{className:"h-4 w-4 mr-2"}),"Export (",D.length,")"]}),r.jsxs("button",{onClick:Sa,disabled:D.length===0,className:`inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium ${D.length>0?"border-green-600 text-green-600 hover:bg-green-50 dark:hover:bg-slate-700":"border-slate-300 text-slate-400 cursor-not-allowed dark:border-slate-700 dark:text-slate-500"}`,children:[r.jsx(ct,{className:"h-4 w-4 mr-2"}),"Email (",D.length,")"]}),r.jsxs("div",{className:"relative min-w-[150px] w-full md:w-auto",children:[r.jsxs("button",{type:"button",className:"pl-4 pr-8 py-2 border border-slate-300 dark:border-slate-700 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-200 w-full flex items-center justify-between focus:ring-2 focus:ring-blue-500 transition-colors duration-200 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>ke(j=>!j),"aria-haspopup":"listbox","aria-expanded":te?"true":"false",id:"statusFilterDropdown",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(wa,{className:"h-5 w-5 text-slate-400 mr-2"}),r.jsx("span",{className:"font-medium",children:r.jsxs("span",{className:x?"":"text-blue-600 font-bold",children:["Status: ",x?((Vn=ve.find(j=>j.value===x))==null?void 0:Vn.label)||x:"All"]})})]}),r.jsx(Ne,{className:"h-4 w-4 text-slate-400 ml-2"})]}),te&&r.jsxs("ul",{className:"absolute left-0 mt-2 w-full z-10 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-700 rounded-md shadow-lg py-1",role:"listbox","aria-labelledby":"statusFilterDropdown",tabIndex:-1,children:[r.jsx("li",{role:"option","aria-selected":x?"false":"true",tabIndex:0,onClick:()=>{v(null),ke(!1)},onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&(v(null),ke(!1))},className:`cursor-pointer px-8 py-2 flex items-center transition-colors duration-150 ${x?"hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600":"bg-blue-50 dark:bg-blue-900/20 text-blue-600 font-bold"}`,children:"All"},"all"),ve.map(j=>r.jsx("li",{role:"option","aria-selected":x===j.value?"true":"false",tabIndex:0,onClick:()=>{v(j.value),ke(!1)},onKeyDown:Q=>{(Q.key==="Enter"||Q.key===" ")&&(v(j.value),ke(!1))},className:`cursor-pointer px-8 py-2 flex items-center transition-colors duration-150 ${x===j.value?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 font-bold":"hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600"}`,children:j.label},j.value))]})]}),r.jsxs("div",{className:"relative min-w-[150px] w-full md:w-auto",children:[r.jsxs("button",{type:"button",className:"pl-4 pr-8 py-2 border border-slate-300 dark:border-slate-700 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-200 w-full flex items-center justify-between focus:ring-2 focus:ring-blue-500 transition-colors duration-200 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>ie(j=>!j),"aria-haspopup":"listbox","aria-expanded":$e?"true":"false",id:"priorityFilterDropdown",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(Sf,{className:"h-5 w-5 text-slate-400 mr-2"}),r.jsx("span",{className:"font-medium",children:r.jsxs("span",{className:y?"":"text-blue-600 font-bold",children:["Priority: ",y?((Wn=R.find(j=>j.value===y))==null?void 0:Wn.label)||y:"All"]})})]}),r.jsx(Ne,{className:"h-4 w-4 text-slate-400 ml-2"})]}),$e&&r.jsxs("ul",{className:"absolute left-0 mt-2 w-full z-10 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-700 rounded-md shadow-lg py-1",role:"listbox","aria-labelledby":"priorityFilterDropdown",tabIndex:-1,children:[r.jsx("li",{role:"option","aria-selected":y?"false":"true",tabIndex:0,onClick:()=>{k(null),ie(!1)},onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&(k(null),ie(!1))},className:`cursor-pointer px-8 py-2 flex items-center transition-colors duration-150 ${y?"hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600":"bg-blue-50 dark:bg-blue-900/20 text-blue-600 font-bold"}`,children:"All"},"all"),R.map(j=>r.jsx("li",{role:"option","aria-selected":y===j.value?"true":"false",tabIndex:0,onClick:()=>{k(j.value),ie(!1)},onKeyDown:Q=>{(Q.key==="Enter"||Q.key===" ")&&(k(j.value),ie(!1))},className:`cursor-pointer px-8 py-2 flex items-center transition-colors duration-150 ${y===j.value?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 font-bold":"hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600"}`,children:j.label},j.value))]})]}),r.jsxs("button",{onClick:d,disabled:i,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center ${i?"opacity-50 cursor-not-allowed":""}`,title:"Refresh project requests",children:[r.jsx(gs,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),i?"Refreshing...":"Refresh"]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm overflow-hidden mb-8",children:Z.length===0?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-1",children:"No project requests found"}),r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:e.length===0?"No project requests have been submitted yet.":"No requests match your search criteria."})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[r.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:r.jsx("div",{className:"flex items-center",children:r.jsx("input",{type:"checkbox",checked:D.length===z.length&&z.length>0,onChange:_r,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 dark:border-slate-700 rounded"})})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>X("customer"),children:r.jsxs("div",{className:"flex items-center",children:["Customer",(le==null?void 0:le.key)==="customer"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 transition-transform ${le.direction==="descending"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>X("project"),children:r.jsxs("div",{className:"flex items-center",children:["Project",(le==null?void 0:le.key)==="project"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 transition-transform ${le.direction==="descending"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>X("priority"),children:r.jsxs("div",{className:"flex items-center",children:["Priority",(le==null?void 0:le.key)==="priority"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 transition-transform ${le.direction==="descending"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>X("status"),children:r.jsxs("div",{className:"flex items-center",children:["Status",(le==null?void 0:le.key)==="status"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 transition-transform ${le.direction==="descending"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>X("date"),children:r.jsxs("div",{className:"flex items-center",children:["Date",(le==null?void 0:le.key)==="date"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 transition-transform ${le.direction==="descending"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:Z.map(j=>{const Q=se(j.status),oe=Ce(j.priority),We=Q.icon;return r.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",checked:D.includes(j.id),onChange:()=>rt(j.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 dark:border-slate-700 rounded"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ns,{className:"h-8 w-8 text-slate-400 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-200",children:j.customer_name}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(ct,{className:"w-4 h-4 text-blue-500 dark:text-blue-400"}),r.jsx("a",{href:`mailto:${j.customer_email}`,className:"hover:underline text-sm text-blue-600 dark:text-blue-400",children:j.customer_email})]}),j.customer_phone&&r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Rn,{className:"w-4 h-4 text-green-500 dark:text-green-400"}),r.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:j.customer_phone})]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-200",children:j.project_title}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1 whitespace-nowrap",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ze(j.project_type)}`,children:j.project_type}),r.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[" ",j.budget_range]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-medium ${oe.bg} ${oe.text}`,children:j.priority})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-medium ${Q.bg} ${Q.text}`,children:[r.jsx(We,{className:"h-4 w-4 mr-1"}),j.status]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center text-sm text-slate-500 dark:text-slate-400",children:[r.jsx(Fn,{className:"h-4 w-4 mr-1"}),K(j.created_at)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>Mt(j,"acknowledgment"),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Send acknowledgment email",children:r.jsx(oo,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>Mt(j,"quote"),className:"text-purple-600 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300",title:"Send project quote",children:r.jsx(ra,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>Mt(j,"approval"),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",title:"Send approval email",children:r.jsx(io,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>Mt(j,"rejection"),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Send rejection email",children:r.jsx(Dt,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>Bo(j),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900 rounded-lg transition-colors",title:"View details",children:r.jsx(it,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>qn(j),className:"p-2 text-purple-600 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900 rounded-lg transition-colors",title:"View history",children:r.jsx(gs,{className:"h-4 w-4"})}),j.status==="approved"&&r.jsx("button",{onClick:()=>Ca(j),className:"p-2 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-100 dark:hover:bg-emerald-900 rounded-lg transition-colors",title:"Convert to project",children:r.jsx(xs,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>qo(j.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900 rounded-lg transition-colors",title:"Delete request",children:r.jsx(ha,{className:"h-4 w-4"})})]})})]},j.id)})})]})})})]}),O&&h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:[C==="acknowledgment"&&r.jsxs(r.Fragment,{children:[r.jsx(oo,{className:"h-6 w-6 inline mr-2 text-blue-600"}),"Send Acknowledgment Email"]}),C==="quote"&&r.jsxs(r.Fragment,{children:[r.jsx(ra,{className:"h-6 w-6 inline mr-2 text-purple-600"}),"Send Project Quote"]}),C==="approval"&&r.jsxs(r.Fragment,{children:[r.jsx(io,{className:"h-6 w-6 inline mr-2 text-green-600"}),"Send Approval Email"]}),C==="rejection"&&r.jsxs(r.Fragment,{children:[r.jsx(Dt,{className:"h-6 w-6 inline mr-2 text-red-600"}),"Send Rejection Email"]})]}),r.jsx("button",{onClick:()=>{N(!1),p(null),ee("")},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:r.jsx(Dt,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-2",children:"Customer Details:"}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Name:"})," ",h.customer_name]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Email:"})," ",h.customer_email]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Phone:"})," ",h.customer_phone||"Not provided"]})]})]}),r.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-2",children:"Project Details:"}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Title:"})," ",h.project_title]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Type:"})," ",h.project_type]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Budget:"})," ",h.budget_range]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Priority:"})," ",h.priority]})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email Subject (Preview)"}),r.jsxs("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-md text-sm text-slate-700 dark:text-slate-300",children:[C==="acknowledgment"&&` Project Request Received - ${h.project_title}`,C==="quote"&&` Project Proposal - ${h.project_title}`,C==="approval"&&` Project Approved - ${h.project_title}`,C==="rejection"&&` Project Update - ${h.project_title}`]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email Message"}),r.jsx("textarea",{value:W,onChange:j=>ee(j.target.value),rows:20,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 font-mono text-sm",placeholder:"Enter your email message..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{N(!1),p(null),ee("")},className:"px-4 py-2 border border-slate-300 dark:border-slate-700 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancel"}),r.jsx("button",{onClick:ns,disabled:ne||!W.trim(),className:`px-4 py-2 rounded-md text-white flex items-center ${C==="acknowledgment"?"bg-blue-600 hover:bg-blue-700":C==="quote"?"bg-purple-600 hover:bg-purple-700":C==="approval"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} disabled:opacity-50`,children:ne?r.jsxs(r.Fragment,{children:[r.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Send ",C.charAt(0).toUpperCase()+C.slice(1)," Email"]})})]})]})})}),b&&h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:"Project Request Details"}),r.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:""})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-lg font-medium text-slate-900 dark:text-slate-200",children:"Customer Information"}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-lg space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ns,{className:"h-5 w-5 text-slate-400 mr-2"}),r.jsx("span",{className:"font-medium",children:h.customer_name})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ct,{className:"h-5 w-5 text-slate-400 mr-2"}),r.jsx("a",{href:`mailto:${h.customer_email}`,className:"text-blue-600 dark:text-blue-400 hover:underline",children:h.customer_email})]}),h.customer_phone&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Rn,{className:"h-5 w-5 text-slate-400 mr-2"}),r.jsx("span",{children:h.customer_phone})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(dy,{className:"h-5 w-5 text-slate-400 mr-2"}),r.jsx("span",{children:h.budget_range})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-lg font-medium text-slate-900 dark:text-slate-200",children:"Project Information"}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-lg space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Title"}),r.jsx("p",{className:"text-slate-900 dark:text-slate-200",children:h.project_title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Type"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-medium ml-2 ${ze(h.project_type)}`,children:h.project_type})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Priority"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-medium ml-2 ${Ce(h.priority).bg} ${Ce(h.priority).text}`,children:h.priority})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Status"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-medium ml-2 ${se(h.status).bg} ${se(h.status).text}`,children:h.status})]})]})]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-3",children:"Project Description"}),r.jsx("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-lg",children:r.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:h.description})})]}),h.requirements&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-3",children:"Requirements"}),r.jsx("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-lg",children:r.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:h.requirements})})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-3",children:"Admin Notes"}),r.jsx("textarea",{value:Y,onChange:j=>$(j.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Add notes about this request..."})]}),r.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[h.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>Ts(h.id,"reviewing"),disabled:V,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Start Review"}),r.jsx("button",{onClick:()=>Ts(h.id,"approved"),disabled:V,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:"Approve"}),r.jsx("button",{onClick:()=>Ts(h.id,"rejected"),disabled:V,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Reject"})]}),h.status==="reviewing"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>Ts(h.id,"approved"),disabled:V,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:"Approve"}),r.jsx("button",{onClick:()=>Ts(h.id,"rejected"),disabled:V,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Reject"})]}),h.status==="approved"&&r.jsxs("button",{onClick:()=>Ca(h),disabled:me,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center",children:[r.jsx(sa,{className:"h-4 w-4 mr-2"}),me?"Converting...":"Convert to Project"]}),r.jsx("button",{onClick:()=>qn(h),className:"px-4 py-2 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700",children:"View History"})]})]})]})}),L&&h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:[r.jsx(_f,{className:"h-5 w-5 inline mr-2"}),"Convert to Project - Review & Edit Details"]}),r.jsx("button",{onClick:()=>I(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:r.jsx(Qe,{className:"h-6 w-6"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:[r.jsxs("h4",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:[" Converting Request: ",h.project_title]}),r.jsx("p",{className:"text-blue-700 dark:text-blue-400 text-sm",children:"Review and modify the project details below before creating the project. All fields are pre-filled from the customer request."})]}),r.jsxs("form",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Project Title *"}),r.jsx("input",{type:"text",value:he.title,onChange:j=>T({...he,title:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category *"}),r.jsx("select",{value:he.category,onChange:j=>T({...he,category:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",required:!0,children:Ko.map(j=>r.jsx("option",{value:j.value,children:j.label},j.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description *"}),r.jsx("textarea",{value:he.description,onChange:j=>T({...he,description:j.target.value}),rows:4,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Price () *"}),r.jsx("input",{type:"number",value:he.price,onChange:j=>T({...he,price:parseInt(j.target.value)||0}),min:"0",step:"1",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",required:!0}),r.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Customer Budget: ",h.budget_range]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Project Image URL"}),r.jsx("input",{type:"url",value:he.image,onChange:j=>T({...he,image:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"https://example.com/image.jpg"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Project Features"}),he.features.map((j,Q)=>r.jsxs("div",{className:"flex mb-2",children:[r.jsx("input",{type:"text",value:j,onChange:oe=>Vo(Q,oe.target.value),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:`Feature ${Q+1}`}),r.jsx("button",{type:"button",onClick:()=>Ho(Q),className:"ml-2 flex items-center justify-center h-10 w-10 rounded-md bg-red-50 text-red-500 hover:bg-red-100 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/40",children:r.jsx(Qe,{className:"h-4 w-4"})})]},Q)),r.jsxs("button",{type:"button",onClick:Wo,className:"inline-flex items-center px-3 py-1 text-sm border border-slate-300 dark:border-slate-700 rounded-md bg-slate-50 text-slate-700 hover:bg-slate-100 dark:bg-slate-700 dark:text-white dark:hover:bg-slate-600",children:[r.jsx(sa,{className:"h-4 w-4 mr-1"}),"Add Feature"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Technical Details"}),r.jsx("textarea",{value:he.technical_details,onChange:j=>T({...he,technical_details:j.target.value}),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Technologies used, implementation details, etc."})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:he.featured,onChange:j=>T({...he,featured:j.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 rounded dark:bg-slate-700 dark:border-slate-600"}),r.jsx("label",{className:"ml-2 text-sm text-slate-700 dark:text-slate-300",children:"Mark as featured project"})]})]}),r.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 border border-slate-300 dark:border-slate-700 rounded-md text-slate-700 dark:text-slate-300 bg-white hover:bg-slate-50 dark:bg-slate-700 dark:hover:bg-slate-600",disabled:me,children:"Cancel"}),r.jsx("button",{onClick:zo,disabled:me||!he.title||!he.description,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:me?r.jsxs(r.Fragment,{children:[r.jsx(gs,{className:"h-4 w-4 mr-2 animate-spin"}),"Converting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Nf,{className:"h-4 w-4 mr-2"}),"Create Project"]})})]})]})]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:"Status History"}),r.jsx("button",{onClick:()=>A(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:""})]})}),r.jsx("div",{className:"p-6",children:B.length===0?r.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No status changes recorded."}):r.jsx("div",{className:"space-y-4",children:B.map(j=>r.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-200",children:[j.old_status&&`${j.old_status}  `,j.new_status]}),j.changed_by&&r.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Changed by: ",j.changed_by]}),j.notes&&r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:j.notes})]}),r.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:K(j.created_at)})]})},j.id))})})]})})]})},nj=()=>{const{orders:e,updateOrderStatus:t,deleteOrder:s,getProjectDocuments:a,addProjectDocument:n,sendSecureProjectDocuments:l,getDocumentsByReviewStage:o,fetchOrders:i}=rr(),[c,d]=g.useState(""),[u,m]=g.useState(null),[f,x]=g.useState([]),[v,y]=g.useState(!1),[k,h]=g.useState(null),[p,b]=g.useState(!1),[w,P]=g.useState(null),[A,L]=g.useState(!1),[I,B]=g.useState(null),[M,V]=g.useState(!1),[q,me]=g.useState(null),[we,Y]=g.useState(!1),[$,D]=g.useState(!1),[_,O]=g.useState(!1),[N,C]=g.useState(null),[U,W]=g.useState(!1),[ee,ne]=g.useState(null),[pe,te]=g.useState(null),[ke,$e]=g.useState(0),[ie,le]=g.useState({name:"",url:"",type:"",size:0,review_stage:"review_1",document_category:"presentation",description:"",storage_path:""}),[Je,he]=g.useState(!1),[T,z]=g.useState(null),[X,S]=g.useState(null),[Z,re]=g.useState([]),[ve,R]=g.useState("lifetime"),[K,se]=g.useState(null),[Ce,ze]=g.useState(null),[rt,_r]=g.useState(null),_a=E=>{if(!E)return"N/A";try{const ae=new Date(E);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).format(ae)}catch{return"Invalid Date"}},Sa=E=>{const ae=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(E);let ge="";return E>=1e5?ge="text-green-600 dark:text-green-400 font-bold":E>=5e4?ge="text-blue-600 dark:text-blue-400 font-semibold":ge="text-orange-600 dark:text-orange-400",{formatted:ae,colorClass:ge}},Mt=e.filter(E=>{var je,Se,Te,He;const ae=((je=E.customer_name)==null?void 0:je.toLowerCase().includes(c.toLowerCase()))||((Se=E.customer_email)==null?void 0:Se.toLowerCase().includes(c.toLowerCase()))||((Te=E.project_title)==null?void 0:Te.toLowerCase().includes(c.toLowerCase()))||((He=E.id)==null?void 0:He.toLowerCase().includes(c.toLowerCase())),ge=u?E.status===u:!0;return ae&&ge}),ns=E=>{let ae="ascending";q&&q.key===E&&q.direction==="ascending"&&(ae="descending"),me({key:E,direction:ae})},Ca=q?[...Mt].sort((E,ae)=>{var Se,Te,He,Hn,Kn,Gn;let ge,je;return q.key==="date"?(ge=new Date(E.created_at||0).getTime(),je=new Date(ae.created_at||0).getTime()):q.key==="price"?(ge=parseFloat(E.price.toString()),je=parseFloat(ae.price.toString())):q.key==="customer"?(ge=((Se=E.customer_name)==null?void 0:Se.toLowerCase())||"",je=((Te=ae.customer_name)==null?void 0:Te.toLowerCase())||""):q.key==="project"?(ge=((He=E.project_title)==null?void 0:He.toLowerCase())||"",je=((Hn=ae.project_title)==null?void 0:Hn.toLowerCase())||""):q.key==="status"&&(ge=((Kn=E.status)==null?void 0:Kn.toLowerCase())||"",je=((Gn=ae.status)==null?void 0:Gn.toLowerCase())||""),ge<je?q.direction==="ascending"?-1:1:ge>je?q.direction==="ascending"?1:-1:0}):Mt,zo=async(E,ae)=>{L(!0),B(null);try{await t(E,ae),P(null)}catch(ge){B("Failed to update order status"),console.error("Error updating order status:",ge)}finally{L(!1)}},Bo=E=>{f.includes(E)?x(f.filter(ae=>ae!==E)):x([...f,E])},qn=()=>{f.length===Mt.length?x([]):x(Mt.map(E=>E.id))},qo=E=>{h(E),b(!0)},Vo=async()=>{if(k){y(!0);try{await s(k.id),f.includes(k.id)&&x(f.filter(E=>E!==k.id))}catch(E){console.error("Error deleting order:",E)}finally{y(!1),b(!1)}}},Wo=E=>{h(E),C(null),Y(!0)},Ho=E=>{h(E),le({name:"",url:"",type:"",size:0,review_stage:"review_1",document_category:"presentation",description:"",storage_path:""}),ne(null),te(null),$e(0),D(!0)},Ko=E=>{h(E),re([]),z(null),S(null),O(!0)},Vn=E=>{C(N===E?null:E)},Wn=async E=>{var je;const ae=(je=E.target.files)==null?void 0:je[0];if(!ae||!k)return;const ge=dn(ae);if(!ge.valid){ne(ge.error||"Invalid file");return}W(!0),ne(null),te(null),$e(0);try{const Se=setInterval(()=>{$e(He=>He>=90?(clearInterval(Se),90):He+10)},200),Te=await Wc(ae,`${k.projectId}/${ie.review_stage}`);clearInterval(Se),$e(100),le(He=>({...He,name:ae.name,url:Te.url,type:ae.type,size:Te.size,storage_path:Te.path})),te("File uploaded successfully!")}catch(Se){ne(Se instanceof Error?Se.message:"Failed to upload file. Please check your permissions and try again."),console.error("File upload error:",Se)}finally{W(!1),setTimeout(()=>{$e(0),te(null)},3e3)}},j=async E=>{if(E.preventDefault(),!ie.name||!ie.url||!k){ne("Please provide a file name and URL");return}try{await n({project_id:k.projectId,name:ie.name,url:ie.url,type:ie.type,size:ie.size,review_stage:ie.review_stage,document_category:ie.document_category,description:ie.description,is_active:!0}),le({name:"",url:"",type:"",size:0,review_stage:"review_1",document_category:"presentation",description:"",storage_path:""}),D(!1),ne(null),te(null)}catch(ae){ne("Failed to add document. Please check your permissions and try again."),console.error("Error adding document:",ae)}},Q=E=>{Z.includes(E)?re(Z.filter(ae=>ae!==E)):re([...Z,E])},oe=async()=>{if(!k||Z.length===0){z("Please select at least one review stage");return}he(!0),z(null),S(null);try{const ae=a(k.projectId).filter(ge=>Z.includes(ge.review_stage)&&ge.is_active);if(ae.length===0)throw new Error("No documents found for selected review stages");if(ve==="lifetime"){const je=(await Zd(ae.map(Se=>({id:Se.id,name:Se.name,url:Se.url})),k.customer_email||k.customerEmail,k.id,{expirationHours:87600,maxDownloads:9999,requireEmailVerification:!0})).map(Se=>{const Te=ae.find(He=>He.id===Se.documentId);return{name:Se.documentName,url:Se.secureUrl,category:(Te==null?void 0:Te.document_category)||"document",review_stage:(Te==null?void 0:Te.review_stage)||"review_1",size:(Te==null?void 0:Te.size)||0}});await Xd({project_title:k.project_title||k.projectTitle,customer_name:k.customer_name||k.customerName,customer_email:k.customer_email||k.customerEmail,order_id:k.id,documents:je,access_expires:"Never (lifetime access)"})}else await l(k.id,k.customer_email||k.customerEmail,k.customer_name||k.customerName,!0);S("Documents sent successfully!"),setTimeout(()=>{O(!1),S(null),re([])},2e3)}catch(E){console.error("Error sending documents:",E),z(E instanceof Error?E.message:"Failed to send documents. Please try again.")}finally{he(!1)}},We=()=>{if(f.length===0)return;const E=e.filter(He=>f.includes(He.id));let ae=`Customer Name,Email,Project,Price,Status,Date
`;E.forEach(He=>{var eu,tu;const Hn=_a(He.created_at),Kn=`"${((eu=He.customer_name)==null?void 0:eu.replace(/"/g,'""'))||""}"`,Gn=`"${((tu=He.project_title)==null?void 0:tu.replace(/"/g,'""'))||""}"`,{formatted:_p}=Sa(He.price);ae+=`${Kn},${He.customer_email||""},${Gn},${_p},${He.status||""},${Hn}
`});const ge="\uFEFF",je=new Blob([ge+ae],{type:"text/csv;charset=utf-8"}),Se=URL.createObjectURL(je),Te=document.createElement("a");Te.href=Se,Te.download="orders.csv",document.body.appendChild(Te),Te.click(),document.body.removeChild(Te)},Sr=E=>{switch(E.toLowerCase()){case"completed":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300";case"pending":return"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300";case"processing":return"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300";case"cancelled":return"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-300";default:return"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-300"}},ht=Mt.reduce((E,ae)=>E+parseFloat(ae.price.toString()),0),{formatted:Be,colorClass:Pa}=Sa(ht),sr=["pending","processing","completed","cancelled"],Ea=[{value:"review_1",label:"Review 1",description:"Initial project review and requirements"},{value:"review_2",label:"Review 2",description:"Mid-project review and progress assessment"},{value:"review_3",label:"Review 3",description:"Final review and project completion"}],Go=[{value:"presentation",label:"Presentation (PPT)",icon:Me},{value:"document",label:"Document (Word/PDF)",icon:Me},{value:"report",label:"Report",icon:Me},{value:"other",label:"Other",icon:Me}],Jo=(E,ae)=>{navigator.clipboard.writeText(E),ae&&(ze(ae),setTimeout(()=>ze(null),1200))},Qo=async()=>{V(!0);try{if(i){await i();const E=document.createElement("div");E.textContent="Refreshing orders...",E.className="fixed top-6 right-6 bg-blue-600 text-white px-4 py-2 rounded shadow-lg z-50",document.body.appendChild(E),setTimeout(()=>{E.textContent="Orders refreshed!"},900),setTimeout(()=>{document.body.removeChild(E)},1800)}}finally{setTimeout(()=>V(!1),1200)}};return r.jsxs(tr,{children:[r.jsxs("div",{className:"px-4 sm:px-6 py-8 dark:bg-gray-900 min-h-screen",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200",children:"Orders"}),r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage and track customer orders for your projects."})]})}),I&&r.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-4 rounded-lg flex items-center",children:[r.jsx(Ve,{className:"h-5 w-5 mr-2"}),I]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Total Orders"}),r.jsx("h3",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:e.length})]})}),r.jsx("div",{className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300 mb-1",children:"Total Revenue"}),r.jsx("h3",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:Be})]})}),r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("p",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300 mb-1",children:"Pending Orders"}),r.jsx("h3",{className:"text-2xl font-bold text-yellow-700 dark:text-yellow-300",children:e.filter(E=>E.status==="pending").length})]})}),r.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/30 border border-purple-200 dark:border-purple-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("p",{className:"text-sm font-medium text-purple-700 dark:text-purple-300 mb-1",children:"Completed Orders"}),r.jsx("h3",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:e.filter(E=>E.status==="completed").length})]})})]}),r.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm mb-6",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[r.jsxs("div",{className:"relative grow min-w-[220px] max-w-full",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:r.jsx(Do,{className:"h-5 w-5 text-slate-400 dark:text-slate-500"})}),r.jsx("input",{type:"text",placeholder:"Search orders by customer name or project...",value:c,onChange:E=>d(E.target.value),className:"w-full pl-10 pr-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 dark:placeholder-slate-500"})]}),r.jsxs("button",{onClick:We,disabled:f.length===0,className:`inline-flex items-center px-3 py-2 border rounded-md text-sm font-medium ${f.length>0?"border-blue-600 text-blue-600 hover:bg-blue-50 dark:hover:bg-slate-700":"border-slate-300 text-slate-400 cursor-not-allowed dark:border-slate-700 dark:text-slate-500"}`,style:{minWidth:"120px"},children:[r.jsx(js,{className:"h-4 w-4 mr-2"}),"Export (",f.length,")"]}),r.jsxs("div",{className:"relative inline-block min-w-[170px] align-top",children:[r.jsxs("button",{type:"button",className:"pl-4 pr-4 py-2 border border-slate-300 dark:border-slate-700 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-200 flex items-center focus:ring-2 focus:ring-blue-500 transition-colors duration-200 hover:bg-blue-50 dark:hover:bg-blue-900/20 relative min-h-[40px]",onClick:()=>P(w==="filter"?null:"filter"),"aria-haspopup":"listbox","aria-expanded":w==="filter"?"true":"false",id:"statusFilterDropdown",style:{width:"auto",maxWidth:"100%"},children:[r.jsxs("span",{className:"flex items-center whitespace-nowrap",children:[r.jsx(wa,{className:"h-5 w-5 text-slate-400 mr-2 flex-shrink-0"}),r.jsx("span",{className:"font-medium",children:r.jsxs("span",{className:u?"":"text-blue-600 font-bold",children:["Status: ",u?u.charAt(0).toUpperCase()+u.slice(1):"All"]})})]}),r.jsx("span",{className:"flex items-center ml-2",children:r.jsx(Ne,{className:"h-4 w-4 text-slate-400"})})]}),w==="filter"&&r.jsx("ul",{className:"absolute left-0 mt-2 min-w-full z-10 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-700 rounded-md shadow-lg py-1",role:"listbox","aria-labelledby":"statusFilterDropdown",tabIndex:-1,children:[{value:null,label:"All"},...sr.map(E=>({value:E,label:E.charAt(0).toUpperCase()+E.slice(1)}))].map(E=>r.jsx("li",{role:"option","aria-selected":u===E.value?"true":"false",tabIndex:0,onClick:()=>{m(E.value),P(null)},onKeyDown:ae=>{(ae.key==="Enter"||ae.key===" ")&&(m(E.value),P(null))},className:"cursor-pointer px-8 py-2 flex items-center transition-colors duration-150 "+(u===E.value?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 font-bold":"hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600"),children:E.label},E.value??"all"))})]}),r.jsxs("button",{onClick:Qo,disabled:M,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center ${M?"opacity-50 cursor-not-allowed":""}`,title:"Refresh Orders",style:{minWidth:"110px"},children:[r.jsx(gs,{className:`h-4 w-4 mr-2${M?" animate-spin":""}`}),M?"Refreshing...":"Refresh"]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm overflow-hidden mb-8",children:Ca.length===0?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-1",children:"No orders found"}),r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:e.length===0?"You haven't received any orders yet.":"No orders match your search criteria."})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[r.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:r.jsx("div",{className:"flex items-center",children:r.jsx("input",{type:"checkbox",checked:f.length===Mt.length&&Mt.length>0,onChange:qn,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 dark:border-slate-700 rounded"})})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Order ID"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>ns("customer"),children:r.jsxs("div",{className:"flex items-center",children:["Customer",(q==null?void 0:q.key)==="customer"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 transition-transform ${q.direction==="descending"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>ns("project"),children:r.jsxs("div",{className:"flex items-center",children:["Project",(q==null?void 0:q.key)==="project"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 transition-transform ${q.direction==="descending"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>ns("price"),children:r.jsxs("div",{className:"flex items-center",children:["Price",(q==null?void 0:q.key)==="price"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 transition-transform ${q.direction==="descending"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>ns("status"),children:r.jsxs("div",{className:"flex items-center",children:["Status",(q==null?void 0:q.key)==="status"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 transition-transform ${q.direction==="descending"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>ns("date"),children:r.jsxs("div",{className:"flex items-center",children:["Date",(q==null?void 0:q.key)==="date"&&r.jsx(Ne,{className:`ml-1 h-4 w-4 transition-transform ${q.direction==="descending"?"rotate-180":""}`})]})}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:Ca.map(E=>{const{formatted:ae,colorClass:ge}=Sa(E.price),je=a(E.projectId).length;return r.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",checked:f.includes(E.id),onChange:()=>Bo(E.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 dark:border-slate-700 rounded"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-300",children:r.jsxs("div",{className:"flex items-center gap-2 group",children:[r.jsx("span",{className:"cursor-pointer select-none",onClick:()=>se(K===E.id?null:E.id),title:K===E.id?"Click to collapse":"Click to expand",children:K===E.id?E.id:`${E.id.slice(0,8)}...`}),r.jsx("button",{onClick:()=>Jo(E.id,E.id),className:"transition-opacity ml-1",title:"Copy Order ID",children:r.jsx(no,{className:`h-4 w-4 hover:text-blue-600 ${K===E.id?"opacity-100":"opacity-70 group-hover:opacity-100"}`})}),Ce===E.id&&r.jsx("span",{className:"ml-2 text-xs text-green-600 dark:text-green-400 font-semibold",children:"Copied!"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ns,{className:"h-8 w-8 text-slate-400 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-200",children:E.customer_name}),r.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400 flex items-center gap-1",children:[r.jsx(ct,{className:"h-4 w-4 text-blue-500 dark:text-blue-400"}),r.jsx("a",{href:`mailto:${E.customer_email}`,className:"hover:underline",children:E.customer_email})]}),r.jsxs("div",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1 flex items-center gap-1",children:[r.jsx(Rn,{className:"h-4 w-4 text-green-500 dark:text-green-400"}),E.customer_phone||E.customerPhone?E.customer_phone||E.customerPhone:"N/A"]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Tn,{className:"h-6 w-6 text-slate-400 mr-2"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-200 cursor-pointer",style:rt===E.id?{whiteSpace:"normal",overflow:"visible",display:"block"}:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",whiteSpace:"normal",textOverflow:"ellipsis",maxWidth:"220px",cursor:"pointer"},title:rt===E.id?"Click to collapse":"Click to expand",onClick:()=>_r(rt===E.id?null:E.id),children:E.project_title}),r.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 whitespace-nowrap",children:[je," document",je===1?"":"s"," available"]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:`text-sm font-medium ${ge}`,children:ae})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>P(w===E.id?null:E.id),className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-medium ${Sr(E.status)}`,disabled:A,children:[E.status,r.jsx(Ne,{className:"ml-1 h-4 w-4"})]}),w===E.id&&r.jsx("div",{className:"absolute z-10 mt-1 w-48 bg-white dark:bg-slate-800 rounded-md shadow-lg",children:sr.map(Se=>r.jsx("button",{onClick:()=>zo(E.id,Se),disabled:A,className:`block w-full text-left px-4 py-2 text-sm ${E.status===Se?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:Se.charAt(0).toUpperCase()+Se.slice(1)},Se))})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center text-sm text-slate-500 dark:text-slate-400",children:[r.jsx(Fn,{className:"h-4 w-4 mr-1"}),_a(E.created_at)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>Wo(E),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900 rounded-lg transition-colors",title:"View details",children:r.jsx(it,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>Ho(E),className:"p-2 text-orange-600 dark:text-orange-400 hover:bg-orange-100 dark:hover:bg-orange-900 rounded-lg transition-colors",title:"Upload documents",children:r.jsx(an,{className:"h-4 w-4"})}),je>0&&r.jsx("button",{onClick:()=>Ko(E),className:"p-2 text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900 rounded-lg transition-colors",title:"Send documents",children:r.jsx(Dn,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>qo(E),className:"p-2 text-red-600 dark:text-red-500 hover:bg-red-100 dark:hover:bg-red-900 rounded-lg transition-colors",title:"Delete order",children:r.jsx(ha,{className:"h-4 w-4"})})]})})]},E.id)})})]})})})]}),p&&k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[r.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900 rounded-full mb-4",children:r.jsx(ha,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),r.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-200 mb-1",children:"Delete Order"}),r.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Are you sure you want to delete the order from ",k.customer_name,"? This action cannot be undone."]})]}),r.jsxs("div",{className:"flex justify-center space-x-3",children:[r.jsx("button",{onClick:()=>b(!1),disabled:v,className:"px-4 py-2 border border-slate-300 dark:border-slate-700 rounded-md text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-900 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancel"}),r.jsx("button",{onClick:Vo,disabled:v,className:"px-4 py-2 bg-red-600 dark:bg-red-700 text-white rounded-md hover:bg-red-700 dark:hover:bg-red-800 flex items-center",children:v?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):"Delete"})]})]})}),we&&k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:"Order Details"}),r.jsx("button",{onClick:()=>Y(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:r.jsx(Qe,{className:"h-6 w-6"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-3",children:"Order Information"}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-lg space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Order ID:"})," ",k.id]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Project:"})," ",k.project_title]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Customer:"})," ",k.customer_name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",k.customer_email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," ",k.customer_phone?k.customer_phone:"N/A"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Status:"})," ",k.status]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Order Date:"})," ",_a(k.created_at)]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-4",children:"Document Status"}),r.jsx("div",{className:"space-y-4",children:Ea.map(E=>{const ae=o(k.projectId,E.value),ge=N===E.value;return r.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg",children:[r.jsxs("button",{onClick:()=>Vn(E.value),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-200 uppercase text-sm",children:E.label.replace(" "," ")}),r.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[ae.length," docs"]})]}),ge?r.jsx(Dr,{className:"h-5 w-5 text-slate-400"}):r.jsx(Ne,{className:"h-5 w-5 text-slate-400"})]}),ge&&r.jsx("div",{className:"px-4 pb-4 border-t border-slate-200 dark:border-slate-700",children:ae.length===0?r.jsxs("div",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:[r.jsx(Me,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No documents uploaded"})]}):r.jsx("div",{className:"space-y-2 mt-3",children:ae.map(je=>r.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Me,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200",children:je.name}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500 dark:text-slate-400",children:[r.jsx("span",{children:mo(je.size)}),r.jsx("span",{children:""}),r.jsx("span",{className:"capitalize",children:je.document_category})]})]})]})},je.id))})})]},E.value)})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>Y(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Close"})})]})]})}),$&&k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:["Upload Document - ",k.project_title]}),r.jsx("button",{onClick:()=>D(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:r.jsx(Qe,{className:"h-6 w-6"})})]})}),r.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[ee&&r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-4 rounded-lg flex items-center",children:[r.jsx(Ve,{className:"h-5 w-5 mr-2"}),ee]}),pe&&r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300 p-4 rounded-lg flex items-center",children:[r.jsx(Ie,{className:"h-5 w-5 mr-2"}),pe]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Upload File to Supabase Storage"}),r.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 text-center",children:[r.jsx(an,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("span",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Choose a file"}),r.jsx("input",{type:"file",className:"hidden",onChange:Wn,accept:".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx",disabled:U})]}),r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"or drag and drop"}),r.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:"PDF, DOC, PPT, XLS files up to 10MB"})]}),U&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(lt,{className:"h-4 w-4 animate-spin mr-2"}),r.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Uploading..."})]}),r.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${ke}%`}})})]})]})]}),r.jsx("div",{className:"text-center text-slate-500 dark:text-slate-400",children:r.jsx("span",{children:"OR"})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Document URL (External Link)"}),r.jsx("input",{type:"url",value:ie.url,onChange:E=>le({...ie,url:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"https://example.com/document.pdf"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Document Name"}),r.jsx("input",{type:"text",value:ie.name,onChange:E=>le({...ie,name:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter document name",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Review Stage"}),r.jsx("select",{value:ie.review_stage,onChange:E=>le({...ie,review_stage:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",children:Ea.map(E=>r.jsx("option",{value:E.value,children:E.label},E.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Document Category"}),r.jsx("select",{value:ie.document_category,onChange:E=>le({...ie,document_category:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",children:Go.map(E=>r.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Optional)"}),r.jsx("textarea",{value:ie.description,onChange:E=>le({...ie,description:E.target.value}),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Brief description of the document"})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-2 border border-slate-300 dark:border-slate-700 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:!ie.name||!ie.url||U,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Document"})]})]})]})}),_&&k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:["Send Documents - ",k.project_title]}),r.jsx("button",{onClick:()=>O(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:r.jsx(Qe,{className:"h-6 w-6"})})]})}),r.jsxs("div",{className:"p-6",children:[T&&r.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-4 rounded-lg flex items-center",children:[r.jsx(Ve,{className:"h-5 w-5 mr-2"}),T]}),X&&r.jsxs("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300 p-4 rounded-lg flex items-center",children:[r.jsx(Ie,{className:"h-5 w-5 mr-2"}),X]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-2",children:"Customer Information"}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-lg",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Name:"})," ",k.customer_name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",k.customer_email]}),k.customer_phone&&r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," ",k.customer_phone]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Order ID:"})," ",k.id]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-4",children:"Select Review Stages to Send"}),r.jsx("div",{className:"space-y-3",children:Ea.map(E=>{const ae=o(k.projectId,E.value);return r.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${Z.includes(E.value)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-700 hover:border-slate-400"}`,onClick:()=>Q(E.value),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:Z.includes(E.value),onChange:()=>Q(E.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 rounded mr-3"}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-slate-900 dark:text-slate-200",children:E.label}),r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:E.description})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Me,{className:"h-5 w-5 text-slate-400"}),r.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[ae.length," docs"]})]})]})},E.value)})})]}),r.jsxs("div",{className:"flex items-center mb-4 gap-4",children:[r.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:"Access Type:"}),r.jsx("button",{type:"button",className:`px-3 py-1.5 rounded-md border text-sm font-medium transition-colors duration-150 ${ve==="lifetime"?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 border-slate-300 dark:border-slate-700"}`,onClick:()=>R("lifetime"),disabled:Je,children:"Lifetime Access"}),r.jsx("button",{type:"button",className:`px-3 py-1.5 rounded-md border text-sm font-medium transition-colors duration-150 ${ve==="secure"?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 border-slate-300 dark:border-slate-700"}`,onClick:()=>R("secure"),disabled:Je,children:"Secure (Time-Limited)"})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 border border-slate-300 dark:border-slate-700 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancel"}),r.jsx("button",{onClick:oe,disabled:Z.length===0||Je,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:Je?r.jsxs(r.Fragment,{children:[r.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):ve==="lifetime"?"Send Lifetime Access":"Send Secure Access"})]})]})]})})]})};async function lj(e){const{error:t}=await G.from("global_settings").update({setting_value:JSON.stringify(e)}).eq("setting_key","global_color_theme");if(t)throw t}const oj=()=>{const{settings:e,updateSettings:t,loading:s,error:a}=as(),{user:n,updateProfile:l,updatePassword:o,updateEmail:i}=Nr(),{theme:c,setTheme:d}=tp(),[u,m]=g.useState("marketplace"),[f,x]=g.useState(!1),[v,y]=g.useState(!1),[k,h]=g.useState(null),[p,b]=g.useState({name:(n==null?void 0:n.name)||"",email:e.email||"",phone:e.phone||"",website:(n==null?void 0:n.website)||"",bio:(n==null?void 0:n.bio)||"",githubUrl:e.githubUrl||"",linkedinUrl:e.linkedinUrl||"",phoneAvailableOnRequest:e.phoneAvailableOnRequest??!0,profileImage:(n==null?void 0:n.profileImage)||""}),[w,P]=g.useState(null);be.useEffect(()=>{b(S=>({...S,email:e.email||"",phone:e.phone||"",githubUrl:e.githubUrl||"",linkedinUrl:e.linkedinUrl||"",phoneAvailableOnRequest:e.phoneAvailableOnRequest??!0}))},[e.email,e.phone,e.githubUrl,e.linkedinUrl,e.phoneAvailableOnRequest]);const[A,L]=g.useState({emailNotifications:!0,orderNotifications:!0,inquiryNotifications:!0,systemNotifications:!1,marketingEmails:!1,weeklyReports:!0,instantAlerts:!0,soundEnabled:!0}),[I,B]=g.useState({twoFactorEnabled:!1,loginAlerts:!0,sessionTimeout:"24",passwordExpiry:"90",allowMultipleSessions:!0,requireStrongPassword:!0,logSecurityEvents:!0}),[M,V]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[q,me]=g.useState(!1),[we,Y]=g.useState(!1),[$,D]=g.useState(null),[_,O]=g.useState({newEmail:"",confirmEmail:"",password:""}),[N,C]=g.useState(!1),[U,W]=g.useState(!1),[ee,ne]=g.useState(null),pe=[{id:"default",name:"Default",description:"Original website colors",colors:["#3b82f6","#1d4ed8","#1e40af","#1e3a8a"],cssVars:{"--color-primary":"#3b82f6","--color-primary-dark":"#1d4ed8","--color-secondary":"#1e40af","--color-accent":"#1e3a8a","--bg-primary":"#ffffff","--bg-secondary":"#f8fafc","--text-primary":"#1f2937","--text-secondary":"#6b7280"}},{id:"emerald-green",name:"Emerald Green",description:"Fresh, modern, and vibrant green palette",colors:["#34d399","#10b981","#047857","#065f46"],cssVars:{"--color-primary":"#10b981","--color-primary-dark":"#047857","--color-secondary":"#34d399","--color-accent":"#065f46","--bg-primary":"#ecfdf5","--bg-secondary":"#d1fae5","--text-primary":"#065f46","--text-secondary":"#10b981"}},{id:"violet-indigo",name:"Violet Indigo",description:"Deep violet and indigo for a creative, bold look",colors:["#a78bfa","#6366f1","#4f46e5","#3730a3"],cssVars:{"--color-primary":"#6366f1","--color-primary-dark":"#4f46e5","--color-secondary":"#a78bfa","--color-accent":"#3730a3","--bg-primary":"#f5f3ff","--bg-secondary":"#ede9fe","--text-primary":"#3730a3","--text-secondary":"#6366f1"}},{id:"rose-magenta",name:"Rose Magenta",description:"Modern rose and magenta for a lively, energetic style",colors:["#f472b6","#ec4899","#d946ef","#a21caf"],cssVars:{"--color-primary":"#ec4899","--color-primary-dark":"#a21caf","--color-secondary":"#f472b6","--color-accent":"#d946ef","--bg-primary":"#fdf2f8","--bg-secondary":"#fce7f3","--text-primary":"#a21caf","--text-secondary":"#ec4899"}},{id:"amber-caramel",name:"Amber Caramel",description:"Warm, rich amber and caramel tones",colors:["#fbbf24","#f59e42","#d97706","#b45309"],cssVars:{"--color-primary":"#fbbf24","--color-primary-dark":"#d97706","--color-secondary":"#f59e42","--color-accent":"#b45309","--bg-primary":"#fffbeb","--bg-secondary":"#fef3c7","--text-primary":"#78350f","--text-secondary":"#b45309"}},{id:"cool-cyan",name:"Cool Cyan",description:"Clean, modern cyan and teal palette",colors:["#22d3ee","#06b6d4","#0e7490","#164e63"],cssVars:{"--color-primary":"#06b6d4","--color-primary-dark":"#0e7490","--color-secondary":"#22d3ee","--color-accent":"#164e63","--bg-primary":"#ecfeff","--bg-secondary":"#cffafe","--text-primary":"#164e63","--text-secondary":"#06b6d4"}},{id:"copper-brown",name:"Copper Brown",description:"Earthy copper and brown tones for a grounded look",colors:["#b45309","#92400e","#78350f","#a16207"],cssVars:{"--color-primary":"#b45309","--color-primary-dark":"#92400e","--color-secondary":"#a16207","--color-accent":"#78350f","--bg-primary":"#fef6e4","--bg-secondary":"#fde68a","--text-primary":"#78350f","--text-secondary":"#a16207"}},{id:"mint-lime",name:"Mint Lime",description:"Bright mint and lime for a fresh, energetic vibe",colors:["#a7f3d0","#6ee7b7","#bef264","#84cc16"],cssVars:{"--color-primary":"#6ee7b7","--color-primary-dark":"#84cc16","--color-secondary":"#bef264","--color-accent":"#a7f3d0","--bg-primary":"#f7fee7","--bg-secondary":"#ecfccb","--text-primary":"#365314","--text-secondary":"#84cc16"}},{id:"sky-blue",name:"Sky Blue",description:"Airy sky blue and azure for a calm, modern feel",colors:["#38bdf8","#0ea5e9","#0369a1","#7dd3fc"],cssVars:{"--color-primary":"#0ea5e9","--color-primary-dark":"#0369a1","--color-secondary":"#7dd3fc","--color-accent":"#38bdf8","--bg-primary":"#f0f9ff","--bg-secondary":"#e0f2fe","--text-primary":"#0c4a6e","--text-secondary":"#0ea5e9"}},{id:"charcoal-orange",name:"Charcoal Orange",description:"Bold charcoal with vibrant orange accents",colors:["#1e293b","#334155","#fb923c","#f59e42"],cssVars:{"--color-primary":"#fb923c","--color-primary-dark":"#f59e42","--color-secondary":"#334155","--color-accent":"#1e293b","--bg-primary":"#f8fafc","--bg-secondary":"#f1f5f9","--text-primary":"#1e293b","--text-secondary":"#fb923c"}},{id:"platinum-aqua",name:"Platinum Aqua",description:"Elegant platinum with cool aqua highlights",colors:["#e5e7eb","#a5f3fc","#06b6d4","#64748b"],cssVars:{"--color-primary":"#06b6d4","--color-primary-dark":"#64748b","--color-secondary":"#a5f3fc","--color-accent":"#e5e7eb","--bg-primary":"#f0fdfa","--bg-secondary":"#e0f2fe","--text-primary":"#334155","--text-secondary":"#06b6d4"}},{id:"ruby-gold",name:"Ruby Gold",description:"Luxurious ruby red paired with gold highlights",colors:["#be123c","#fbbf24","#f59e42","#991b1b"],cssVars:{"--color-primary":"#be123c","--color-primary-dark":"#991b1b","--color-secondary":"#fbbf24","--color-accent":"#f59e42","--bg-primary":"#fff7ed","--bg-secondary":"#fef3c7","--text-primary":"#991b1b","--text-secondary":"#be123c"}},{id:"sunset-orange",name:"Sunset Orange",description:"Warm sunset orange and red hues",colors:["#ff7e5f","#feb47b","#ff6a00","#d7263d"],cssVars:{"--color-primary":"#ff7e5f","--color-primary-dark":"#d7263d","--color-secondary":"#feb47b","--color-accent":"#ff6a00","--bg-primary":"#fff5e6","--bg-secondary":"#ffe0b2","--text-primary":"#d7263d","--text-secondary":"#ff7e5f"}},{id:"deep-sea",name:"Deep Sea",description:"Cool deep blue and teal shades",colors:["#003973","#e5e5be","#005f73","#0a9396"],cssVars:{"--color-primary":"#003973","--color-primary-dark":"#005f73","--color-secondary":"#0a9396","--color-accent":"#e5e5be","--bg-primary":"#e0fbfc","--bg-secondary":"#c2e9fb","--text-primary":"#003973","--text-secondary":"#0a9396"}},{id:"forest-moss",name:"Forest Moss",description:"Earthy greens and mossy tones",colors:["#355c3a","#6b8e23","#b2ad7f","#a7c957"],cssVars:{"--color-primary":"#355c3a","--color-primary-dark":"#6b8e23","--color-secondary":"#a7c957","--color-accent":"#b2ad7f","--bg-primary":"#f4f9e9","--bg-secondary":"#e9f5db","--text-primary":"#355c3a","--text-secondary":"#6b8e23"}},{id:"lavender-dream",name:"Lavender Dream",description:"Soft lavender and purple pastels",colors:["#b57edc","#c3aed6","#f7cac9","#a0ced9"],cssVars:{"--color-primary":"#b57edc","--color-primary-dark":"#a0ced9","--color-secondary":"#c3aed6","--color-accent":"#f7cac9","--bg-primary":"#f3e8ff","--bg-secondary":"#e9d8fd","--text-primary":"#6d597a","--text-secondary":"#b57edc"}},{id:"neon-night",name:"Neon Night",description:"Bold neon blue, pink, and purple",colors:["#00f0ff","#ff00ea","#7c3aed","#0f172a"],cssVars:{"--color-primary":"#00f0ff","--color-primary-dark":"#7c3aed","--color-secondary":"#ff00ea","--color-accent":"#0f172a","--bg-primary":"#18181b","--bg-secondary":"#27272a","--text-primary":"#00f0ff","--text-secondary":"#ff00ea"}},{id:"peachy-keen",name:"Peachy Keen",description:"Peach, coral, and soft orange",colors:["#ffb997","#f67e7d","#f6cd61","#fff1cf"],cssVars:{"--color-primary":"#ffb997","--color-primary-dark":"#f67e7d","--color-secondary":"#f6cd61","--color-accent":"#fff1cf","--bg-primary":"#fff7f0","--bg-secondary":"#ffe5d9","--text-primary":"#f67e7d","--text-secondary":"#ffb997"}},{id:"royal-sapphire",name:"Royal Sapphire",description:"Deep blue with gold accents for a regal touch",colors:["#273c75","#fbc531","#192a56","#e1b382"],cssVars:{"--color-primary":"#273c75","--color-primary-dark":"#192a56","--color-secondary":"#fbc531","--color-accent":"#e1b382","--bg-primary":"#f5f6fa","--bg-secondary":"#dff9fb","--text-primary":"#192a56","--text-secondary":"#fbc531"}},{id:"pearl-white",name:"Pearl White",description:"Crisp white with soft pearl sheen for minimalistic luxury",colors:["#f8f8ff","#eaeaea","#d6d6d6","#f5f3f0"],cssVars:{"--color-primary":"#f8f8ff","--color-primary-dark":"#eaeaea","--color-secondary":"#d6d6d6","--color-accent":"#f5f3f0","--bg-primary":"#ffffff","--bg-secondary":"#f5f3f0","--text-primary":"#22223b","--text-secondary":"#a1a1aa"}},{id:"smoky-plum",name:"Smoky Plum",description:"Moody plum and charcoal for a mysterious vibe",colors:["#4b2840","#6c3483","#212121","#b388ff"],cssVars:{"--color-primary":"#4b2840","--color-primary-dark":"#212121","--color-secondary":"#6c3483","--color-accent":"#b388ff","--bg-primary":"#f3e6f5","--bg-secondary":"#e1bee7","--text-primary":"#212121","--text-secondary":"#6c3483"}},{id:"champagne-blush",name:"Champagne Blush",description:"Soft pink with warm champagne undertones",colors:["#f7cac9","#ffe5b4","#f3e6e3","#f9e4b7"],cssVars:{"--color-primary":"#f7cac9","--color-primary-dark":"#f9e4b7","--color-secondary":"#ffe5b4","--color-accent":"#f3e6e3","--bg-primary":"#fffaf3","--bg-secondary":"#f9e4b7","--text-primary":"#b08d57","--text-secondary":"#f7cac9"}},{id:"electric-coral",name:"Electric Coral",description:"Bright coral with electric pink highlights",colors:["#ff6f61","#ff3cac","#ffb86b","#ff61a6"],cssVars:{"--color-primary":"#ff6f61","--color-primary-dark":"#ff3cac","--color-secondary":"#ffb86b","--color-accent":"#ff61a6","--bg-primary":"#fff0f6","--bg-secondary":"#ffe5ec","--text-primary":"#ff3cac","--text-secondary":"#ff6f61"}},{id:"cyber-lime",name:"Cyber Lime",description:"Neon lime with futuristic silver accents",colors:["#d0ff14","#b2ff59","#c0c0c0","#00ffab"],cssVars:{"--color-primary":"#d0ff14","--color-primary-dark":"#00ffab","--color-secondary":"#b2ff59","--color-accent":"#c0c0c0","--bg-primary":"#f4fff8","--bg-secondary":"#eaffd0","--text-primary":"#00ffab","--text-secondary":"#d0ff14"}},{id:"volcanic-red",name:"Volcanic Red",description:"Fiery red with molten orange undertones",colors:["#ff3c38","#ff8c42","#ff5e13","#d7263d"],cssVars:{"--color-primary":"#ff3c38","--color-primary-dark":"#d7263d","--color-secondary":"#ff8c42","--color-accent":"#ff5e13","--bg-primary":"#fff0eb","--bg-secondary":"#ffe5d0","--text-primary":"#d7263d","--text-secondary":"#ff3c38"}},{id:"hyper-violet",name:"Hyper Violet",description:"Ultra-saturated purple with electric blue pops",colors:["#7c3aed","#00eaff","#a21caf","#3b0764"],cssVars:{"--color-primary":"#7c3aed","--color-primary-dark":"#3b0764","--color-secondary":"#00eaff","--color-accent":"#a21caf","--bg-primary":"#f3e8ff","--bg-secondary":"#e0e7ff","--text-primary":"#3b0764","--text-secondary":"#7c3aed"}},{id:"desert-clay",name:"Desert Clay",description:"Warm terracotta and sandy beige",colors:["#e2725b","#c97d60","#e1b382","#f3e9dc"],cssVars:{"--color-primary":"#e2725b","--color-primary-dark":"#c97d60","--color-secondary":"#e1b382","--color-accent":"#f3e9dc","--bg-primary":"#f9f6f2","--bg-secondary":"#f3e9dc","--text-primary":"#c97d60","--text-secondary":"#e2725b"}},{id:"olive-grove",name:"Olive Grove",description:"Muted olive green with rustic browns",colors:["#556b2f","#a9a587","#b2ad7f","#7c6f57"],cssVars:{"--color-primary":"#556b2f","--color-primary-dark":"#7c6f57","--color-secondary":"#a9a587","--color-accent":"#b2ad7f","--bg-primary":"#f6f5ee","--bg-secondary":"#e9e7da","--text-primary":"#7c6f57","--text-secondary":"#556b2f"}},{id:"autumn-bark",name:"Autumn Bark",description:"Deep browns with burnt orange and mustard",colors:["#7c4700","#b4654a","#eab464","#f6ae2d"],cssVars:{"--color-primary":"#7c4700","--color-primary-dark":"#b4654a","--color-secondary":"#eab464","--color-accent":"#f6ae2d","--bg-primary":"#f9f6f2","--bg-secondary":"#f6ae2d","--text-primary":"#7c4700","--text-secondary":"#b4654a"}},{id:"mossy-stone",name:"Mossy Stone",description:"Cool gray-green with natural stone textures",colors:["#7a918d","#b2b1a7","#a7c957","#6b9080"],cssVars:{"--color-primary":"#7a918d","--color-primary-dark":"#6b9080","--color-secondary":"#b2b1a7","--color-accent":"#a7c957","--bg-primary":"#eaf4f4","--bg-secondary":"#d6e5e3","--text-primary":"#6b9080","--text-secondary":"#7a918d"}},{id:"cotton-candy",name:"Cotton Candy",description:"Pastel pink, blue, and lavender swirls",colors:["#fcbad3","#a1c6ea","#b5ead7","#c7ceea"],cssVars:{"--color-primary":"#fcbad3","--color-primary-dark":"#a1c6ea","--color-secondary":"#b5ead7","--color-accent":"#c7ceea","--bg-primary":"#f7faff","--bg-secondary":"#fcbad3","--text-primary":"#a1c6ea","--text-secondary":"#fcbad3"}},{id:"misty-dawn",name:"Misty Dawn",description:"Soft peach, lavender, and pale yellow",colors:["#ffe5b4","#c3aed6","#fff1cf","#f7cac9"],cssVars:{"--color-primary":"#ffe5b4","--color-primary-dark":"#c3aed6","--color-secondary":"#fff1cf","--color-accent":"#f7cac9","--bg-primary":"#fffaf3","--bg-secondary":"#fff1cf","--text-primary":"#c3aed6","--text-secondary":"#ffe5b4"}},{id:"powder-blue",name:"Powder Blue",description:"Delicate baby blue with cloud-like whites",colors:["#b5d0ec","#e3f6fc","#f6f7f9","#a2d5f2"],cssVars:{"--color-primary":"#b5d0ec","--color-primary-dark":"#a2d5f2","--color-secondary":"#e3f6fc","--color-accent":"#f6f7f9","--bg-primary":"#f6f7f9","--bg-secondary":"#e3f6fc","--text-primary":"#a2d5f2","--text-secondary":"#b5d0ec"}},{id:"whisper-gray",name:"Whisper Gray",description:"Ultra-light gray with a hint of blush",colors:["#f5f3f0","#eaeaea","#f7cac9","#d6d6d6"],cssVars:{"--color-primary":"#f5f3f0","--color-primary-dark":"#eaeaea","--color-secondary":"#f7cac9","--color-accent":"#d6d6d6","--bg-primary":"#f7f7fa","--bg-secondary":"#f5f3f0","--text-primary":"#eaeaea","--text-secondary":"#f5f3f0"}},{id:"midnight-noir",name:"Midnight Noir",description:"Deep black with hints of navy and silver",colors:["#18181b","#22223b","#4a4e69","#9a8c98"],cssVars:{"--color-primary":"#18181b","--color-primary-dark":"#22223b","--color-secondary":"#4a4e69","--color-accent":"#9a8c98","--bg-primary":"#18181b","--bg-secondary":"#22223b","--text-primary":"#f2e9e4","--text-secondary":"#9a8c98"}},{id:"vampire-wine",name:"Vampire Wine",description:"Rich burgundy with dark purple undertones",colors:["#6a0572","#ab2346","#a83232","#2e003e"],cssVars:{"--color-primary":"#6a0572","--color-primary-dark":"#2e003e","--color-secondary":"#ab2346","--color-accent":"#a83232","--bg-primary":"#2e003e","--bg-secondary":"#6a0572","--text-primary":"#f2e9e4","--text-secondary":"#ab2346"}},{id:"obsidian-green",name:"Obsidian Green",description:"Almost-black green with emerald highlights",colors:["#0b3d20","#14532d","#1a4d2e","#00ffab"],cssVars:{"--color-primary":"#0b3d20","--color-primary-dark":"#14532d","--color-secondary":"#1a4d2e","--color-accent":"#00ffab","--bg-primary":"#18181b","--bg-secondary":"#14532d","--text-primary":"#00ffab","--text-secondary":"#0b3d20"}},{id:"shadow-plum",name:"Shadow Plum",description:"Dark purple with smoky gray accents",colors:["#3d315b","#444554","#6c3483","#b388ff"],cssVars:{"--color-primary":"#3d315b","--color-primary-dark":"#444554","--color-secondary":"#6c3483","--color-accent":"#b388ff","--bg-primary":"#22223b","--bg-secondary":"#3d315b","--text-primary":"#b388ff","--text-secondary":"#3d315b"}},{id:"70s-mustard",name:"70s Mustard",description:"Warm mustard yellow with burnt orange",colors:["#e1ad01","#ff8800","#ffb627","#ffcb9a"],cssVars:{"--color-primary":"#e1ad01","--color-primary-dark":"#ff8800","--color-secondary":"#ffb627","--color-accent":"#ffcb9a","--bg-primary":"#fffbe6","--bg-secondary":"#ffcb9a","--text-primary":"#e1ad01","--text-secondary":"#ff8800"}},{id:"80s-neon",name:"80s Neon",description:"Hot pink, electric blue, and vibrant yellow",colors:["#ff00c8","#00eaff","#fff700","#ff61a6"],cssVars:{"--color-primary":"#ff00c8","--color-primary-dark":"#00eaff","--color-secondary":"#fff700","--color-accent":"#ff61a6","--bg-primary":"#fff0f6","--bg-secondary":"#ffe5ec","--text-primary":"#00eaff","--text-secondary":"#ff00c8"}},{id:"90s-denim",name:"90s Denim",description:"Washed blues with faded red accents",colors:["#3b5998","#8b9dc3","#dfe3ee","#f7cac9"],cssVars:{"--color-primary":"#3b5998","--color-primary-dark":"#8b9dc3","--color-secondary":"#dfe3ee","--color-accent":"#f7cac9","--bg-primary":"#f6f7f9","--bg-secondary":"#dfe3ee","--text-primary":"#3b5998","--text-secondary":"#8b9dc3"}},{id:"mid-century-teal",name:"Mid-Century Teal",description:"Retro teal paired with warm walnut brown",colors:["#008080","#b5651d","#e0a899","#f4e285"],cssVars:{"--color-primary":"#008080","--color-primary-dark":"#b5651d","--color-secondary":"#e0a899","--color-accent":"#f4e285","--bg-primary":"#f4f9f4","--bg-secondary":"#e0a899","--text-primary":"#b5651d","--text-secondary":"#008080"}}],te=async S=>{x(!0),h(null),y(!1);try{await t(S),y(!0),setTimeout(()=>y(!1),3e3)}catch(Z){console.error("Error saving settings:",Z),h("Failed to save settings. Please try again."),setTimeout(()=>h(null),5e3)}finally{x(!1)}},ke=async()=>{x(!0),h(null),y(!1);try{await t({githubUrl:p.githubUrl,linkedinUrl:p.linkedinUrl,email:p.email,phone:p.phone,phoneAvailableOnRequest:p.phoneAvailableOnRequest}),y(!0),setTimeout(()=>y(!1),3e3)}catch(S){console.error("Error updating profile:",S),h("Failed to update profile. Please try again."),setTimeout(()=>h(null),5e3)}finally{x(!1)}},$e=async()=>{const S={...e,marketplaceMode:!e.marketplaceMode,...e.marketplaceMode?{showPricesOnProjects:!1,enableCheckoutProcess:!1}:{}};await te(S)},ie=async(S,Z)=>{const re={...e,[S]:Z};await te(re)},le=async S=>{const Z=pe.find(ve=>ve.id===S);if(!Z)return;const re=document.documentElement;Object.entries(Z.cssVars).forEach(([ve,R])=>{re.style.setProperty(ve,R)}),document.body.className=document.body.className.replace(/palette-[\w-]+/g,""),document.body.classList.add(`palette-${S}`),await lj(S),await te({...e,colorPalette:S}),console.log(`Applied color palette: ${Z.name}`)};be.useEffect(()=>{const S=e.colorPalette||"default";if(S==="default"||S==="copper-brown"||typeof window<"u"&&window.__GLOBAL_PALETTE__&&S===window.__GLOBAL_PALETTE__)return;const Z=pe.find(re=>re.id===S);if(Z){const re=document.documentElement;Object.entries(Z.cssVars).forEach(([ve,R])=>{re.style.setProperty(ve,R)}),document.body.className=document.body.className.replace(/palette-[\w-]+/g,""),document.body.classList.add(`palette-${S}`)}},[e.colorPalette]),be.useEffect(()=>{const S=document.documentElement,Z=Je();c==="dark"?(S.style.setProperty("--bg-primary","#232b36"),S.style.setProperty("--bg-secondary","#2d3746"),S.style.setProperty("--text-primary","#e3e8ee"),S.style.setProperty("--text-secondary","#a0aec0")):Z&&(S.style.setProperty("--bg-primary",Z.cssVars["--bg-primary"]),S.style.setProperty("--bg-secondary",Z.cssVars["--bg-secondary"]),S.style.setProperty("--text-primary",Z.cssVars["--text-primary"]),S.style.setProperty("--text-secondary",Z.cssVars["--text-secondary"]))},[c,e.colorPalette]);const Je=()=>{const S=e.colorPalette||"default";return pe.find(Z=>Z.id===S)||pe[0]},he=async S=>{if(S.preventDefault(),!M.currentPassword||!M.newPassword||!M.confirmPassword){D("All fields are required");return}if(M.newPassword.length<8){D("New password must be at least 8 characters long");return}if(M.newPassword!==M.confirmPassword){D("New passwords do not match");return}me(!0),D(null),Y(!1);try{await o(M.currentPassword,M.newPassword),Y(!0),V({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>Y(!1),5e3)}catch(Z){D(Z.message||"Failed to update password. Please try again.")}finally{me(!1)}},T=async S=>{if(S.preventDefault(),!_.newEmail||!_.confirmEmail||!_.password){ne("All fields are required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.newEmail)){ne("Please enter a valid email address");return}if(_.newEmail!==_.confirmEmail){ne("Email addresses do not match");return}if(_.newEmail===(n==null?void 0:n.email)){ne("New email must be different from current email");return}C(!0),ne(null),W(!1);try{await i(_.newEmail,_.password),W(!0),O({newEmail:"",confirmEmail:"",password:""})}catch(re){ne(re.message||"Failed to update email address. Please try again.")}finally{C(!1)}},z=S=>{var re;const Z=(re=S.target.files)==null?void 0:re[0];if(Z){P(Z);const ve=new FileReader;ve.onload=R=>{b(K=>{var se;return{...K,profileImage:(se=R.target)==null?void 0:se.result}})},ve.readAsDataURL(Z)}},X=[{id:"marketplace",label:"Marketplace",icon:$n},{id:"profile",label:"Profile",icon:Ns},{id:"notifications",label:"Notifications",icon:y0},{id:"security",label:"Security",icon:aa},{id:"appearance",label:"Appearance",icon:it},{id:"color-palette",label:"Color Palette",icon:yy}];return s?r.jsx(tr,{children:r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(lt,{className:"h-8 w-8 animate-spin text-blue-600"})})}):r.jsx(tr,{children:r.jsxs("div",{className:"px-4 sm:px-6 py-8 dark:bg-gray-900 min-h-screen",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200",children:"Settings"}),r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage admin settings and preferences."})]}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm overflow-hidden mb-8",children:r.jsx("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:r.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700"})})}),a&&r.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-4 rounded-lg flex items-center",children:[r.jsx(Ve,{className:"h-5 w-5 mr-2"}),a]}),v&&r.jsxs("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300 p-4 rounded-lg flex items-center",children:[r.jsx(Ie,{className:"h-5 w-5 mr-2"}),"Settings saved successfully!"]}),k&&r.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-4 rounded-lg flex items-center",children:[r.jsx(Ve,{className:"h-5 w-5 mr-2"}),k]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm mb-6 transition-colors duration-300",children:[r.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:r.jsx("nav",{className:"flex overflow-x-auto whitespace-nowrap sm:space-x-8 space-x-4 px-2 sm:px-6 scrollbar-hide","aria-label":"Tabs",children:X.map(S=>{const Z=S.icon;return r.jsxs("button",{type:"button",onClick:()=>m(S.id),className:`py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-sm flex items-center space-x-2 flex-shrink-0 transition-colors duration-200 ${u===S.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-300"}`,style:{minWidth:"120px"},children:[r.jsx(Z,{className:"h-4 w-4"}),r.jsx("span",{children:S.label})]},S.id)})})}),r.jsxs("div",{className:"p-6",children:[u==="marketplace"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-4",children:"Marketplace Configuration"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Configure how your website operates - as a marketplace for selling projects or as a portfolio showcase."})]}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${e.marketplaceMode?"bg-green-100 dark:bg-green-900":"bg-blue-100 dark:bg-blue-900"}`,children:e.marketplaceMode?r.jsx($n,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):r.jsx(it,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200",children:e.marketplaceMode?"Marketplace Mode":"Portfolio Mode"}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:e.marketplaceMode?"Full e-commerce functionality with payments and checkout":"Portfolio showcase mode for displaying work samples"})]})]}),r.jsx("button",{onClick:$e,disabled:f,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${e.marketplaceMode?"bg-green-600":"bg-slate-200 dark:bg-slate-600"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.marketplaceMode?"translate-x-6":"translate-x-1"}`})})]})}),e.marketplaceMode&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-200 mb-4",children:"E-Commerce Core"}),r.jsx("div",{className:"space-y-2",children:[{key:"showPricesOnProjects",title:"Show Prices on Projects",description:"Display project prices on cards and detail pages"},{key:"enableCheckoutProcess",title:"Enable Checkout Process",description:"Allow customers to purchase projects through the checkout flow"},{key:"orderAutoConfirmation",title:"Order Auto-Confirmation",description:"Automatically confirm orders after payment"}].map(S=>r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-200 dark:border-slate-600 last:border-0",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-slate-900 dark:text-slate-200",children:S.title}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-line",children:S.description})]}),r.jsx("button",{onClick:()=>ie(S.key,!e[S.key]),disabled:f,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${e[S.key]?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e[S.key]?"translate-x-6":"translate-x-1"}`})})]},S.key))})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-200 mb-4",children:"Payment & Delivery"}),r.jsx("div",{className:"space-y-2",children:[{key:"paymentProcessingEnabled",title:"Payment Processing",description:"Enable payment methods globally (UPI, card, etc.)"},{key:"enableUPI",title:"Enable UPI Payments",description:"Allow customers to pay using UPI (if available in Stripe account)"},{key:"enableCard",title:"Enable Card Payments",description:"Allow customers to pay using credit/debit cards"},{key:"automaticDeliveryEnabled",title:"Automatic Document Delivery",description:"Automatically send project documents after successful payment"}].map(S=>r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-200 dark:border-slate-600 last:border-0",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-slate-900 dark:text-slate-200",children:S.title}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-line",children:S.description})]}),r.jsx("button",{onClick:()=>ie(S.key,!e[S.key]),disabled:f,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${e[S.key]?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e[S.key]?"translate-x-6":"translate-x-1"}`})})]},S.key))})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-200 mb-4",children:"Notifications"}),r.jsx("div",{className:"space-y-2",children:[{key:"emailNotificationsEnabled",title:"Email Notifications",description:"Send order confirmations and delivery notifications"}].map(S=>r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-200 dark:border-slate-600 last:border-0",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-slate-900 dark:text-slate-200",children:S.title}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-line",children:S.description})]}),r.jsx("button",{onClick:()=>ie(S.key,!e[S.key]),disabled:f,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${e[S.key]?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e[S.key]?"translate-x-6":"translate-x-1"}`})})]},S.key))})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-200 mb-4",children:"Review Stages"}),r.jsx("div",{className:"space-y-2",children:[{key:"showReview1",title:"Review 1",description:`Initial project review and requirements

0 docs`},{key:"showReview2",title:"Review 2",description:`Mid-project review and progress assessment

0 docs`},{key:"showReview3",title:"Review 3",description:`Final review and project completion

0 docs`}].map(S=>r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-200 dark:border-slate-600 last:border-0",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-slate-900 dark:text-slate-200",children:S.title}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-line",children:S.description})]}),r.jsx("button",{onClick:()=>ie(S.key,!e[S.key]),disabled:f,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${e[S.key]?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e[S.key]?"translate-x-6":"translate-x-1"}`})})]},S.key))})]})]})]}),u==="profile"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-4",children:"Profile Information"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Update your personal information and profile details."})]}),r.jsx("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center overflow-hidden",children:p.profileImage?r.jsx("img",{src:p.profileImage,alt:"Profile",className:"w-20 h-20 object-cover rounded-full"}):r.jsx(Ns,{className:"h-10 w-10 text-blue-600 dark:text-blue-400"})}),r.jsxs("label",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-slate-800 rounded-full p-2 shadow-md border border-slate-200 dark:border-slate-600 cursor-pointer",children:[r.jsx(ny,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:z})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200",children:"Profile Picture"}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Upload a new profile picture or use a link"}),p.profileImage&&r.jsx("button",{className:"mt-2 text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",onClick:()=>{b(S=>({...S,profileImage:""})),P(null)},children:"Remove Picture"}),r.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[r.jsx("input",{type:"url",placeholder:"Paste image URL",className:"px-2 py-1 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 text-sm",value:p.profileImage.startsWith("http")?p.profileImage:"",onChange:S=>b(Z=>({...Z,profileImage:S.target.value||""}))}),r.jsx("button",{type:"button",className:"px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-xs",onClick:()=>b(S=>({...S,profileImage:"https://avatars.githubusercontent.com/u/172871561?v=4?s=400"})),children:"Use Default Link"})]})]})]})}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Full Name"}),r.jsx("input",{type:"text",value:p.name,onChange:S=>b({...p,name:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter your full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",value:p.email,onChange:S=>b({...p,email:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter your email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone Number"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("input",{type:"tel",value:p.phone,onChange:S=>b({...p,phone:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter your phone number"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"phoneAvailableOnRequest",type:"checkbox",checked:p.phoneAvailableOnRequest,onChange:S=>b({...p,phoneAvailableOnRequest:S.target.checked}),className:"mr-2"}),r.jsx("label",{htmlFor:"phoneAvailableOnRequest",className:"text-sm text-slate-700 dark:text-slate-300",children:"Phone available upon request"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Website"}),r.jsx("input",{type:"url",value:p.website,onChange:S=>b({...p,website:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"https://yourwebsite.com"})]})]}),r.jsxs("div",{className:"mb-6 mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bio"}),r.jsx("textarea",{value:p.bio,onChange:S=>b({...p,bio:S.target.value}),rows:4,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Tell us about yourself..."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"GitHub URL"}),r.jsx("input",{type:"url",value:p.githubUrl||"https://github.com/yourprofile",onChange:S=>b({...p,githubUrl:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"https://github.com/yourprofile"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"LinkedIn URL"}),r.jsx("input",{type:"url",value:p.linkedinUrl||"https://linkedin.com/in/yourprofile",onChange:S=>b({...p,linkedinUrl:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"https://linkedin.com/in/yourprofile"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Address"}),r.jsx("input",{type:"text",value:p.address||"",onChange:S=>b({...p,address:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter your address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Alternate Phone"}),r.jsx("input",{type:"tel",value:p.altPhone||"",onChange:S=>b({...p,altPhone:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter alternate phone number"})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:ke,disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:f?r.jsxs(r.Fragment,{children:[r.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Nf,{className:"h-4 w-4 mr-2"}),"Save Profile"]})})})]})]}),u==="notifications"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-4",children:"Notification Preferences"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Configure how and when you receive notifications."})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsxs("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-4 flex items-center",children:[r.jsx(ct,{className:"h-5 w-5 mr-2"}),"Email Notifications"]}),r.jsx("div",{className:"space-y-4",children:[{key:"emailNotifications",title:"Email Notifications",description:"Receive notifications via email"},{key:"orderNotifications",title:"Order Notifications",description:"Get notified about new orders and payments"},{key:"inquiryNotifications",title:"Inquiry Notifications",description:"Receive alerts for new project inquiries"},{key:"weeklyReports",title:"Weekly Reports",description:"Get weekly summary reports via email"},{key:"marketingEmails",title:"Marketing Emails",description:"Receive promotional and marketing emails"}].map(S=>r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-slate-900 dark:text-slate-200",children:S.title}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:S.description})]}),r.jsx("button",{onClick:()=>L({...A,[S.key]:!A[S.key]}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${A[S.key]?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${A[S.key]?"translate-x-6":"translate-x-1"}`})})]},S.key))})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsxs("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-4 flex items-center",children:[r.jsx(y0,{className:"h-5 w-5 mr-2"}),"System Notifications"]}),r.jsx("div",{className:"space-y-4",children:[{key:"systemNotifications",title:"System Notifications",description:"Receive system alerts and updates"},{key:"instantAlerts",title:"Instant Alerts",description:"Get real-time notifications for urgent matters"},{key:"soundEnabled",title:"Sound Notifications",description:"Play sound for new notifications"}].map(S=>r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-slate-900 dark:text-slate-200",children:S.title}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:S.description})]}),r.jsx("button",{onClick:()=>L({...A,[S.key]:!A[S.key]}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${A[S.key]?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${A[S.key]?"translate-x-6":"translate-x-1"}`})})]},S.key))})]})]}),u==="security"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-4",children:"Security & Privacy"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Manage your account security and access controls."})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsxs("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-4 flex items-center",children:[r.jsx(w0,{className:"h-5 w-5 mr-2"}),"Change Password"]}),we&&r.jsxs("div",{className:"mb-4 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300 p-3 rounded-lg flex items-center",children:[r.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Password updated successfully!"]}),$&&r.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-3 rounded-lg flex items-center",children:[r.jsx(Ve,{className:"h-4 w-4 mr-2"}),$]}),r.jsxs("form",{onSubmit:he,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Password"}),r.jsx("input",{type:"password",value:M.currentPassword,onChange:S=>V({...M,currentPassword:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter your current password",disabled:q})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"New Password"}),r.jsx("input",{type:"password",value:M.newPassword,onChange:S=>V({...M,newPassword:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter your new password",disabled:q})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Confirm New Password"}),r.jsx("input",{type:"password",value:M.confirmPassword,onChange:S=>V({...M,confirmPassword:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Confirm your new password",disabled:q})]}),r.jsx("button",{type:"submit",disabled:q,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:q?r.jsxs(r.Fragment,{children:[r.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating Password..."]}):r.jsxs(r.Fragment,{children:[r.jsx(w0,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsxs("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-4 flex items-center",children:[r.jsx(ct,{className:"h-5 w-5 mr-2"}),"Change Email Address"]}),r.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[r.jsx("strong",{children:"Current Email:"})," ",n==null?void 0:n.email]})}),U&&r.jsxs("div",{className:"mb-4 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 p-3 rounded-lg flex items-start relative",children:[r.jsx(Ie,{className:"h-5 w-5 mr-3 mt-1 text-blue-600 dark:text-blue-300"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold mb-1",children:"Email address updated!"}),r.jsxs("div",{className:"text-sm",children:["Please check your new email inbox for a confirmation link to verify your new address.",r.jsx("br",{}),r.jsx("span",{className:"font-medium",children:"You must confirm your new email to complete the update."}),r.jsx("br",{}),"If you do not see the email, check your spam or promotions folder."]})]}),r.jsx("button",{onClick:()=>W(!1),className:"absolute top-2 right-2 text-blue-800 dark:text-blue-300 hover:text-blue-600 dark:hover:text-blue-100 text-xs px-2 py-1 rounded focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Dismiss",children:"Dismiss"})]}),ee&&r.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-3 rounded-lg flex items-center",children:[r.jsx(Ve,{className:"h-4 w-4 mr-2"}),ee]}),r.jsxs("form",{onSubmit:T,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"New Email Address"}),r.jsx("input",{type:"email",value:_.newEmail,onChange:S=>O({..._,newEmail:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter your new email address",disabled:N})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Confirm New Email Address"}),r.jsx("input",{type:"email",value:_.confirmEmail,onChange:S=>O({..._,confirmEmail:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Confirm your new email address",disabled:N})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Password (for verification)"}),r.jsx("input",{type:"password",value:_.password,onChange:S=>O({..._,password:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter your current password",disabled:N})]}),r.jsx("button",{type:"submit",disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:N?r.jsxs(r.Fragment,{children:[r.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating Email..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ct,{className:"h-4 w-4 mr-2"}),"Update Email"]})})]})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsxs("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-4 flex items-center",children:[r.jsx(Ro,{className:"h-5 w-5 mr-2"}),"Authentication"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-slate-900 dark:text-slate-200",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Add an extra layer of security to your account"})]}),r.jsx("button",{onClick:()=>B({...I,twoFactorEnabled:!I.twoFactorEnabled}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${I.twoFactorEnabled?"bg-green-600":"bg-slate-200 dark:bg-slate-600"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.twoFactorEnabled?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-slate-900 dark:text-slate-200",children:"Login Alerts"}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Get notified of new login attempts"})]}),r.jsx("button",{onClick:()=>B({...I,loginAlerts:!I.loginAlerts}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${I.loginAlerts?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.loginAlerts?"translate-x-6":"translate-x-1"}`})})]})]})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsxs("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-4 flex items-center",children:[r.jsx(Yr,{className:"h-5 w-5 mr-2"}),"Session Management Password Policy"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Password Expiry (days)"}),r.jsxs("select",{value:I.passwordExpiry,onChange:S=>B({...I,passwordExpiry:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",children:[r.jsx("option",{value:"30",children:"30 days"}),r.jsx("option",{value:"60",children:"60 days"}),r.jsx("option",{value:"90",children:"90 days"}),r.jsx("option",{value:"never",children:"Never"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-slate-900 dark:text-slate-200",children:"Require Strong Password"}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Enforce strong password requirements"})]}),r.jsx("button",{onClick:()=>B({...I,requireStrongPassword:!I.requireStrongPassword}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${I.requireStrongPassword?"bg-blue-600":"bg-slate-200 dark:bg-slate-600"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.requireStrongPassword?"translate-x-6":"translate-x-1"}`})})]})]})]})]}),u==="appearance"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-4",children:"Appearance & Display"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Customize the look and feel of your application."})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsxs("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-4 flex items-center",children:[r.jsx(it,{className:"h-5 w-5 mr-2"}),"Theme Preference"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:()=>{d("light"),document.documentElement.classList.remove("dark")},className:`p-4 rounded-lg border-2 transition-all duration-200 ${c==="light"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}`,children:[r.jsx($c,{className:`h-8 w-8 mx-auto mb-2 ${c==="light"?"text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400"}`}),r.jsxs("div",{className:`font-medium ${c==="light"?"text-blue-700 dark:text-blue-300":"text-slate-900 dark:text-slate-200"}`,children:["Light",c==="light"&&r.jsx(Ie,{className:"inline-block w-4 h-4 ml-2"})]}),r.jsx("p",{className:`text-sm mt-1 ${c==="light"?"text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400"}`,children:"Light theme"})]}),r.jsxs("button",{onClick:()=>{d("dark"),document.documentElement.classList.add("dark")},className:`p-4 rounded-lg border-2 transition-all duration-200 ${c==="dark"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}`,children:[r.jsx(Rc,{className:`h-8 w-8 mx-auto mb-2 ${c==="dark"?"text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400"}`}),r.jsxs("div",{className:`font-medium ${c==="dark"?"text-blue-700 dark:text-blue-300":"text-slate-900 dark:text-slate-200"}`,children:["Dark",c==="dark"&&r.jsx(Ie,{className:"inline-block w-4 h-4 ml-2"})]}),r.jsx("p",{className:`text-sm mt-1 ${c==="dark"?"text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400"}`,children:"Dark theme"})]}),r.jsxs("button",{onClick:()=>{d("system"),document.documentElement.classList.remove("dark")},className:`p-4 rounded-lg border-2 transition-all duration-200 ${c==="system"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}`,children:[r.jsx(Tc,{className:`h-8 w-8 mx-auto mb-2 ${c==="system"?"text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400"}`}),r.jsxs("div",{className:`font-medium ${c==="system"?"text-blue-700 dark:text-blue-300":"text-slate-900 dark:text-slate-200"}`,children:["System",c==="system"&&r.jsx(Ie,{className:"inline-block w-4 h-4 ml-2"})]}),r.jsx("p",{className:`text-sm mt-1 ${c==="system"?"text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400"}`,children:"Follow system preference"})]})]})]}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-4",children:"Display Options"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Font Size"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",children:[r.jsx("option",{value:"small",children:"Small"}),r.jsx("option",{value:"medium",selected:!0,children:"Medium"}),r.jsx("option",{value:"large",children:"Large"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sidebar Width"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",children:[r.jsx("option",{value:"compact",children:"Compact"}),r.jsx("option",{value:"normal",selected:!0,children:"Normal"}),r.jsx("option",{value:"wide",children:"Wide"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-slate-900 dark:text-slate-200",children:"Reduced Motion"}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Minimize animations and transitions"})]}),r.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 bg-slate-200 dark:bg-slate-600",children:r.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform translate-x-1"})})]})]})]})]}),u==="color-palette"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-4",children:"Color Palette"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Choose a color scheme that will be applied to the entire website, similar to how dark/light mode works."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(()=>{const S=Je();return pe.map(re=>re.id==="default"?{...S,id:"default",name:"Default"}:re).map(re=>{const ve=S.id===re.id||re.id==="default"&&S.id!=="default";return r.jsxs("div",{onClick:()=>le(re.id==="default"?S.id:re.id),className:`cursor-pointer rounded-lg border-2 p-4 transition-all duration-200 hover:shadow-md ${ve?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 ring-2 ring-blue-200":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[r.jsx("div",{className:"flex space-x-1 mb-3",children:re.colors.map((R,K)=>r.jsx("div",{className:"w-6 h-6 rounded-full border border-white shadow-sm",style:{backgroundColor:R}},K))}),r.jsxs("div",{children:[r.jsxs("h4",{className:`font-medium mb-1 flex items-center ${ve?"text-blue-700 dark:text-blue-300":"text-slate-900 dark:text-slate-200"}`,children:[re.name,ve&&r.jsx(Ie,{className:"inline-block w-4 h-4 ml-2 text-blue-600"})]}),r.jsx("p",{className:`text-sm ${ve?"text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400"}`,children:re.description})]})]},re.id)})})()}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex space-x-1",children:Je().colors.map((S,Z)=>r.jsx("div",{className:"w-4 h-4 rounded-full border border-white shadow-sm",style:{backgroundColor:S}},Z))}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-slate-900 dark:text-slate-200",children:["Current: ",Je().name]}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:Je().description})]})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>le(e.colorPalette||"default"),className:"px-4 py-2 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-md hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Reset to Current"})})]})]})]}),f&&r.jsxs("div",{className:"fixed bottom-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[r.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving settings..."]})]})})},ij=()=>{const e=T=>{const z=a.find(S=>S.id===T.order_id);let X="";if(z&&z.projectId){const S=n.find(Z=>Z.id===z.projectId);S&&S.title&&(X=S.title)}return!X&&T.project_title&&(X=T.project_title),X||(X="Unknown Project"),X},{user:t}=Nr(),{getProjectDocuments:s,orders:a,projects:n}=rr(),[l,o]=g.useState([]),[i,c]=g.useState(!0),[d,u]=g.useState(!1),[m,f]=g.useState(null),[x,v]=g.useState(null),[y,k]=g.useState("all"),[h,p]=g.useState(""),[b,w]=g.useState(!1),[P,A]=g.useState(""),[L,I]=g.useState(!1),[B,M]=g.useState("acknowledgment"),[V,q]=g.useState(""),[me,we]=g.useState(!1),[Y,$]=g.useState(!1),[D,_]=g.useState(null);g.useEffect(()=>{O(void 0,!0)},[y]);const O=async(T,z)=>{T===!0?u(!0):z||c(!0);try{const X=await ek(y==="all"?void 0:y);o(X)}catch(X){console.error("Error loading requests:",X)}finally{T===!0?u(!1):z||c(!1)}},N=async()=>{try{await O(!0);const T=document.createElement("div");T.className="fixed top-4 right-4 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300",T.textContent="Requests refreshed!",document.body.appendChild(T),setTimeout(()=>{T.style.opacity="0",setTimeout(()=>{document.body.removeChild(T)},300)},3e3)}catch{const z=document.createElement("div");z.className="fixed top-4 right-4 bg-red-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300",z.textContent="Failed to refresh requests.",document.body.appendChild(z),setTimeout(()=>{z.style.opacity="0",setTimeout(()=>{document.body.removeChild(z)},300)},4e3)}},C=l.filter(T=>{var X,S;if(!h)return!0;const z=h.toLowerCase();return T.customer_email.toLowerCase().includes(z)||((X=T.customer_name)==null?void 0:X.toLowerCase().includes(z))||((S=T.project_title)==null?void 0:S.toLowerCase().includes(z))||T.order_id.toLowerCase().includes(z)}),U=T=>{switch(T){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"processing":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},W=T=>{switch(T){case"urgent":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";case"normal":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"low":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},ee=async(T,z,X,S)=>{var Z;if(t!=null&&t.email){v(T.id);try{if(z==="approve"){await xl(T.id,"processing",t.email,"Processing request and generating new download links...");let re=T.order_id,ve,R=null,K=[];if(!re||re==="unknown"?(R=X.filter(se=>se.customerEmail===T.customer_email&&(T.project_title?se.projectTitle===T.project_title:!0)).sort((se,Ce)=>new Date(Ce.createdAt).getTime()-new Date(se.createdAt).getTime())[0],R&&(re=R.id,ve=R.projectId)):(R=X.find(se=>se.id===re),R&&(ve=R.projectId)),ve&&(K=S(ve)),R&&K.length>0){const se=await Zd(K.map(ze=>({id:ze.id,name:ze.name,url:ze.url})),T.customer_email,re,{expirationHours:72,maxDownloads:5,requireEmailVerification:!0}),Ce=se.map(ze=>{const rt=K.find(_r=>_r.id===ze.documentId);return{documentName:ze.documentName,secureUrl:ze.secureUrl,category:(rt==null?void 0:rt.document_category)||"document",review_stage:(rt==null?void 0:rt.review_stage)||"review_1",size:(rt==null?void 0:rt.size)||0}});await Yd({project_title:R.projectTitle||T.project_title||"Project Documents",customer_name:R.customerName||T.customer_name||"Customer",customer_email:T.customer_email,order_id:re,secureDocuments:Ce,expiresAt:((Z=se[0])==null?void 0:Z.expiresAt)||new Date(Date.now()+72*60*60*1e3).toISOString(),maxDownloads:5,...z==="approve"&&P?{admin_message:P}:{}}),await xl(T.id,"completed",t.email,P||`New download links have been generated and sent to your email address. Generated ${se.length} secure links.`,se.length)}else await xl(T.id,"rejected",t.email,R?"No documents found for this order/project. Please check the order details.":"No valid order found for this customer and project.")}else await xl(T.id,"rejected",t.email,P||"Request rejected by admin.");await O(),w(!1),f(null),A("")}catch(re){console.error("Error processing request:",re),alert("Failed to process request. Please try again.")}finally{v(null)}}},ne=(T,z)=>{f(T),w(!0),A(z==="approve"?"New download links have been generated and sent to your email address.":"Your request has been reviewed and unfortunately cannot be processed at this time.")},pe=(T,z)=>{f(T),M(z),I(!0);const X=e(T);q(z==="acknowledgment"?`Dear ${T.customer_name||"Customer"},

Thank you for contacting us regarding your download links for Order ID: ${T.order_id}.

We have received your request and our team is currently reviewing it. Here's what you can expect:

 Request Details:
 Order ID: ${T.order_id}
 Project: ${X}
 Reason: ${T.reason.replace("_"," ").replace(/\b\w/g,S=>S.toUpperCase())}
 Priority: ${T.priority.charAt(0).toUpperCase()+T.priority.slice(1)}

 Timeline:
 Review Time: 24-48 hours
 Response: You'll receive an email once processed
 New Links: If approved, secure download links will be sent

 What's Next:
Our team will verify your order details and generate new secure download links if everything checks out. The new links will be time-limited and personalized for your email address.

If you have any urgent questions, please don't hesitate to contact us.

Best regards,
TechCreator Support Team`:`Dear ${T.customer_name||"Customer"},

Great news! Your download link request has been processed and completed.

 Request Completed:
 Order ID: ${T.order_id}
 Project: ${X}
 Status:  Completed
 Processed: ${new Date().toLocaleDateString()}

 New Secure Download Links:
You should have received a separate email containing your new secure download links. These links are:
 Time-limited (72 hours)
 Email-specific (only work for your email)
 Download-limited (5 downloads per document)
 Fully secure and encrypted

 Next Steps:
1. Check your inbox for the "Secure Documents Ready" email
2. Click the secure download buttons for each document
3. Verify your email address when prompted
4. Download all files before the links expire

 Important Notes:
 Save all files to your computer promptly
 The links expire in 72 hours for security
 Contact us if you need any technical assistance

Thank you for your patience, and we hope you find the project materials helpful!

Best regards,
TechCreator Support Team`)},te=async()=>{if(!(!m||!V.trim())){we(!0);try{const{sendBrevoEmail:T}=await er(async()=>{const{sendBrevoEmail:Z}=await Promise.resolve().then(()=>op);return{sendBrevoEmail:Z}},void 0),z={sender:{name:"TechCreator Support",email:"mohanselenophile@gmail.com"},to:[{email:m.customer_email,name:m.customer_name||"Customer"}],subject:B==="acknowledgment"?` Request Received - ${m.project_title||"Download Links"} (${m.order_id})`:` Request Completed - ${m.project_title||"Download Links"} (${m.order_id})`,htmlContent:`
          <!DOCTYPE html>
          <html>
          <head>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>${B==="acknowledgment"?"Request Received":"Request Completed"} - TechCreator</title>
            <style>
              body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; }
              .container { max-width: 600px; margin: 0 auto; padding: 20px; }
              .header { background: linear-gradient(135deg, ${B==="acknowledgment"?"#3b82f6, #1d4ed8":"#10b981, #059669"}); color: white; padding: 30px; text-align: center; border-radius: 8px 8px 0 0; }
              .content { background: #ffffff; padding: 30px; border: 1px solid #e5e7eb; }
              .footer { background: #f9fafb; padding: 20px; text-align: center; border-radius: 0 0 8px 8px; border: 1px solid #e5e7eb; border-top: none; }
              .message { background: #f8fafc; padding: 20px; border-radius: 8px; margin: 20px 0; white-space: pre-line; }
            </style>
          </head>
          <body>
            <div class="container">
              <div class="header">
                <h1>${B==="acknowledgment"?" Request Received":" Request Completed"}</h1>
                <p>${B==="acknowledgment"?"We're processing your download link request":"Your download links have been processed"}</p>
              </div>
              
              <div class="content">
                <div class="message">
                  ${V.replace(/\n/g,"<br>")}
                </div>
              </div>
              
              <div class="footer">
                <p>&copy; 2025 TechCreator. All rights reserved.</p>
                <p>This is a customer service message regarding your download request.</p>
              </div>
            </div>
          </body>
          </html>
        `,tags:["customer-service",B==="acknowledgment"?"acknowledgment":"completion","download-request"]};console.log(" Sending email via Brevo...",{to:m.customer_email,subject:z.subject,type:B}),await T(z),console.log(" Email sent successfully via Brevo");const X=`${B==="acknowledgment"?"Acknowledgment":"Completion"} email sent successfully to ${m.customer_email}!`,S=document.createElement("div");S.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300",S.textContent=X,document.body.appendChild(S),setTimeout(()=>{S.style.opacity="0",setTimeout(()=>{document.body.removeChild(S)},300)},5e3),I(!1),f(null),q("")}catch(T){console.error(" Error sending email via Brevo:",T);const z=`Failed to send ${B} email: ${T.message||"Unknown error"}`,X=document.createElement("div");X.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300",X.textContent=z,document.body.appendChild(X),setTimeout(()=>{X.style.opacity="0",setTimeout(()=>{document.body.removeChild(X)},300)},7e3)}finally{we(!1)}}},$e=(()=>{const T=l.length,z=l.filter(re=>re.status==="pending").length,X=l.filter(re=>re.status==="processing").length,S=l.filter(re=>re.status==="completed").length,Z=l.filter(re=>re.status==="rejected").length;return{total:T,pending:z,processing:X,completed:S,rejected:Z}})();if(i&&l.length===0)return r.jsx(tr,{children:r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(lt,{className:"h-8 w-8 animate-spin text-blue-600"})})});const ie=T=>{let z="ascending";D&&D.key===T&&D.direction==="ascending"&&(z="descending"),_({key:T,direction:z})},Je=D?[...C].sort((T,z)=>{var Z,re,ve,R,K,se,Ce,ze,rt,_r;let X,S;switch(D.key){case"customer":X=((Z=T.customer_name)==null?void 0:Z.toLowerCase())||"",S=((re=z.customer_name)==null?void 0:re.toLowerCase())||"";break;case"order":X=((ve=T.project_title)==null?void 0:ve.toLowerCase())||"",S=((R=z.project_title)==null?void 0:R.toLowerCase())||"";break;case"reason":X=((K=T.reason)==null?void 0:K.toLowerCase())||"",S=((se=z.reason)==null?void 0:se.toLowerCase())||"";break;case"status":X=((Ce=T.status)==null?void 0:Ce.toLowerCase())||"",S=((ze=z.status)==null?void 0:ze.toLowerCase())||"";break;case"priority":X=((rt=T.priority)==null?void 0:rt.toLowerCase())||"",S=((_r=z.priority)==null?void 0:_r.toLowerCase())||"";break;case"created":X=new Date(T.created_at).getTime(),S=new Date(z.created_at).getTime();break;default:X="",S=""}return X<S?D.direction==="ascending"?-1:1:X>S?D.direction==="ascending"?1:-1:0}):C,he=T=>{if(!T)return"N/A";try{const z=new Date(T);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).format(z)}catch{return"Invalid Date"}};return r.jsx(tr,{children:r.jsxs("div",{className:"px-4 sm:px-6 py-8 dark:bg-gray-900 min-h-screen",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200",children:"Download Link Requests"}),r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage customer requests for new download links when their original links expire"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-blue-300 dark:from-blue-900 dark:to-blue-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Tn,{className:"h-8 w-8 text-blue-700 dark:text-blue-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Total Requests"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-200",children:$e.total})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-yellow-300 dark:from-yellow-900 dark:to-yellow-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Yr,{className:"h-8 w-8 text-yellow-700 dark:text-yellow-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-200",children:$e.pending})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-cyan-100 to-cyan-300 dark:from-cyan-900 dark:to-cyan-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(gs,{className:"h-8 w-8 text-cyan-700 dark:text-cyan-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-cyan-700 dark:text-cyan-300",children:"Processing"}),r.jsx("p",{className:"text-2xl font-bold text-cyan-900 dark:text-cyan-200",children:$e.processing})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-100 to-green-300 dark:from-green-900 dark:to-green-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ie,{className:"h-8 w-8 text-green-700 dark:text-green-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-green-900 dark:text-green-200",children:$e.completed})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-red-100 to-red-300 dark:from-red-900 dark:to-red-700 rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Dt,{className:"h-8 w-8 text-red-700 dark:text-red-300"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Rejected"}),r.jsx("p",{className:"text-2xl font-bold text-red-900 dark:text-red-200",children:$e.rejected})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[r.jsx("div",{className:"flex-1 flex items-center",children:r.jsxs("div",{className:"relative w-full",children:[r.jsx(Do,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-blue-500 dark:text-blue-400"}),r.jsx("input",{type:"text",placeholder:"Search requests...",value:h,onChange:T=>p(T.target.value),className:"pl-10 pr-4 py-2 border border-blue-300 dark:border-blue-700 rounded-md bg-blue-50 dark:bg-blue-900/20 text-slate-900 dark:text-slate-200 w-full focus:ring-2 focus:ring-blue-500 transition-colors duration-200 placeholder:text-blue-500 dark:placeholder:text-blue-400"})]})}),r.jsxs("div",{className:"relative min-w-[170px] w-full md:w-auto",children:[r.jsxs("button",{type:"button",className:"pl-8 pr-8 py-2 border border-slate-300 dark:border-slate-700 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-200 w-full flex items-center justify-between focus:ring-2 focus:ring-blue-500 transition-colors duration-200 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>$(T=>!T),"aria-haspopup":"listbox","aria-expanded":Y?"true":"false",id:"filterStatusDropdown",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(wa,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400 pointer-events-none"}),r.jsxs("span",{className:y==="all"||y==="pending"||y==="processing"||y==="completed"||y==="rejected"?"text-blue-600 font-bold":"",children:[y==="all"&&"All Requests",y==="pending"&&"Pending",y==="processing"&&"Processing",y==="completed"&&"Completed",y==="rejected"&&"Rejected"]})]}),r.jsx(Ne,{className:"h-4 w-4 text-slate-400 ml-2"})]}),Y&&r.jsx("ul",{className:"absolute left-0 mt-2 w-full z-10 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-700 rounded-md shadow-lg py-1",role:"listbox","aria-labelledby":"filterStatusDropdown",tabIndex:-1,children:[{value:"all",label:"All Requests"},{value:"pending",label:"Pending"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"rejected",label:"Rejected"}].map(T=>r.jsx("li",{role:"option","aria-selected":y===T.value?"true":"false",tabIndex:0,onClick:()=>{k(T.value),$(!1)},onKeyDown:z=>{(z.key==="Enter"||z.key===" ")&&(k(T.value),$(!1))},className:"cursor-pointer px-8 py-2 flex items-center transition-colors duration-150 "+(y===T.value?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 font-bold":"hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600"),children:T.label},T.value))})]}),r.jsx("div",{className:"flex items-center justify-end",children:r.jsx("button",{onClick:N,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-md flex items-center gap-2 transition-colors duration-200 hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed",style:{minWidth:"110px"},children:d?r.jsxs("span",{className:"flex items-center",children:[r.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),r.jsx("span",{children:"Refreshing..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(gs,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:"Refresh"})]})})})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm overflow-hidden",children:Je.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(js,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-2",children:"No download requests found"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:h?"Try adjusting your search criteria.":"No customers have requested new download links yet."})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[r.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>ie("customer"),children:r.jsxs("div",{className:"flex items-center",children:["Customer",(D==null?void 0:D.key)==="customer"&&(D.direction==="ascending"?r.jsx(Ne,{className:"ml-1 h-4 w-4"}):r.jsx(Dr,{className:"ml-1 h-4 w-4"}))]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>ie("order"),children:r.jsxs("div",{className:"flex items-center",children:["Order Details",(D==null?void 0:D.key)==="order"&&(D.direction==="ascending"?r.jsx(Ne,{className:"ml-1 h-4 w-4"}):r.jsx(Dr,{className:"ml-1 h-4 w-4"}))]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>ie("reason"),children:r.jsxs("div",{className:"flex items-center",children:["Reason",(D==null?void 0:D.key)==="reason"&&(D.direction==="ascending"?r.jsx(Ne,{className:"ml-1 h-4 w-4"}):r.jsx(Dr,{className:"ml-1 h-4 w-4"}))]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>ie("status"),children:r.jsxs("div",{className:"flex items-center",children:["Status",(D==null?void 0:D.key)==="status"&&(D.direction==="ascending"?r.jsx(Ne,{className:"ml-1 h-4 w-4"}):r.jsx(Dr,{className:"ml-1 h-4 w-4"}))]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>ie("priority"),children:r.jsxs("div",{className:"flex items-center",children:["Priority",(D==null?void 0:D.key)==="priority"&&(D.direction==="ascending"?r.jsx(Ne,{className:"ml-1 h-4 w-4"}):r.jsx(Dr,{className:"ml-1 h-4 w-4"}))]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>ie("created"),children:r.jsxs("div",{className:"flex items-center",children:["Created",(D==null?void 0:D.key)==="created"&&(D.direction==="ascending"?r.jsx(Ne,{className:"ml-1 h-4 w-4"}):r.jsx(Dr,{className:"ml-1 h-4 w-4"}))]})}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:Je.map(T=>r.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ns,{className:"h-8 w-8 text-slate-400 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-200",children:T.customer_name||"Unknown"}),r.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400 flex items-center gap-1 mt-1",children:[r.jsx(ct,{className:"inline h-4 w-4 mr-1 text-blue-600 dark:text-blue-400"}),r.jsx("a",{href:`mailto:${T.customer_email}`,className:"hover:underline",children:T.customer_email})]}),r.jsxs("div",{className:"text-sm text-slate-400 dark:text-slate-500 flex items-center gap-1 mt-1",children:[r.jsx(Rn,{className:"inline h-4 w-4 mr-1 text-green-600 dark:text-green-400"}),T.customer_phone?T.customer_phone:(()=>{const z=a.find(X=>X.id===T.order_id);return(z==null?void 0:z.customer_phone)||(z==null?void 0:z.customerPhone)||"N/A"})()]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm text-slate-900 dark:text-slate-200",children:[(()=>{const z=e(T);return z.length>28?r.jsxs("div",{className:"relative",children:[r.jsxs("button",{type:"button",className:"font-medium text-left w-full truncate pr-8",onClick:X=>{const Z=X.currentTarget.nextSibling;Z&&Z.classList.toggle("hidden")},style:{maxWidth:"180px"},children:[z.slice(0,28),"...",r.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400",children:""})]}),r.jsx("div",{className:"hidden absolute left-0 mt-2 z-10 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-700 rounded-md shadow-lg p-2 w-64",style:{whiteSpace:"pre-line",wordBreak:"break-word",lineHeight:"1.5",textAlign:"left"},children:r.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-200 py-1",children:z})})]}):r.jsx("div",{className:"font-medium",children:z})})(),r.jsxs("div",{className:"text-slate-500 dark:text-slate-400",children:["Order: ",T.order_id]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-200",children:T.reason.replace("_"," ").replace(/\b\w/g,z=>z.toUpperCase())}),T.customer_message&&r.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 max-w-xs truncate",children:T.customer_message})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${U(T.status)}`,children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${W(T.priority)}`,children:T.priority.charAt(0).toUpperCase()+T.priority.slice(1)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fn,{className:"h-4 w-4 mr-1"}),he(T.created_at)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[T.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>ne(T,"approve"),disabled:x===T.id,className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 disabled:opacity-50",title:"Approve and send new links",children:r.jsx(Ie,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>ne(T,"reject"),disabled:x===T.id,className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50",title:"Reject request",children:r.jsx(Dt,{className:"h-5 w-5"})})]}),r.jsx("button",{onClick:()=>pe(T,"acknowledgment"),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Send acknowledgment email",children:r.jsx(oo,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>pe(T,"completion"),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",title:"Send completion email",children:r.jsx(io,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>f(T),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"View details",children:r.jsx(it,{className:"h-5 w-5"})})]})})]},T.id))})]})})}),b&&m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-200 mb-4",children:P.includes("generated")?"Approve Request":"Reject Request"}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:["Customer: ",m.customer_name," (",m.customer_email,")"]}),r.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:["Order: ",m.order_id]}),r.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Project: ",e(m)]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Response Message"}),r.jsx("textarea",{value:P,onChange:T=>A(T.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter a message for the customer..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{w(!1),f(null),A("")},className:"px-4 py-2 border border-slate-300 dark:border-slate-700 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancel"}),r.jsx("button",{onClick:()=>ee(m,P.includes("generated")?"approve":"reject",a,s),disabled:x===m.id,className:`px-4 py-2 rounded-md text-white flex items-center ${P.includes("generated")?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} disabled:opacity-50`,children:x===m.id?r.jsxs(r.Fragment,{children:[r.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):r.jsx(r.Fragment,{children:P.includes("generated")?r.jsxs(r.Fragment,{children:[r.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Approve & Send Links"]}):r.jsxs(r.Fragment,{children:[r.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Reject Request"]})})})]})]})})}),L&&m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:B==="acknowledgment"?r.jsxs(r.Fragment,{children:[r.jsx(oo,{className:"h-6 w-6 inline mr-2 text-blue-600"}),"Send Acknowledgment Email"]}):r.jsxs(r.Fragment,{children:[r.jsx(io,{className:"h-6 w-6 inline mr-2 text-green-600"}),"Send Completion Email"]})}),r.jsx("button",{onClick:()=>{I(!1),f(null),q("")},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:r.jsx(Dt,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-2",children:"Sending to:"}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Name:"})," ",m.customer_name||"Customer"]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Email:"})," ",m.customer_email]}),m.customer_phone&&r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Phone:"})," ",m.customer_phone]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Order:"})," ",m.order_id]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Project:"})," ",e(m)]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email Subject (Preview)"}),r.jsx("div",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-md text-sm text-slate-700 dark:text-slate-300",children:B==="acknowledgment"?` Request Received - ${m.project_title||"Download Links"} (${m.order_id})`:` Request Completed - ${m.project_title||"Download Links"} (${m.order_id})`})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email Message"}),r.jsx("textarea",{value:V,onChange:T=>q(T.target.value),rows:15,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 font-mono text-sm",placeholder:"Enter your email message..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{I(!1),f(null),q("")},className:"px-4 py-2 border border-slate-300 dark:border-slate-700 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancel"}),r.jsx("button",{onClick:te,disabled:me||!V.trim(),className:`px-4 py-2 rounded-md text-white flex items-center ${B==="acknowledgment"?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700"} disabled:opacity-50`,children:me?r.jsxs(r.Fragment,{children:[r.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Send ",B==="acknowledgment"?"Acknowledgment":"Completion"," Email"]})})]})]})})}),m&&!b&&!L&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200",children:"Request Details"}),r.jsx("button",{onClick:()=>f(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:r.jsx(Dt,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-2",children:"Customer Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Name:"})," ",m.customer_name||"Not provided"]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Email:"})," ",m.customer_email]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Phone:"})," ",m.customer_phone?m.customer_phone:(()=>{const T=a.find(z=>z.id===m.order_id);return(T==null?void 0:T.customer_phone)||(T==null?void 0:T.customerPhone)||"N/A"})()]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-2",children:"Order Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Order ID:"})," ",m.order_id]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Project:"})," ",e(m)]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-2",children:"Project Details"}),r.jsx("div",{className:"space-y-2 text-sm",children:(()=>{const T=a.find(X=>X.id===m.order_id);let z=null;return T&&T.projectId&&(z=n.find(X=>X.id===T.projectId)),z?r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Title:"})," ",z.title]}),z.description&&r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Description:"})," ",z.description]}),z.category&&r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Category:"})," ",z.category]}),z.created_at&&r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Created:"})," ",new Date(z.created_at).toLocaleString()]})]}):m.project_title?r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Title:"})," ",m.project_title]}):r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No project details found."})})()})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-2",children:"Request Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Reason:"})," ",m.reason.replace("_"," ").replace(/\b\w/g,T=>T.toUpperCase())]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Priority:"}),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-semibold rounded-full ${W(m.priority)}`,children:m.priority.charAt(0).toUpperCase()+m.priority.slice(1)})]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Status:"}),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-semibold rounded-full ${U(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Created:"})," ",he(m.created_at)]}),m.processed_at&&r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Processed:"})," ",he(m.processed_at)]})]})]}),m.customer_message&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-2",children:"Customer Message"}),r.jsx("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:m.customer_message})})]}),m.admin_notes&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-2",children:"Admin Notes"}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:m.admin_notes})})]}),m.processed_by&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-2",children:"Processing Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Processed by:"})," ",m.processed_by]}),m.new_links_sent_at&&r.jsxs("p",{children:[r.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Links sent:"})," ",new Date(m.new_links_sent_at).toLocaleString()]})]})]})]}),m.status==="pending"&&r.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[r.jsx("button",{onClick:()=>ne(m,"reject"),className:"px-4 py-2 border border-red-300 text-red-700 rounded-md hover:bg-red-50 dark:border-red-700 dark:text-red-400 dark:hover:bg-red-900/20",children:"Reject Request"}),r.jsx("button",{onClick:()=>ne(m,"approve"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Approve & Send Links"})]})]})})})]})})},cj=({isOpen:e,onClose:t,newEmail:s,currentEmail:a,onResendEmail:n,onCancelRequest:l,isResending:o=!1})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-full mr-3",children:r.jsx(ct,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-200",children:"Confirm Your Email Change"})]}),r.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:r.jsx(Qe,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ie,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-3 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-800 dark:text-blue-300 font-medium mb-2",children:"We've sent a verification link to:"}),r.jsx("p",{className:"text-blue-900 dark:text-blue-200 font-semibold bg-blue-100 dark:bg-blue-800 px-3 py-2 rounded-md",children:s})]})]})}),r.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-300 mb-3",children:"Important:"}),r.jsxs("ol",{className:"text-sm text-amber-700 dark:text-amber-400 space-y-2 list-decimal list-inside",children:[r.jsx("li",{children:"Check your inbox (and spam folder) for a verification email"}),r.jsx("li",{children:'Click "Confirm your new email" in that email to complete the change.'}),r.jsx("li",{children:"After clicking the verification link, you'll be automatically signed out from all devices and browsers for security."}),r.jsx("li",{children:"Return to the login page and use your new email address to sign in."}),r.jsx("li",{children:"If the verification link doesn't work, try logging in with your new email directly."})]})]}),r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ve,{className:"h-4 w-4 text-red-600 dark:text-red-400 mr-2 mt-0.5"}),r.jsxs("div",{className:"text-sm text-red-700 dark:text-red-400",children:[r.jsx("p",{className:"font-medium mb-1",children:" Security Notice:"}),r.jsx("p",{children:"After clicking the verification link in your email, you will be automatically signed out from all devices and browsers for security. This ensures no old sessions can access your account with the new email."})]})]})}),r.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200 mb-3",children:"Until you verify:"}),r.jsxs("ul",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-2",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-slate-400 mr-2",children:""}),r.jsxs("span",{children:["Your login email remains"," ",r.jsx("code",{className:"bg-slate-200 dark:bg-slate-600 px-2 py-1 rounded text-xs",children:a})]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Yr,{className:"h-4 w-4 text-amber-500 mr-2 mt-0.5"}),r.jsxs("span",{children:["The verification link expires in ",r.jsx("strong",{children:"10 minutes"}),". Click it to complete the email change and trigger the security logout."]})]})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[r.jsx("button",{onClick:n,disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o?r.jsxs(r.Fragment,{children:[r.jsx(gs,{className:"h-4 w-4 mr-2 animate-spin"}),"Resending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ct,{className:"h-4 w-4 mr-2"}),"Resend Email"]})}),r.jsx("button",{onClick:l,className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-md hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancel Request"})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Having trouble? Check your spam folder or contact support if the email doesn't arrive."})})]})})}):null,dj=async(e,t)=>{var s;try{console.log(" Initiating email change process..."),console.log(" New email:",e);const{data:a}=await G.auth.getUser();if(!((s=a.user)!=null&&s.email))return console.log(" No user logged in"),{success:!1,error:"No user logged in"};console.log(" Current user email:",a.user.email);const{error:n}=await G.auth.signInWithPassword({email:a.user.email,password:t});if(n)return console.log(" Password verification failed:",n.message),{success:!1,error:"Current password is incorrect"};console.log(" Password verified, updating email...");const l=`${window.location.origin}/admin/login/verify-email-change`;console.log(" Redirect URL:",l);const{error:o}=await G.auth.updateUser({email:e,options:{emailRedirectTo:l}});return o?(console.log(" Email update failed:",o.message),{success:!1,error:o.message}):(console.log(" Email change initiated successfully"),console.log(" Note: After clicking the verification link in your email, all sessions will be signed out globally for security"),{success:!0,requiresConfirmation:!0})}catch(a){return console.error(" Email change error:",a),{success:!1,error:a instanceof Error?a.message:"Failed to update email"}}},uj=async e=>{try{console.log(" Resending email change confirmation..."),console.log(" Email:",e);const t=`${window.location.origin}/admin/login/verify-email-change`;console.log(" Redirect URL:",t);const{error:s}=await G.auth.updateUser({email:e,options:{emailRedirectTo:t}});return s?(console.log(" Resend failed:",s.message),{success:!1,error:s.message}):(console.log(" Confirmation email resent successfully"),{success:!0})}catch(t){return console.error(" Resend email error:",t),{success:!1,error:t instanceof Error?t.message:"Failed to resend email"}}},mj=()=>{const[e,t]=g.useState(!1),[s,a]=g.useState(!1),[n,l]=g.useState(!1),[o,i]=g.useState(""),[c,d]=g.useState("");return{isChanging:e,isResending:s,showConfirmationModal:n,pendingEmail:o,currentEmail:c,handleEmailChange:async(v,y,k)=>{t(!0);try{const h=await dj(v,y);return h.success&&h.requiresConfirmation&&(i(v),d(k),l(!0)),h}finally{t(!1)}},handleResendEmail:async()=>{if(o){a(!0);try{await uj(o)}catch(v){console.error("Failed to resend email:",v)}finally{a(!1)}}},handleCancelRequest:()=>{l(!1),i(""),d("")},closeModal:()=>{l(!1)}}},hj=()=>{const{user:e}=Nr(),[t,s]=g.useState(""),[a,n]=g.useState(""),[l,o]=g.useState(!1),[i,c]=g.useState(""),{isChanging:d,isResending:u,showConfirmationModal:m,pendingEmail:f,currentEmail:x,handleEmailChange:v,handleResendEmail:y,handleCancelRequest:k,closeModal:h}=mj(),p=async b=>{if(b.preventDefault(),c(""),!t||!a){c("Please fill in all fields");return}if(!(e!=null&&e.email)){c("No user logged in");return}const w=await v(t,a,e.email);w.success?w.requiresConfirmation&&(s(""),n("")):c(w.error||"Failed to update email")};return r.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white dark:bg-slate-800 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-200 mb-6",children:"Change Email Address"}),r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 p-3 rounded-lg text-sm",children:i}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Current Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),r.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"w-full pl-10 pr-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"New Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),r.jsx("input",{type:"email",value:t,onChange:b=>s(b.target.value),className:"w-full pl-10 pr-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter new email address",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ro,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),r.jsx("input",{type:l?"text":"password",value:a,onChange:b=>n(b.target.value),className:"w-full pl-10 pr-10 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter current password",required:!0}),r.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:l?r.jsx(vf,{className:"h-4 w-4"}):r.jsx(it,{className:"h-4 w-4"})})]})]}),r.jsx("button",{type:"submit",disabled:d,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating Email..."]}):"Update Email"})]}),r.jsx(cj,{isOpen:m,onClose:h,newEmail:f,currentEmail:x,onResendEmail:y,onCancelRequest:k,isResending:u})]})},fj=()=>r.jsx(tr,{children:r.jsxs("div",{className:"px-4 sm:px-6 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200",children:"Email Change Example"}),r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Example implementation of email change with confirmation modal"})]}),r.jsx(hj,{})]})}),pj=()=>{const[e,t]=g.useState([]),[s,a]=g.useState(!0),[n,l]=g.useState(null);return g.useEffect(()=>{(async()=>{a(!0);const{data:i,error:c}=await G.from("email_change_audit").select("*").order("changed_at",{ascending:!1});c?l(c.message):t(i||[]),a(!1)})()},[]),r.jsx(tr,{children:r.jsxs("div",{className:"px-4 sm:px-6 py-8 dark:bg-gray-900 min-h-screen",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Email Change Audit"}),s?r.jsx("div",{children:"Loading..."}):n?r.jsx("div",{className:"text-red-500",children:n}):r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2",children:"User ID"}),r.jsx("th",{className:"px-4 py-2",children:"Old Email"}),r.jsx("th",{className:"px-4 py-2",children:"New Email"}),r.jsx("th",{className:"px-4 py-2",children:"Changed At"}),r.jsx("th",{className:"px-4 py-2",children:"IP Address"})]})}),r.jsx("tbody",{children:e.map(o=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[r.jsx("td",{className:"px-4 py-2",children:o.user_id}),r.jsx("td",{className:"px-4 py-2",children:o.old_email}),r.jsx("td",{className:"px-4 py-2",children:o.new_email}),r.jsx("td",{className:"px-4 py-2",children:new Date(o.changed_at).toLocaleString()}),r.jsx("td",{className:"px-4 py-2",children:o.ip_address})]},o.id))})]}),e.length===0&&r.jsx("div",{className:"text-gray-500 mt-4",children:"No records found."})]})]})})},xj=()=>{const[e,t]=g.useState([]),[s,a]=g.useState(!0),[n,l]=g.useState(null);return g.useEffect(()=>{(async()=>{a(!0);const{data:i,error:c}=await G.from("payments").select("*").order("created_at",{ascending:!1});c?l(c.message):t(i||[]),a(!1)})()},[]),r.jsx(tr,{children:r.jsxs("div",{className:"px-4 sm:px-6 py-8 dark:bg-gray-900 min-h-screen",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Payments"}),s?r.jsx("div",{children:"Loading..."}):n?r.jsx("div",{className:"text-red-500",children:n}):r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2",children:"Order ID"}),r.jsx("th",{className:"px-4 py-2",children:"Payment ID"}),r.jsx("th",{className:"px-4 py-2",children:"Amount"}),r.jsx("th",{className:"px-4 py-2",children:"Project ID"}),r.jsx("th",{className:"px-4 py-2",children:"Customer Name"}),r.jsx("th",{className:"px-4 py-2",children:"Customer Email"}),r.jsx("th",{className:"px-4 py-2",children:"Status"}),r.jsx("th",{className:"px-4 py-2",children:"Created At"}),r.jsx("th",{className:"px-4 py-2",children:"Updated At"}),r.jsx("th",{className:"px-4 py-2",children:"User Agent"})]})}),r.jsx("tbody",{children:e.map(o=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[r.jsx("td",{className:"px-4 py-2",children:o.order_id}),r.jsx("td",{className:"px-4 py-2",children:o.payment_id}),r.jsx("td",{className:"px-4 py-2",children:o.amount}),r.jsx("td",{className:"px-4 py-2",children:o.project_id}),r.jsx("td",{className:"px-4 py-2",children:o.customer_name}),r.jsx("td",{className:"px-4 py-2",children:o.customer_email}),r.jsx("td",{className:"px-4 py-2",children:o.status}),r.jsx("td",{className:"px-4 py-2",children:new Date(o.created_at).toLocaleString()}),r.jsx("td",{className:"px-4 py-2",children:new Date(o.updated_at).toLocaleString()}),r.jsx("td",{className:"px-4 py-2",children:o.user_agent})]},o.id))})]}),e.length===0&&r.jsx("div",{className:"text-gray-500 mt-4",children:"No records found."})]})]})})},gj=()=>{const[e]=To(),t=Cs(),[s,a]=g.useState("verifying"),[n,l]=g.useState(""),[o,i]=g.useState(""),c=async()=>{try{console.log(" Signing out all sessions across devices...");const{error:d}=await G.auth.signOut({scope:"global"});d?console.error(" Error signing out all sessions:",d):console.log(" Successfully signed out all sessions globally")}catch(d){console.error(" Error during global sign out:",d)}};return g.useEffect(()=>{(async()=>{try{const u=e.get("token")||e.get("token_hash"),m=e.get("email"),f=e.get("type")||"email_change";if(console.log(" Email verification parameters:",{token:u?`${u.substring(0,8)}...`:"missing",email:m?decodeURIComponent(m):"missing",type:f,fullUrl:window.location.href}),!u){a("error"),l("Invalid verification link. No verification token provided.");return}if(m){const k=decodeURIComponent(m);i(k),console.log(" New email from URL:",k)}let x;u.length===6&&/^\d+$/.test(u)?(console.log(" Attempting OTP verification with 6-digit token"),x=await G.auth.verifyOtp({token:u,type:"email_change",email:m?decodeURIComponent(m):void 0})):(console.log(" Attempting hash token verification"),x=await G.auth.verifyOtp({token_hash:u,type:"email_change"}));const{data:v,error:y}=x;if(y){console.error(" Email verification error:",y),y.message.includes("expired")?(a("error"),l("The verification link has expired (10 minutes). Please request a new email change from your admin settings.")):y.message.includes("invalid")||y.message.includes("not found")?(a("error"),l("Invalid verification link. The link may have already been used or is incorrect.")):(a("error"),l(`Verification failed: ${y.message}. Please try logging in with your new email address directly.`));return}if(v.user){console.log(" Email verification successful:",v.user.email);try{await Dk({user_id:v.user.id,old_email:m?decodeURIComponent(m):"",new_email:v.user.email,changed_at:new Date().toISOString(),ip_address:null,user_agent:navigator.userAgent||""}),console.log(" Email change audit record inserted")}catch(k){console.error(" Failed to insert email change audit record:",k),alert("Failed to insert email change audit record: "+((k==null?void 0:k.message)||k))}console.log(" Email verification successful! Now signing out all sessions across all devices for security..."),await c(),a("success"),l("Your email has been successfully verified and changed! For security, you have been signed out from all devices and browsers."),i(v.user.email||m?decodeURIComponent(m):""),setTimeout(()=>{t(`/admin/login?email_changed=1&new_email=${encodeURIComponent(v.user.email||m?decodeURIComponent(m):"")}`)},3e3)}else console.log(" Verification completed but no user data returned"),console.log(" Email verification completed, signing out all sessions for security..."),await c(),a("success"),l("Email verification completed successfully. For security, you have been signed out from all devices and browsers. Please log in with your new email address."),setTimeout(()=>{const k=o||(m?decodeURIComponent(m):"");t(`/admin/login?email_changed=1${k?`&new_email=${encodeURIComponent(k)}`:""}`)},3e3)}catch(u){console.error(" Verification error:",u),a("error"),l(`An unexpected error occurred: ${u.message||"Unknown error"}. Please try logging in with your new email address.`)}})()},[e,t]),r.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 pt-24 pb-16 flex items-center justify-center",children:r.jsx("div",{className:"max-w-md w-full mx-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md overflow-hidden",children:[r.jsxs("div",{className:`p-6 text-white text-center ${s==="success"?"bg-green-600":s==="error"?"bg-red-600":"bg-blue-600"}`,children:[r.jsxs("div",{className:"flex justify-center mb-4",children:[s==="verifying"&&r.jsx(lt,{className:"h-12 w-12 animate-spin"}),s==="success"&&r.jsx(Ie,{className:"h-12 w-12"}),s==="error"&&r.jsx(Dt,{className:"h-12 w-12"})]}),r.jsxs("h1",{className:"text-2xl font-bold",children:[s==="verifying"&&"Verifying Email Change",s==="success"&&"Email Changed Successfully",s==="error"&&"Verification Failed"]})]}),r.jsxs("div",{className:"p-8",children:[s==="verifying"&&r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Please wait while we verify your email change..."}),r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-3/4 mx-auto mb-2"}),r.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2 mx-auto"})]})]}),s==="success"&&r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(ct,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),r.jsx("span",{className:"font-medium text-green-800 dark:text-green-300",children:"Email Successfully Updated"})]}),o&&r.jsxs("p",{className:"text-green-700 dark:text-green-400 text-sm",children:["Your new email address: ",r.jsx("strong",{children:o})]})]}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:n}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ve,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[r.jsx("p",{className:"font-medium mb-1",children:"Next Steps:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"You'll be redirected to the login page automatically"}),r.jsx("li",{children:"Use your new email address to log in"}),r.jsx("li",{children:"Your password remains the same"})]})]})]})}),r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Redirecting to login page in a few seconds..."})]}),s==="error"&&r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:[r.jsx("p",{className:"text-red-800 dark:text-red-300 font-medium mb-2",children:"Verification Failed"}),r.jsx("p",{className:"text-red-700 dark:text-red-400 text-sm",children:n})]}),r.jsx("div",{className:"space-y-3",children:r.jsx("button",{onClick:()=>{t("/admin/login?verification_failed=1")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Login Page"})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Please use the button above to go to the login page and try again."})})]})]})]})})})},bj=()=>{var D,_,O,N,C,U,W,ee,ne,pe;const{token:e}=Vd(),[t]=To(),s=t.get("email"),[a,n]=g.useState(s||""),[l,o]=g.useState(!1),[i,c]=g.useState(!1),[d,u]=g.useState(null),[m,f]=g.useState(),[x,v]=g.useState(!s),[y,k]=g.useState(""),[h,p]=g.useState(!1),[b,w]=g.useState(!1),[P,A]=g.useState({customerName:"",orderId:"",reason:"expired_links",message:""}),[L,I]=g.useState(!1),[B,M]=g.useState(!1);g.useEffect(()=>{Xw().then(f)},[]),g.useEffect(()=>{e&&s&&ir(s)&&!d&&q()},[e,s]),g.useEffect(()=>{var te;(te=d==null?void 0:d.tokenData)!=null&&te.order_id&&A(ke=>({...ke,orderId:d.tokenData.order_id}))},[d]);const V=te=>{const ke=te.target.value;n(ke),y&&k(""),ke&&!ir(ke)&&k("Please enter a valid email address")},q=async()=>{var te;if(!e){u({valid:!1,reason:"No download token provided in the URL"});return}if(!a){k("Email address is required");return}if(!ir(a)){k("Please enter a valid email address");return}o(!0),u(null),k("");try{console.log(" Starting verification process..."),console.log(" Token:",e),console.log(" Email:",a);const ke=await Qw(e,a,m,navigator.userAgent);console.log(" Verification result:",ke),u(ke),ke.valid||(v(!0),(te=ke.reason)!=null&&te.includes("expired")&&w(!0))}catch(ke){console.error(" Error verifying access:",ke),u({valid:!1,reason:"A system error occurred while verifying your access. Please try again."})}finally{o(!1)}},me=async()=>{if(!(!(d!=null&&d.valid)||!d.document)){c(!0);try{console.log(" Starting download..."),console.log(" Document:",d.document);const te=document.createElement("a");te.href=d.document.url,te.download=d.document.name,te.target="_blank",te.rel="noopener noreferrer",document.body.appendChild(te),te.click(),document.body.removeChild(te),p(!0),setTimeout(()=>p(!1),5e3),console.log(" Download initiated successfully")}catch(te){console.error(" Error downloading file:",te),alert("Failed to download the file. Please try again or contact support.")}finally{c(!1)}}},we=async te=>{var ke;if(te.preventDefault(),!a||!ir(a)){k("Please enter a valid email address");return}I(!0);try{const $e=P.orderId||((ke=d==null?void 0:d.tokenData)==null?void 0:ke.order_id)||"unknown";await Zw($e,a,P.customerName||void 0,"Project Documents",P.reason,P.message||void 0,e)?(M(!0),w(!1),setTimeout(()=>M(!1),1e4)):alert("Failed to submit request. Please contact support directly.")}catch($e){console.error("Error submitting request:",$e),alert("Failed to submit request. Please contact support directly.")}finally{I(!1)}},Y=te=>{navigator.clipboard.writeText(te).then(()=>{console.log("Copied to clipboard:",te)})},$=te=>{const ke=new Date(te),$e=new Date,ie=ke.getTime()-$e.getTime();if(ie<=0)return"Expired";const le=Math.floor(ie/(1e3*60*60)),Je=Math.floor(ie%(1e3*60*60)/(1e3*60));return le>0?`${le}h ${Je}m remaining`:`${Je}m remaining`};return r.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 pt-24 pb-16",children:r.jsx("div",{className:"container mx-auto px-4 md:px-6 max-w-2xl",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full mb-4",children:r.jsx(aa,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-200 mb-2",children:"Secure Document Download"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Verify your email to access your purchased documents"})]}),B&&r.jsx("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ie,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-3 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-green-800 dark:text-green-300",children:"Request Submitted Successfully!"}),r.jsx("p",{className:"text-green-700 dark:text-green-400 text-sm mt-1",children:"Your request for new download links has been submitted. Our team will review it and send you new links within 24 hours."})]})]})}),x&&!(d!=null&&d.valid)&&r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email Address *"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"email",id:"email",value:a,onChange:V,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200 ${y?"border-red-300 dark:border-red-700":"border-slate-300 dark:border-slate-700"}`,placeholder:"Enter your email address",disabled:l}),r.jsx(ct,{className:"absolute right-3 top-2.5 h-5 w-5 text-slate-400"})]}),y&&r.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center",children:[r.jsx(Ve,{className:"h-4 w-4 mr-1"}),y]}),r.jsx("button",{onClick:q,disabled:!a||l||!!y,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l?r.jsxs(r.Fragment,{children:[r.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Verifying..."]}):r.jsxs(r.Fragment,{children:[r.jsx(aa,{className:"h-4 w-4 mr-2"}),"Verify Access"]})})]}),r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Enter the email address used for your purchase"})]}),d&&r.jsx("div",{className:"mb-6",children:d.valid?r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ie,{className:"h-6 w-6 text-green-600 dark:text-green-400 mr-3 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-medium text-green-800 dark:text-green-300 mb-2",children:" Access Verified Successfully"}),h&&r.jsx("div",{className:"mb-4 p-3 bg-green-100 dark:bg-green-800 rounded-lg",children:r.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm font-medium",children:" Download started successfully! Check your downloads folder."})}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 mb-4 border border-green-200 dark:border-green-700",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(Me,{className:"h-6 w-6 text-blue-600 dark:text-blue-400 mr-3"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-200",children:d.document.name}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-500 dark:text-slate-400 mt-1",children:[r.jsxs("span",{children:["Size: ",mo(d.document.size)]}),r.jsx("span",{children:""}),r.jsx("span",{className:"capitalize",children:d.document.document_category}),r.jsx("span",{children:""}),r.jsx("span",{className:"capitalize",children:(D=d.document.review_stage)==null?void 0:D.replace("_"," ")})]})]}),r.jsx("button",{onClick:()=>Y(d.document.url),className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",title:"Copy download URL",children:r.jsx(no,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:me,disabled:i,className:"flex-1 flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?r.jsxs(r.Fragment,{children:[r.jsx(lt,{className:"h-5 w-5 mr-2 animate-spin"}),"Downloading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(js,{className:"h-5 w-5 mr-2"}),"Download Document"]})}),r.jsx("a",{href:d.document.url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-3 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors flex items-center",title:"Open in new tab",children:r.jsx(uy,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{className:"text-sm text-green-700 dark:text-green-400 space-y-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Yr,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:$(d.tokenData.expires_at)})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(js,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{children:["Downloads: ",d.tokenData.download_count," / ",d.tokenData.max_downloads]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ct,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{children:["Authorized for: ",a]})]})]})]})]})}):r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ve,{className:"h-6 w-6 text-red-600 dark:text-red-400 mr-3 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-300 mb-2",children:" Access Denied"}),r.jsx("p",{className:"text-red-700 dark:text-red-400 mb-4",children:d.reason}),r.jsxs("div",{className:"space-y-3",children:[((_=d.reason)==null?void 0:_.includes("expired"))&&!b&&r.jsxs("button",{onClick:()=>w(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(ra,{className:"h-4 w-4 mr-2"}),"Request New Download Links"]}),(((O=d.reason)==null?void 0:O.includes("email"))||((N=d.reason)==null?void 0:N.includes("authorized")))&&r.jsxs("button",{onClick:()=>{v(!0),u(null),n(""),k("")},className:"flex items-center px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700",children:[r.jsx(ct,{className:"h-4 w-4 mr-2"}),"Try Different Email"]}),((C=d.reason)==null?void 0:C.includes("Invalid"))&&r.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:r.jsxs("p",{className:"text-yellow-800 dark:text-yellow-300 text-sm",children:[" ",r.jsx("strong",{children:"Tip:"})," Make sure you're using the correct download link from your email. Links are case-sensitive and must be copied exactly."]})})]})]})]})})}),b&&r.jsxs("div",{className:"mb-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-blue-800 dark:text-blue-300 mb-4",children:"Request New Download Links"}),r.jsxs("form",{onSubmit:we,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Order ID ",(U=d==null?void 0:d.tokenData)!=null&&U.order_id?"(Auto-detected)":""]}),r.jsx("input",{type:"text",value:P.orderId,onChange:te=>A({...P,orderId:te.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter your order ID",readOnly:!!((W=d==null?void 0:d.tokenData)!=null&&W.order_id)}),((ee=d==null?void 0:d.tokenData)==null?void 0:ee.order_id)&&r.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:" Order ID automatically detected from your download link"}),!((ne=d==null?void 0:d.tokenData)!=null&&ne.order_id)&&r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"You can find your Order ID in the original email confirmation"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Your Name (Optional)"}),r.jsx("input",{type:"text",value:P.customerName,onChange:te=>A({...P,customerName:te.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Enter your name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Reason for Request"}),r.jsxs("select",{value:P.reason,onChange:te=>A({...P,reason:te.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",children:[r.jsx("option",{value:"expired_links",children:"Links have expired"}),r.jsx("option",{value:"lost_email",children:"Lost the original email"}),r.jsx("option",{value:"technical_issue",children:"Technical issue with download"}),r.jsx("option",{value:"other",children:"Other reason"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Additional Message (Optional)"}),r.jsx("textarea",{value:P.message,onChange:te=>A({...P,message:te.target.value}),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-700 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-900 dark:text-slate-200",placeholder:"Provide any additional details about your request..."})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"submit",disabled:L,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:L?r.jsxs(r.Fragment,{children:[r.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Submit Request"]})}),r.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-md hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancel"})]})]})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(aa,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-3 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[r.jsx("h4",{className:"font-medium mb-1",children:" Security Features"}),r.jsxs("ul",{className:"space-y-1 text-blue-700 dark:text-blue-400",children:[r.jsx("li",{children:" Download links are time-limited and email-specific"}),r.jsx("li",{children:" Links cannot be shared or forwarded to other users"}),r.jsx("li",{children:" All download attempts are logged for security"}),r.jsx("li",{children:" Email verification is required for each access"})]})]})]})}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Need help? Contact us at"," ",r.jsx("a",{href:"mailto:mohanselenophile@gmail.com",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"mohanselenophile@gmail.com"})]}),r.jsxs("div",{className:"mt-2 space-y-1",children:[((pe=d==null?void 0:d.tokenData)==null?void 0:pe.order_id)&&r.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Order ID: ",d.tokenData.order_id]}),e&&r.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Token: ",e.substring(0,8),"...",e.substring(e.length-8)]})]})]})]})})})},ur=({children:e})=>{const{isAuthenticated:t,loading:s}=Nr();return s?r.jsx("div",{className:"flex min-h-screen items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):t?r.jsx(r.Fragment,{children:e}):r.jsx(Bb,{to:"/admin/login",replace:!0})};function yj(){return r.jsx(Xb,{children:r.jsx(Uw,{children:r.jsx(rk,{children:r.jsx(Fw,{children:r.jsx(Bw,{children:r.jsxs("div",{className:"flex flex-col min-h-screen",children:[r.jsx(qw,{}),r.jsx("main",{className:"flex-grow",children:r.jsxs(Vb,{children:[r.jsx(st,{path:"/",element:r.jsx(sk,{})}),r.jsx(st,{path:"/projects",element:r.jsx(ak,{})}),r.jsx(st,{path:"/projects/:id",element:r.jsx(nk,{})}),r.jsx(st,{path:"/checkout/:id",element:r.jsx(Qk,{})}),r.jsx(st,{path:"/contact",element:r.jsx(Yk,{})}),r.jsx(st,{path:"/admin/login",element:r.jsx(Xk,{})}),r.jsx(st,{path:"/secure-download/:token",element:r.jsx(bj,{})}),r.jsx(st,{path:"/admin/login/verify-email-change",element:r.jsx(gj,{})}),r.jsx(st,{path:"/admin",element:r.jsx(ur,{children:r.jsx(Zk,{})})}),r.jsx(st,{path:"/admin/project-requests",element:r.jsx(ur,{children:r.jsx(aj,{})})}),r.jsx(st,{path:"/admin/projects",element:r.jsx(ur,{children:r.jsx(sj,{})})}),r.jsx(st,{path:"/admin/orders",element:r.jsx(ur,{children:r.jsx(nj,{})})}),r.jsx(st,{path:"/admin/download-requests",element:r.jsx(ur,{children:r.jsx(ij,{})})}),r.jsx(st,{path:"/admin/settings",element:r.jsx(ur,{children:r.jsx(oj,{})})}),r.jsx(st,{path:"/admin/email-change-example",element:r.jsx(ur,{children:r.jsx(fj,{})})}),r.jsx(st,{path:"/admin/email-change-audit",element:r.jsx(ur,{children:r.jsx(pj,{})})}),r.jsx(st,{path:"/admin/payments",element:r.jsx(ur,{children:r.jsx(xj,{})})})]})}),r.jsx(Vw,{})]})})})})})})}const vj=Xf("https://jqtcngcoxjkgfvjoxwgv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpxdGNuZ2NveGprZ2Z2am94d2d2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAwNTMzMTQsImV4cCI6MjA2NTYyOTMxNH0.ejqlmVNgg_dCtjmCYULbO__HpRoihzf752U4sjkumgo"),G0={"emerald-green":{"--color-primary":"#10b981","--color-primary-dark":"#047857","--color-secondary":"#34d399","--color-accent":"#065f46","--bg-primary":"#ecfdf5","--bg-secondary":"#d1fae5","--text-primary":"#065f46","--text-secondary":"#10b981"},default:{"--color-primary":"#b45309","--color-primary-dark":"#92400e","--color-secondary":"#a16207","--color-accent":"#78350f","--bg-primary":"#fef6e4","--bg-secondary":"#fde68a","--text-primary":"#78350f","--text-secondary":"#a16207"},"violet-indigo":{"--color-primary":"#6366f1","--color-primary-dark":"#4f46e5","--color-secondary":"#a78bfa","--color-accent":"#3730a3","--bg-primary":"#f5f3ff","--bg-secondary":"#ede9fe","--text-primary":"#3730a3","--text-secondary":"#6366f1"},"rose-magenta":{"--color-primary":"#ec4899","--color-primary-dark":"#a21caf","--color-secondary":"#f472b6","--color-accent":"#d946ef","--bg-primary":"#fdf2f8","--bg-secondary":"#fce7f3","--text-primary":"#a21caf","--text-secondary":"#ec4899"},"amber-caramel":{"--color-primary":"#fbbf24","--color-primary-dark":"#d97706","--color-secondary":"#f59e42","--color-accent":"#b45309","--bg-primary":"#fffbeb","--bg-secondary":"#fef3c7","--text-primary":"#78350f","--text-secondary":"#b45309"},"cool-cyan":{"--color-primary":"#06b6d4","--color-primary-dark":"#0e7490","--color-secondary":"#22d3ee","--color-accent":"#164e63","--bg-primary":"#ecfeff","--bg-secondary":"#cffafe","--text-primary":"#164e63","--text-secondary":"#06b6d4"},"copper-brown":{"--color-primary":"#b45309","--color-primary-dark":"#92400e","--color-secondary":"#a16207","--color-accent":"#78350f","--bg-primary":"#fef6e4","--bg-secondary":"#fde68a","--text-primary":"#78350f","--text-secondary":"#a16207"},"mint-lime":{"--color-primary":"#6ee7b7","--color-primary-dark":"#84cc16","--color-secondary":"#bef264","--color-accent":"#a7f3d0","--bg-primary":"#f7fee7","--bg-secondary":"#ecfccb","--text-primary":"#365314","--text-secondary":"#84cc16"},"sky-blue":{"--color-primary":"#0ea5e9","--color-primary-dark":"#0369a1","--color-secondary":"#7dd3fc","--color-accent":"#38bdf8","--bg-primary":"#f0f9ff","--bg-secondary":"#e0f2fe","--text-primary":"#0c4a6e","--text-secondary":"#0ea5e9"},"charcoal-orange":{"--color-primary":"#fb923c","--color-primary-dark":"#f59e42","--color-secondary":"#334155","--color-accent":"#1e293b","--bg-primary":"#f8fafc","--bg-secondary":"#f1f5f9","--text-primary":"#1e293b","--text-secondary":"#fb923c"},"platinum-aqua":{"--color-primary":"#06b6d4","--color-primary-dark":"#64748b","--color-secondary":"#a5f3fc","--color-accent":"#e5e7eb","--bg-primary":"#f0fdfa","--bg-secondary":"#e0f2fe","--text-primary":"#334155","--text-secondary":"#06b6d4"},"ruby-gold":{"--color-primary":"#be123c","--color-primary-dark":"#991b1b","--color-secondary":"#fbbf24","--color-accent":"#f59e42","--bg-primary":"#fff7ed","--bg-secondary":"#fef3c7","--text-primary":"#991b1b","--text-secondary":"#be123c"},"sunset-orange":{"--color-primary":"#ff7e5f","--color-primary-dark":"#d7263d","--color-secondary":"#feb47b","--color-accent":"#ff6a00","--bg-primary":"#fff5e6","--bg-secondary":"#ffe0b2","--text-primary":"#d7263d","--text-secondary":"#ff7e5f"},"deep-sea":{"--color-primary":"#003973","--color-primary-dark":"#005f73","--color-secondary":"#0a9396","--color-accent":"#e5e5be","--bg-primary":"#e0fbfc","--bg-secondary":"#c2e9fb","--text-primary":"#003973","--text-secondary":"#0a9396"},"forest-moss":{"--color-primary":"#355c3a","--color-primary-dark":"#6b8e23","--color-secondary":"#a7c957","--color-accent":"#b2ad7f","--bg-primary":"#f4f9e9","--bg-secondary":"#e9f5db","--text-primary":"#355c3a","--text-secondary":"#6b8e23"},"lavender-dream":{"--color-primary":"#b57edc","--color-primary-dark":"#a0ced9","--color-secondary":"#c3aed6","--color-accent":"#f7cac9","--bg-primary":"#f3e8ff","--bg-secondary":"#e9d8fd","--text-primary":"#6d597a","--text-secondary":"#b57edc"},"neon-night":{"--color-primary":"#00f0ff","--color-primary-dark":"#7c3aed","--color-secondary":"#ff00ea","--color-accent":"#0f172a","--bg-primary":"#18181b","--bg-secondary":"#27272a","--text-primary":"#00f0ff","--text-secondary":"#ff00ea"},"peachy-keen":{"--color-primary":"#ffb997","--color-primary-dark":"#f67e7d","--color-secondary":"#f6cd61","--color-accent":"#fff1cf","--bg-primary":"#fff7f0","--bg-secondary":"#ffe5d9","--text-primary":"#f67e7d","--text-secondary":"#ffb997"},"royal-sapphire":{"--color-primary":"#273c75","--color-primary-dark":"#192a56","--color-secondary":"#fbc531","--color-accent":"#e1b382","--bg-primary":"#f5f6fa","--bg-secondary":"#dff9fb","--text-primary":"#192a56","--text-secondary":"#fbc531"},"pearl-white":{"--color-primary":"#f8f8ff","--color-primary-dark":"#eaeaea","--color-secondary":"#d6d6d6","--color-accent":"#f5f3f0","--bg-primary":"#ffffff","--bg-secondary":"#f5f3f0","--text-primary":"#22223b","--text-secondary":"#a1a1aa"},"smoky-plum":{"--color-primary":"#4b2840","--color-primary-dark":"#212121","--color-secondary":"#6c3483","--color-accent":"#b388ff","--bg-primary":"#f3e6f5","--bg-secondary":"#e1bee7","--text-primary":"#212121","--text-secondary":"#6c3483"},"champagne-blush":{"--color-primary":"#f7cac9","--color-primary-dark":"#f9e4b7","--color-secondary":"#ffe5b4","--color-accent":"#f3e6e3","--bg-primary":"#fffaf3","--bg-secondary":"#f9e4b7","--text-primary":"#b08d57","--text-secondary":"#f7cac9"},"electric-coral":{"--color-primary":"#ff6f61","--color-primary-dark":"#ff3cac","--color-secondary":"#ffb86b","--color-accent":"#ff61a6","--bg-primary":"#fff0f6","--bg-secondary":"#ffe5ec","--text-primary":"#ff3cac","--text-secondary":"#ff6f61"},"cyber-lime":{"--color-primary":"#d0ff14","--color-primary-dark":"#00ffab","--color-secondary":"#b2ff59","--color-accent":"#c0c0c0","--bg-primary":"#f4fff8","--bg-secondary":"#eaffd0","--text-primary":"#00ffab","--text-secondary":"#d0ff14"},"volcanic-red":{"--color-primary":"#ff3c38","--color-primary-dark":"#d7263d","--color-secondary":"#ff8c42","--color-accent":"#ff5e13","--bg-primary":"#fff0eb","--bg-secondary":"#ffe5d0","--text-primary":"#d7263d","--text-secondary":"#ff3c38"},"hyper-violet":{"--color-primary":"#7c3aed","--color-primary-dark":"#3b0764","--color-secondary":"#00eaff","--color-accent":"#a21caf","--bg-primary":"#f3e8ff","--bg-secondary":"#e0e7ff","--text-primary":"#3b0764","--text-secondary":"#7c3aed"},"desert-clay":{"--color-primary":"#e2725b","--color-primary-dark":"#c97d60","--color-secondary":"#e1b382","--color-accent":"#f3e9dc","--bg-primary":"#f9f6f2","--bg-secondary":"#f3e9dc","--text-primary":"#c97d60","--text-secondary":"#e2725b"},"olive-grove":{"--color-primary":"#556b2f","--color-primary-dark":"#7c6f57","--color-secondary":"#a9a587","--color-accent":"#b2ad7f","--bg-primary":"#f6f5ee","--bg-secondary":"#e9e7da","--text-primary":"#7c6f57","--text-secondary":"#556b2f"},"autumn-bark":{"--color-primary":"#7c4700","--color-primary-dark":"#b4654a","--color-secondary":"#eab464","--color-accent":"#f6ae2d","--bg-primary":"#f9f6f2","--bg-secondary":"#f6ae2d","--text-primary":"#7c4700","--text-secondary":"#b4654a"},"mossy-stone":{"--color-primary":"#7a918d","--color-primary-dark":"#6b9080","--color-secondary":"#b2b1a7","--color-accent":"#a7c957","--bg-primary":"#eaf4f4","--bg-secondary":"#d6e5e3","--text-primary":"#6b9080","--text-secondary":"#7a918d"},"cotton-candy":{"--color-primary":"#fcbad3","--color-primary-dark":"#a1c6ea","--color-secondary":"#b5ead7","--color-accent":"#c7ceea","--bg-primary":"#f7faff","--bg-secondary":"#fcbad3","--text-primary":"#a1c6ea","--text-secondary":"#fcbad3"},"misty-dawn":{"--color-primary":"#ffe5b4","--color-primary-dark":"#c3aed6","--color-secondary":"#fff1cf","--color-accent":"#f7cac9","--bg-primary":"#fffaf3","--bg-secondary":"#fff1cf","--text-primary":"#c3aed6","--text-secondary":"#ffe5b4"},"powder-blue":{"--color-primary":"#b5d0ec","--color-primary-dark":"#a2d5f2","--color-secondary":"#e3f6fc","--color-accent":"#f6f7f9","--bg-primary":"#f6f7f9","--bg-secondary":"#e3f6fc","--text-primary":"#a2d5f2","--text-secondary":"#b5d0ec"},"whisper-gray":{"--color-primary":"#f5f3f0","--color-primary-dark":"#eaeaea","--color-secondary":"#f7cac9","--color-accent":"#d6d6d6","--bg-primary":"#f7f7fa","--bg-secondary":"#f5f3f0","--text-primary":"#eaeaea","--text-secondary":"#f5f3f0"},"midnight-noir":{"--color-primary":"#18181b","--color-primary-dark":"#22223b","--color-secondary":"#4a4e69","--color-accent":"#9a8c98","--bg-primary":"#18181b","--bg-secondary":"#22223b","--text-primary":"#f2e9e4","--text-secondary":"#9a8c98"},"vampire-wine":{"--color-primary":"#6a0572","--color-primary-dark":"#2e003e","--color-secondary":"#ab2346","--color-accent":"#a83232","--bg-primary":"#2e003e","--bg-secondary":"#6a0572","--text-primary":"#f2e9e4","--text-secondary":"#ab2346"},"obsidian-green":{"--color-primary":"#0b3d20","--color-primary-dark":"#14532d","--color-secondary":"#1a4d2e","--color-accent":"#00ffab","--bg-primary":"#18181b","--bg-secondary":"#14532d","--text-primary":"#00ffab","--text-secondary":"#0b3d20"},"shadow-plum":{"--color-primary":"#3d315b","--color-primary-dark":"#444554","--color-secondary":"#6c3483","--color-accent":"#b388ff","--bg-primary":"#22223b","--bg-secondary":"#3d315b","--text-primary":"#b388ff","--text-secondary":"#3d315b"},"70s-mustard":{"--color-primary":"#e1ad01","--color-primary-dark":"#ff8800","--color-secondary":"#ffb627","--color-accent":"#ffcb9a","--bg-primary":"#fffbe6","--bg-secondary":"#ffcb9a","--text-primary":"#e1ad01","--text-secondary":"#ff8800"},"80s-neon":{"--color-primary":"#ff00c8","--color-primary-dark":"#00eaff","--color-secondary":"#fff700","--color-accent":"#ff61a6","--bg-primary":"#fff0f6","--bg-secondary":"#ffe5ec","--text-primary":"#00eaff","--text-secondary":"#ff00c8"},"90s-denim":{"--color-primary":"#3b5998","--color-primary-dark":"#8b9dc3","--color-secondary":"#dfe3ee","--color-accent":"#f7cac9","--bg-primary":"#f6f7f9","--bg-secondary":"#dfe3ee","--text-primary":"#3b5998","--text-secondary":"#8b9dc3"},"mid-century-teal":{"--color-primary":"#008080","--color-primary-dark":"#b5651d","--color-secondary":"#e0a899","--color-accent":"#f4e285","--bg-primary":"#f4f9f4","--bg-secondary":"#e0a899","--text-primary":"#b5651d","--text-secondary":"#008080"}};async function wj(){const{data:e}=await vj.from("global_settings").select("setting_value").eq("setting_key","global_color_theme").single();let t="default";if(e&&e.setting_value)try{t=JSON.parse(e.setting_value)}catch{}window.__GLOBAL_PALETTE__=t;const s=localStorage.getItem("marketplace_settings");if(s)try{const n=JSON.parse(s);(!n.colorPalette||n.colorPalette==="default"||n.colorPalette==="copper-brown")&&(n.colorPalette=t,localStorage.setItem("marketplace_settings",JSON.stringify(n)))}catch{localStorage.setItem("marketplace_settings",JSON.stringify({colorPalette:t}))}else localStorage.setItem("marketplace_settings",JSON.stringify({colorPalette:t}));const a=G0[t]||G0.default;if(a){for(const n in a)document.documentElement.style.setProperty(n,a[n]);document.body.classList.add("palette-"+t)}window.dispatchEvent(new CustomEvent("globalPaletteApplied",{detail:{palette:t}})),setTimeout(()=>{window.updateFaviconColor&&(console.log(" Triggering favicon update from main.tsx"),window.updateFaviconColor())},100)}wj().then(()=>{const e=document.getElementById("palette-loader"),t=document.getElementById("root");e&&(e.style.display="none"),t&&(t.style.display="",cf(t).render(r.jsx(g.StrictMode,{children:r.jsx(yj,{})})))});export{J0 as g};
